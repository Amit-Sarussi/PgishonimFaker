(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function rE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function iE(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var n=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(o){var s=Object.getOwnPropertyDescriptor(r,o);Object.defineProperty(n,o,s.get?s:{enumerable:!0,get:function(){return r[o]}})}),n}var xf={exports:{}},ya={},kf={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function oE(){if(dm)return He;dm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,U={};function F(M,J,ye){this.props=M,this.context=J,this.refs=U,this.updater=ye||I}F.prototype.isReactComponent={},F.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},F.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function H(){}H.prototype=F.prototype;function ne(M,J,ye){this.props=M,this.context=J,this.refs=U,this.updater=ye||I}var ie=ne.prototype=new H;ie.constructor=ne,N(ie,F.prototype),ie.isPureReactComponent=!0;var me=Array.isArray,z=Object.prototype.hasOwnProperty,de={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function R(M,J,ye){var Le,Me={},$e=null,We=null;if(J!=null)for(Le in J.ref!==void 0&&(We=J.ref),J.key!==void 0&&($e=""+J.key),J)z.call(J,Le)&&!V.hasOwnProperty(Le)&&(Me[Le]=J[Le]);var tt=arguments.length-2;if(tt===1)Me.children=ye;else if(1<tt){for(var je=Array(tt),dt=0;dt<tt;dt++)je[dt]=arguments[dt+2];Me.children=je}if(M&&M.defaultProps)for(Le in tt=M.defaultProps,tt)Me[Le]===void 0&&(Me[Le]=tt[Le]);return{$$typeof:r,type:M,key:$e,ref:We,props:Me,_owner:de.current}}function A(M,J){return{$$typeof:r,type:M.type,key:J,ref:M.ref,props:M.props,_owner:M._owner}}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function x(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ye){return J[ye]})}var k=/\/+/g;function C(M,J){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):J.toString(36)}function le(M,J,ye,Le,Me){var $e=typeof M;($e==="undefined"||$e==="boolean")&&(M=null);var We=!1;if(M===null)We=!0;else switch($e){case"string":case"number":We=!0;break;case"object":switch(M.$$typeof){case r:case e:We=!0}}if(We)return We=M,Me=Me(We),M=Le===""?"."+C(We,0):Le,me(Me)?(ye="",M!=null&&(ye=M.replace(k,"$&/")+"/"),le(Me,J,ye,"",function(dt){return dt})):Me!=null&&(D(Me)&&(Me=A(Me,ye+(!Me.key||We&&We.key===Me.key?"":(""+Me.key).replace(k,"$&/")+"/")+M)),J.push(Me)),1;if(We=0,Le=Le===""?".":Le+":",me(M))for(var tt=0;tt<M.length;tt++){$e=M[tt];var je=Le+C($e,tt);We+=le($e,J,ye,je,Me)}else if(je=T(M),typeof je=="function")for(M=je.call(M),tt=0;!($e=M.next()).done;)$e=$e.value,je=Le+C($e,tt++),We+=le($e,J,ye,je,Me);else if($e==="object")throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return We}function te(M,J,ye){if(M==null)return M;var Le=[],Me=0;return le(M,Le,"","",function($e){return J.call(ye,$e,Me++)}),Le}function xe(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(ye){(M._status===0||M._status===-1)&&(M._status=1,M._result=ye)},function(ye){(M._status===0||M._status===-1)&&(M._status=2,M._result=ye)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var q={current:null},G={transition:null},fe={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:G,ReactCurrentOwner:de};function oe(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:te,forEach:function(M,J,ye){te(M,function(){J.apply(this,arguments)},ye)},count:function(M){var J=0;return te(M,function(){J++}),J},toArray:function(M){return te(M,function(J){return J})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},He.Component=F,He.Fragment=n,He.Profiler=s,He.PureComponent=ne,He.StrictMode=o,He.Suspense=g,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,He.act=oe,He.cloneElement=function(M,J,ye){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Le=N({},M.props),Me=M.key,$e=M.ref,We=M._owner;if(J!=null){if(J.ref!==void 0&&($e=J.ref,We=de.current),J.key!==void 0&&(Me=""+J.key),M.type&&M.type.defaultProps)var tt=M.type.defaultProps;for(je in J)z.call(J,je)&&!V.hasOwnProperty(je)&&(Le[je]=J[je]===void 0&&tt!==void 0?tt[je]:J[je])}var je=arguments.length-2;if(je===1)Le.children=ye;else if(1<je){tt=Array(je);for(var dt=0;dt<je;dt++)tt[dt]=arguments[dt+2];Le.children=tt}return{$$typeof:r,type:M.type,key:Me,ref:$e,props:Le,_owner:We}},He.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},He.createElement=R,He.createFactory=function(M){var J=R.bind(null,M);return J.type=M,J},He.createRef=function(){return{current:null}},He.forwardRef=function(M){return{$$typeof:h,render:M}},He.isValidElement=D,He.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:xe}},He.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},He.startTransition=function(M){var J=G.transition;G.transition={};try{M()}finally{G.transition=J}},He.unstable_act=oe,He.useCallback=function(M,J){return q.current.useCallback(M,J)},He.useContext=function(M){return q.current.useContext(M)},He.useDebugValue=function(){},He.useDeferredValue=function(M){return q.current.useDeferredValue(M)},He.useEffect=function(M,J){return q.current.useEffect(M,J)},He.useId=function(){return q.current.useId()},He.useImperativeHandle=function(M,J,ye){return q.current.useImperativeHandle(M,J,ye)},He.useInsertionEffect=function(M,J){return q.current.useInsertionEffect(M,J)},He.useLayoutEffect=function(M,J){return q.current.useLayoutEffect(M,J)},He.useMemo=function(M,J){return q.current.useMemo(M,J)},He.useReducer=function(M,J,ye){return q.current.useReducer(M,J,ye)},He.useRef=function(M){return q.current.useRef(M)},He.useState=function(M){return q.current.useState(M)},He.useSyncExternalStore=function(M,J,ye){return q.current.useSyncExternalStore(M,J,ye)},He.useTransition=function(){return q.current.useTransition()},He.version="18.3.1",He}var pm;function za(){return pm||(pm=1,kf.exports=oE()),kf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function sE(){if(mm)return ya;mm=1;var r=za(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function f(h,g,y){var _,w={},T=null,I=null;y!==void 0&&(T=""+y),g.key!==void 0&&(T=""+g.key),g.ref!==void 0&&(I=g.ref);for(_ in g)o.call(g,_)&&!l.hasOwnProperty(_)&&(w[_]=g[_]);if(h&&h.defaultProps)for(_ in g=h.defaultProps,g)w[_]===void 0&&(w[_]=g[_]);return{$$typeof:e,type:h,key:T,ref:I,props:w,_owner:s.current}}return ya.Fragment=n,ya.jsx=f,ya.jsxs=f,ya}var gm;function aE(){return gm||(gm=1,xf.exports=sE()),xf.exports}var Ae=aE(),X=za(),nu={},Df={exports:{}},An={},Nf={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function lE(){return ym||(ym=1,function(r){function e(G,fe){var oe=G.length;G.push(fe);e:for(;0<oe;){var M=oe-1>>>1,J=G[M];if(0<s(J,fe))G[M]=fe,G[oe]=J,oe=M;else break e}}function n(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var fe=G[0],oe=G.pop();if(oe!==fe){G[0]=oe;e:for(var M=0,J=G.length,ye=J>>>1;M<ye;){var Le=2*(M+1)-1,Me=G[Le],$e=Le+1,We=G[$e];if(0>s(Me,oe))$e<J&&0>s(We,Me)?(G[M]=We,G[$e]=oe,M=$e):(G[M]=Me,G[Le]=oe,M=Le);else if($e<J&&0>s(We,oe))G[M]=We,G[$e]=oe,M=$e;else break e}}return fe}function s(G,fe){var oe=G.sortIndex-fe.sortIndex;return oe!==0?oe:G.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var f=Date,h=f.now();r.unstable_now=function(){return f.now()-h}}var g=[],y=[],_=1,w=null,T=3,I=!1,N=!1,U=!1,F=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(G){for(var fe=n(y);fe!==null;){if(fe.callback===null)o(y);else if(fe.startTime<=G)o(y),fe.sortIndex=fe.expirationTime,e(g,fe);else break;fe=n(y)}}function me(G){if(U=!1,ie(G),!N)if(n(g)!==null)N=!0,xe(z);else{var fe=n(y);fe!==null&&q(me,fe.startTime-G)}}function z(G,fe){N=!1,U&&(U=!1,H(R),R=-1),I=!0;var oe=T;try{for(ie(fe),w=n(g);w!==null&&(!(w.expirationTime>fe)||G&&!x());){var M=w.callback;if(typeof M=="function"){w.callback=null,T=w.priorityLevel;var J=M(w.expirationTime<=fe);fe=r.unstable_now(),typeof J=="function"?w.callback=J:w===n(g)&&o(g),ie(fe)}else o(g);w=n(g)}if(w!==null)var ye=!0;else{var Le=n(y);Le!==null&&q(me,Le.startTime-fe),ye=!1}return ye}finally{w=null,T=oe,I=!1}}var de=!1,V=null,R=-1,A=5,D=-1;function x(){return!(r.unstable_now()-D<A)}function k(){if(V!==null){var G=r.unstable_now();D=G;var fe=!0;try{fe=V(!0,G)}finally{fe?C():(de=!1,V=null)}}else de=!1}var C;if(typeof ne=="function")C=function(){ne(k)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,te=le.port2;le.port1.onmessage=k,C=function(){te.postMessage(null)}}else C=function(){F(k,0)};function xe(G){V=G,de||(de=!0,C())}function q(G,fe){R=F(function(){G(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){N||I||(N=!0,xe(z))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_getFirstCallbackNode=function(){return n(g)},r.unstable_next=function(G){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var oe=T;T=fe;try{return G()}finally{T=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,fe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var oe=T;T=G;try{return fe()}finally{T=oe}},r.unstable_scheduleCallback=function(G,fe,oe){var M=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?M+oe:M):oe=M,G){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=oe+J,G={id:_++,callback:fe,priorityLevel:G,startTime:oe,expirationTime:J,sortIndex:-1},oe>M?(G.sortIndex=oe,e(y,G),n(g)===null&&G===n(y)&&(U?(H(R),R=-1):U=!0,q(me,oe-M))):(G.sortIndex=J,e(g,G),N||I||(N=!0,xe(z))),G},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(G){var fe=T;return function(){var oe=T;T=fe;try{return G.apply(this,arguments)}finally{T=oe}}}}(Vf)),Vf}var vm;function uE(){return vm||(vm=1,Nf.exports=lE()),Nf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function cE(){if(_m)return An;_m=1;var r=za(),e=uE();function n(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(t,i){f(t,i),f(t+"Capture",i)}function f(t,i){for(s[t]=i,t=0;t<i.length;t++)o.add(i[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function T(t){return g.call(w,t)?!0:g.call(_,t)?!1:y.test(t)?w[t]=!0:(_[t]=!0,!1)}function I(t,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N(t,i,a,c){if(i===null||typeof i>"u"||I(t,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function U(t,i,a,c,d,m,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=t,this.type=i,this.sanitizeURL=m,this.removeEmptyString=E}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){F[t]=new U(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];F[i]=new U(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){F[t]=new U(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){F[t]=new U(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){F[t]=new U(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){F[t]=new U(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){F[t]=new U(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){F[t]=new U(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){F[t]=new U(t,5,!1,t.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function ne(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(H,ne);F[i]=new U(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(H,ne);F[i]=new U(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(H,ne);F[i]=new U(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){F[t]=new U(t,1,!1,t.toLowerCase(),null,!1,!1)}),F.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){F[t]=new U(t,1,!1,t.toLowerCase(),null,!0,!0)});function ie(t,i,a,c){var d=F.hasOwnProperty(i)?F[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(N(i,a,d,c)&&(a=null),c||d===null?T(i)&&(a===null?t.removeAttribute(i):t.setAttribute(i,""+a)):d.mustUseProperty?t[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?t.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?t.setAttributeNS(c,i,a):t.setAttribute(i,a))))}var me=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),de=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),G=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,M;function J(t){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+t}var ye=!1;function Le(t,i){if(!t||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(K){var c=K}Reflect.construct(t,[],i)}else{try{i.call()}catch(K){c=K}t.call(i.prototype)}else{try{throw Error()}catch(K){c=K}t()}}catch(K){if(K&&c&&typeof K.stack=="string"){for(var d=K.stack.split(`
`),m=c.stack.split(`
`),E=d.length-1,P=m.length-1;1<=E&&0<=P&&d[E]!==m[P];)P--;for(;1<=E&&0<=P;E--,P--)if(d[E]!==m[P]){if(E!==1||P!==1)do if(E--,P--,0>P||d[E]!==m[P]){var L=`
`+d[E].replace(" at new "," at ");return t.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",t.displayName)),L}while(1<=E&&0<=P);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?J(t):""}function Me(t){switch(t.tag){case 5:return J(t.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return t=Le(t.type,!1),t;case 11:return t=Le(t.type.render,!1),t;case 1:return t=Le(t.type,!0),t;default:return""}}function $e(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case de:return"Portal";case A:return"Profiler";case R:return"StrictMode";case C:return"Suspense";case le:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x:return(t.displayName||"Context")+".Consumer";case D:return(t._context.displayName||"Context")+".Provider";case k:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case te:return i=t.displayName||null,i!==null?i:$e(t.type)||"Memo";case xe:i=t._payload,t=t._init;try{return $e(t(i))}catch{}}return null}function We(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(i);case 8:return i===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function tt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function dt(t){var i=je(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(E){c=""+E,m.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Fn(t){t._valueTracker||(t._valueTracker=dt(t))}function di(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return t&&(c=je(t)?t.checked?"true":"false":t.value),t=c,t!==a?(i.setValue(t),!0):!1}function tn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Br(t,i){var a=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function pi(t,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=tt(i.value!=null?i.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function mi(t,i){i=i.checked,i!=null&&ie(t,"checked",i,!1)}function io(t,i){mi(t,i);var a=tt(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?gi(t,i.type,a):i.hasOwnProperty("defaultValue")&&gi(t,i.type,tt(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Uo(t,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,a||i===t.value||(t.value=i),t.defaultValue=i}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function gi(t,i,a){(i!=="number"||tn(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Yn=Array.isArray;function Ht(t,i,a,c){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&c&&(t[a].defaultSelected=!0)}else{for(a=""+tt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Xn(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $r(t,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(Yn(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}t._wrapperState={initialValue:tt(a)}}function Er(t,i){var a=tt(i.value),c=tt(i.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),i.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function yn(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function ut(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rt(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?ut(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xn,oo=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return t(i,a,c,d)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(xn=xn||document.createElement("div"),xn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=xn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function qt(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tr=["Webkit","ms","Moz","O"];Object.keys(wr).forEach(function(t){Tr.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),wr[i]=wr[t]})});function yi(t,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||wr.hasOwnProperty(t)&&wr[t]?(""+i).trim():i+"px"}function so(t,i){t=t.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=yi(a,i[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,d):t[a]=d}}var vi=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sr(t,i){if(i){if(vi[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function _i(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jn=null;function Ei(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hr=null,vn=null,kn=null;function Zn(t){if(t=na(t)){if(typeof Hr!="function")throw Error(n(280));var i=t.stateNode;i&&(i=yl(i),Hr(t.stateNode,t.type,i))}}function hn(t){vn?kn?kn.push(t):kn=[t]:vn=t}function ao(){if(vn){var t=vn,i=kn;if(kn=vn=null,Zn(t),i)for(t=0;t<i.length;t++)Zn(i[t])}}function qr(t,i){return t(i)}function O(){}var j=!1;function Q(t,i,a){if(j)return t(i,a);j=!0;try{return qr(t,i,a)}finally{j=!1,(vn!==null||kn!==null)&&(O(),ao())}}function Z(t,i){var a=t.stateNode;if(a===null)return null;var c=yl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var ge=!1;if(h)try{var we={};Object.defineProperty(we,"passive",{get:function(){ge=!0}}),window.addEventListener("test",we,we),window.removeEventListener("test",we,we)}catch{ge=!1}function ke(t,i,a,c,d,m,E,P,L){var K=Array.prototype.slice.call(arguments,3);try{i.apply(a,K)}catch(se){this.onError(se)}}var ve=!1,Se=null,he=!1,Oe=null,Be={onError:function(t){ve=!0,Se=t}};function ot(t,i,a,c,d,m,E,P,L){ve=!1,Se=null,ke.apply(Be,arguments)}function It(t,i,a,c,d,m,E,P,L){if(ot.apply(this,arguments),ve){if(ve){var K=Se;ve=!1,Se=null}else throw Error(n(198));he||(he=!0,Oe=K)}}function Ke(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function nt(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function st(t){if(Ke(t)!==t)throw Error(n(188))}function er(t){var i=t.alternate;if(!i){if(i=Ke(t),i===null)throw Error(n(188));return i!==t?null:t}for(var a=t,c=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return st(d),t;if(m===c)return st(d),i;m=m.sibling}throw Error(n(188))}if(a.return!==c.return)a=d,c=m;else{for(var E=!1,P=d.child;P;){if(P===a){E=!0,a=d,c=m;break}if(P===c){E=!0,c=d,a=m;break}P=P.sibling}if(!E){for(P=m.child;P;){if(P===a){E=!0,a=m,c=d;break}if(P===c){E=!0,c=m,a=d;break}P=P.sibling}if(!E)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?t:i}function tr(t){return t=er(t),t!==null?nn(t):null}function nn(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=nn(t);if(i!==null)return i;t=t.sibling}return null}var Wt=e.unstable_scheduleCallback,Wr=e.unstable_cancelCallback,Rr=e.unstable_shouldYield,nr=e.unstable_requestPaint,at=e.unstable_now,Kr=e.unstable_getCurrentPriorityLevel,Xe=e.unstable_ImmediatePriority,pt=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,rr=e.unstable_LowPriority,mt=e.unstable_IdlePriority,_n=null,rn=null;function zo(t){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(_n,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Ga,zs=Math.log,Qa=Math.LN2;function Ga(t){return t>>>=0,t===0?32:31-(zs(t)/Qa|0)|0}var jo=64,Bo=4194304;function wi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lo(t,i){var a=t.pendingLanes;if(a===0)return 0;var c=0,d=t.suspendedLanes,m=t.pingedLanes,E=a&268435455;if(E!==0){var P=E&~d;P!==0?c=wi(P):(m&=E,m!==0&&(c=wi(m)))}else E=a&~d,E!==0?c=wi(E):m!==0&&(c=wi(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=c;0<i;)a=31-dn(i),d=1<<a,c|=t[a],i&=~d;return c}function ic(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qr(t,i){for(var a=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes;0<m;){var E=31-dn(m),P=1<<E,L=d[E];L===-1?(!(P&a)||P&c)&&(d[E]=ic(P,i)):L<=i&&(t.expiredLanes|=P),m&=~P}}function Dn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uo(){var t=jo;return jo<<=1,!(jo&4194240)&&(jo=64),t}function Ti(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Si(t,i,a){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-dn(i),t[i]=a}function ft(t,i){var a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var d=31-dn(a),m=1<<d;i[d]=0,c[d]=-1,t[d]=-1,a&=~m}}function Ri(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var c=31-dn(a),d=1<<c;d&i|t[c]&i&&(t[c]|=i),a&=~d}}var Qe=0;function Ii(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ya,$o,Xa,Ja,Za,js=!1,Ir=[],Qt=null,ir=null,or=null,Ci=new Map,Un=new Map,Cr=[],oc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function el(t,i){switch(t){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Ci.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(i.pointerId)}}function En(t,i,a,c,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=na(i),i!==null&&$o(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function sc(t,i,a,c,d){switch(i){case"focusin":return Qt=En(Qt,t,i,a,c,d),!0;case"dragenter":return ir=En(ir,t,i,a,c,d),!0;case"mouseover":return or=En(or,t,i,a,c,d),!0;case"pointerover":var m=d.pointerId;return Ci.set(m,En(Ci.get(m)||null,t,i,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,Un.set(m,En(Un.get(m)||null,t,i,a,c,d)),!0}return!1}function tl(t){var i=mo(t.target);if(i!==null){var a=Ke(i);if(a!==null){if(i=a.tag,i===13){if(i=nt(a),i!==null){t.blockedOn=i,Za(t.priority,function(){Xa(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gr(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ho(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Jn=c,a.target.dispatchEvent(c),Jn=null}else return i=na(a),i!==null&&$o(i),t.blockedOn=a,!1;i.shift()}return!0}function co(t,i,a){Gr(t)&&a.delete(i)}function nl(){js=!1,Qt!==null&&Gr(Qt)&&(Qt=null),ir!==null&&Gr(ir)&&(ir=null),or!==null&&Gr(or)&&(or=null),Ci.forEach(co),Un.forEach(co)}function sr(t,i){t.blockedOn===i&&(t.blockedOn=null,js||(js=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nl)))}function ar(t){function i(d){return sr(d,t)}if(0<Ir.length){sr(Ir[0],t);for(var a=1;a<Ir.length;a++){var c=Ir[a];c.blockedOn===t&&(c.blockedOn=null)}}for(Qt!==null&&sr(Qt,t),ir!==null&&sr(ir,t),or!==null&&sr(or,t),Ci.forEach(i),Un.forEach(i),a=0;a<Cr.length;a++)c=Cr[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<Cr.length&&(a=Cr[0],a.blockedOn===null);)tl(a),a.blockedOn===null&&Cr.shift()}var Yr=me.ReactCurrentBatchConfig,Ai=!0;function vt(t,i,a,c){var d=Qe,m=Yr.transition;Yr.transition=null;try{Qe=1,Bs(t,i,a,c)}finally{Qe=d,Yr.transition=m}}function ac(t,i,a,c){var d=Qe,m=Yr.transition;Yr.transition=null;try{Qe=4,Bs(t,i,a,c)}finally{Qe=d,Yr.transition=m}}function Bs(t,i,a,c){if(Ai){var d=Ho(t,i,a,c);if(d===null)vc(t,i,c,fo,a),el(t,c);else if(sc(d,t,i,a,c))c.stopPropagation();else if(el(t,c),i&4&&-1<oc.indexOf(t)){for(;d!==null;){var m=na(d);if(m!==null&&Ya(m),m=Ho(t,i,a,c),m===null&&vc(t,i,c,fo,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else vc(t,i,c,null,a)}}var fo=null;function Ho(t,i,a,c){if(fo=null,t=Ei(c),t=mo(t),t!==null)if(i=Ke(t),i===null)t=null;else if(a=i.tag,a===13){if(t=nt(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return fo=t,null}function $s(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kr()){case Xe:return 1;case pt:return 4;case Kt:case rr:return 16;case mt:return 536870912;default:return 16}default:return 16}}var Nn=null,qo=null,wn=null;function Hs(){if(wn)return wn;var t,i=qo,a=i.length,c,d="value"in Nn?Nn.value:Nn.textContent,m=d.length;for(t=0;t<a&&i[t]===d[t];t++);var E=a-t;for(c=1;c<=E&&i[a-c]===d[m-c];c++);return wn=d.slice(t,1<c?1-c:void 0)}function Wo(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ar(){return!0}function qs(){return!1}function Gt(t){function i(a,c,d,m,E){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var P in t)t.hasOwnProperty(P)&&(a=t[P],this[P]=a?a(m):m[P]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ar:qs,this.isPropagationStopped=qs,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),i}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ko=Gt(lr),Pr=oe({},lr,{view:0,detail:0}),lc=Gt(Pr),Qo,Xr,Pi,ho=oe({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pi&&(Pi&&t.type==="mousemove"?(Qo=t.screenX-Pi.screenX,Xr=t.screenY-Pi.screenY):Xr=Qo=0,Pi=t),Qo)},movementY:function(t){return"movementY"in t?t.movementY:Xr}}),Go=Gt(ho),Ws=oe({},ho,{dataTransfer:0}),rl=Gt(Ws),Yo=oe({},Pr,{relatedTarget:0}),Xo=Gt(Yo),il=oe({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jr=Gt(il),ol=oe({},lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sl=Gt(ol),al=oe({},lr,{data:0}),Ks=Gt(al),Jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ll={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ll[t])?!!i[t]:!1}function xr(){return ul}var u=oe({},Pr,{key:function(t){if(t.key){var i=Jo[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Wo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?Wo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p=Gt(u),v=oe({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Gt(v),B=oe({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),Y=Gt(B),pe=oe({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=Gt(pe),Nt=oe({},ho,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Je=Gt(Nt),Ft=[9,13,27,32],xt=h&&"CompositionEvent"in window,zn=null;h&&"documentMode"in document&&(zn=document.documentMode);var Vn=h&&"TextEvent"in window&&!zn,po=h&&(!xt||zn&&8<zn&&11>=zn),Zo=" ",ad=!1;function ld(t,i){switch(t){case"keyup":return Ft.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ud(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var es=!1;function t_(t,i){switch(t){case"compositionend":return ud(i);case"keypress":return i.which!==32?null:(ad=!0,Zo);case"textInput":return t=i.data,t===Zo&&ad?null:t;default:return null}}function n_(t,i){if(es)return t==="compositionend"||!xt&&ld(t,i)?(t=Hs(),wn=qo=Nn=null,es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return po&&i.locale!=="ko"?null:i.data;default:return null}}var r_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!r_[t.type]:i==="textarea"}function fd(t,i,a,c){hn(c),i=pl(i,"onChange"),0<i.length&&(a=new Ko("onChange","change",null,a,c),t.push({event:a,listeners:i}))}var Qs=null,Gs=null;function i_(t){xd(t,0)}function cl(t){var i=os(t);if(di(i))return t}function o_(t,i){if(t==="change")return i}var hd=!1;if(h){var uc;if(h){var cc="oninput"in document;if(!cc){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),cc=typeof dd.oninput=="function"}uc=cc}else uc=!1;hd=uc&&(!document.documentMode||9<document.documentMode)}function pd(){Qs&&(Qs.detachEvent("onpropertychange",md),Gs=Qs=null)}function md(t){if(t.propertyName==="value"&&cl(Gs)){var i=[];fd(i,Gs,t,Ei(t)),Q(i_,i)}}function s_(t,i,a){t==="focusin"?(pd(),Qs=i,Gs=a,Qs.attachEvent("onpropertychange",md)):t==="focusout"&&pd()}function a_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cl(Gs)}function l_(t,i){if(t==="click")return cl(i)}function u_(t,i){if(t==="input"||t==="change")return cl(i)}function c_(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ur=typeof Object.is=="function"?Object.is:c_;function Ys(t,i){if(ur(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(i,d)||!ur(t[d],i[d]))return!1}return!0}function gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yd(t,i){var a=gd(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=i&&c>=i)return{node:a,offset:i-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gd(a)}}function vd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?vd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function _d(){for(var t=window,i=tn();i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=tn(t.document)}return i}function fc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function f_(t){var i=_d(),a=t.focusedElem,c=t.selectionRange;if(i!==a&&a&&a.ownerDocument&&vd(a.ownerDocument.documentElement,a)){if(c!==null&&fc(a)){if(i=c.start,t=c.end,t===void 0&&(t=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(t,a.value.length);else if(t=(i=a.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!t.extend&&m>c&&(d=c,c=m,m=d),d=yd(a,m);var E=yd(a,c);d&&E&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==E.node||t.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),t.removeAllRanges(),m>c?(t.addRange(i),t.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),t.addRange(i)))}}for(i=[],t=a;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)t=i[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h_=h&&"documentMode"in document&&11>=document.documentMode,ts=null,hc=null,Xs=null,dc=!1;function Ed(t,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dc||ts==null||ts!==tn(c)||(c=ts,"selectionStart"in c&&fc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xs&&Ys(Xs,c)||(Xs=c,c=pl(hc,"onSelect"),0<c.length&&(i=new Ko("onSelect","select",null,i,a),t.push({event:i,listeners:c}),i.target=ts)))}function fl(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ns={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionend:fl("Transition","TransitionEnd")},pc={},wd={};h&&(wd=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function hl(t){if(pc[t])return pc[t];if(!ns[t])return t;var i=ns[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in wd)return pc[t]=i[a];return t}var Td=hl("animationend"),Sd=hl("animationiteration"),Rd=hl("animationstart"),Id=hl("transitionend"),Cd=new Map,Ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(t,i){Cd.set(t,i),l(i,[t])}for(var mc=0;mc<Ad.length;mc++){var gc=Ad[mc],d_=gc.toLowerCase(),p_=gc[0].toUpperCase()+gc.slice(1);xi(d_,"on"+p_)}xi(Td,"onAnimationEnd"),xi(Sd,"onAnimationIteration"),xi(Rd,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(Id,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function Pd(t,i,a){var c=t.type||"unknown-event";t.currentTarget=a,It(c,i,void 0,t),t.currentTarget=null}function xd(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var E=c.length-1;0<=E;E--){var P=c[E],L=P.instance,K=P.currentTarget;if(P=P.listener,L!==m&&d.isPropagationStopped())break e;Pd(d,P,K),m=L}else for(E=0;E<c.length;E++){if(P=c[E],L=P.instance,K=P.currentTarget,P=P.listener,L!==m&&d.isPropagationStopped())break e;Pd(d,P,K),m=L}}}if(he)throw t=Oe,he=!1,Oe=null,t}function gt(t,i){var a=i[Rc];a===void 0&&(a=i[Rc]=new Set);var c=t+"__bubble";a.has(c)||(kd(i,t,2,!1),a.add(c))}function yc(t,i,a){var c=0;i&&(c|=4),kd(a,t,c,i)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Zs(t){if(!t[dl]){t[dl]=!0,o.forEach(function(a){a!=="selectionchange"&&(m_.has(a)||yc(a,!1,t),yc(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[dl]||(i[dl]=!0,yc("selectionchange",!1,i))}}function kd(t,i,a,c){switch($s(i)){case 1:var d=vt;break;case 4:d=ac;break;default:d=Bs}a=d.bind(null,i,a,t),d=void 0,!ge||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function vc(t,i,a,c,d){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var P=c.stateNode.containerInfo;if(P===d||P.nodeType===8&&P.parentNode===d)break;if(E===4)for(E=c.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===d||L.nodeType===8&&L.parentNode===d))return;E=E.return}for(;P!==null;){if(E=mo(P),E===null)return;if(L=E.tag,L===5||L===6){c=m=E;continue e}P=P.parentNode}}c=c.return}Q(function(){var K=m,se=Ei(a),ue=[];e:{var re=Cd.get(t);if(re!==void 0){var _e=Ko,Re=t;switch(t){case"keypress":if(Wo(a)===0)break e;case"keydown":case"keyup":_e=p;break;case"focusin":Re="focus",_e=Xo;break;case"focusout":Re="blur",_e=Xo;break;case"beforeblur":case"afterblur":_e=Xo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=rl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=Y;break;case Td:case Sd:case Rd:_e=Jr;break;case Id:_e=ct;break;case"scroll":_e=lc;break;case"wheel":_e=Je;break;case"copy":case"cut":case"paste":_e=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=S}var Ie=(i&4)!==0,At=!Ie&&t==="scroll",$=Ie?re!==null?re+"Capture":null:re;Ie=[];for(var b=K,W;b!==null;){W=b;var ce=W.stateNode;if(W.tag===5&&ce!==null&&(W=ce,$!==null&&(ce=Z(b,$),ce!=null&&Ie.push(ea(b,ce,W)))),At)break;b=b.return}0<Ie.length&&(re=new _e(re,Re,null,a,se),ue.push({event:re,listeners:Ie}))}}if(!(i&7)){e:{if(re=t==="mouseover"||t==="pointerover",_e=t==="mouseout"||t==="pointerout",re&&a!==Jn&&(Re=a.relatedTarget||a.fromElement)&&(mo(Re)||Re[Zr]))break e;if((_e||re)&&(re=se.window===se?se:(re=se.ownerDocument)?re.defaultView||re.parentWindow:window,_e?(Re=a.relatedTarget||a.toElement,_e=K,Re=Re?mo(Re):null,Re!==null&&(At=Ke(Re),Re!==At||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(_e=null,Re=K),_e!==Re)){if(Ie=Go,ce="onMouseLeave",$="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(Ie=S,ce="onPointerLeave",$="onPointerEnter",b="pointer"),At=_e==null?re:os(_e),W=Re==null?re:os(Re),re=new Ie(ce,b+"leave",_e,a,se),re.target=At,re.relatedTarget=W,ce=null,mo(se)===K&&(Ie=new Ie($,b+"enter",Re,a,se),Ie.target=W,Ie.relatedTarget=At,ce=Ie),At=ce,_e&&Re)t:{for(Ie=_e,$=Re,b=0,W=Ie;W;W=rs(W))b++;for(W=0,ce=$;ce;ce=rs(ce))W++;for(;0<b-W;)Ie=rs(Ie),b--;for(;0<W-b;)$=rs($),W--;for(;b--;){if(Ie===$||$!==null&&Ie===$.alternate)break t;Ie=rs(Ie),$=rs($)}Ie=null}else Ie=null;_e!==null&&Dd(ue,re,_e,Ie,!1),Re!==null&&At!==null&&Dd(ue,At,Re,Ie,!0)}}e:{if(re=K?os(K):window,_e=re.nodeName&&re.nodeName.toLowerCase(),_e==="select"||_e==="input"&&re.type==="file")var Ce=o_;else if(cd(re))if(hd)Ce=u_;else{Ce=a_;var De=s_}else(_e=re.nodeName)&&_e.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ce=l_);if(Ce&&(Ce=Ce(t,K))){fd(ue,Ce,a,se);break e}De&&De(t,re,K),t==="focusout"&&(De=re._wrapperState)&&De.controlled&&re.type==="number"&&gi(re,"number",re.value)}switch(De=K?os(K):window,t){case"focusin":(cd(De)||De.contentEditable==="true")&&(ts=De,hc=K,Xs=null);break;case"focusout":Xs=hc=ts=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,Ed(ue,a,se);break;case"selectionchange":if(h_)break;case"keydown":case"keyup":Ed(ue,a,se)}var Ne;if(xt)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else es?ld(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(po&&a.locale!=="ko"&&(es||be!=="onCompositionStart"?be==="onCompositionEnd"&&es&&(Ne=Hs()):(Nn=se,qo="value"in Nn?Nn.value:Nn.textContent,es=!0)),De=pl(K,be),0<De.length&&(be=new Ks(be,t,null,a,se),ue.push({event:be,listeners:De}),Ne?be.data=Ne:(Ne=ud(a),Ne!==null&&(be.data=Ne)))),(Ne=Vn?t_(t,a):n_(t,a))&&(K=pl(K,"onBeforeInput"),0<K.length&&(se=new Ks("onBeforeInput","beforeinput",null,a,se),ue.push({event:se,listeners:K}),se.data=Ne))}xd(ue,i)})}function ea(t,i,a){return{instance:t,listener:i,currentTarget:a}}function pl(t,i){for(var a=i+"Capture",c=[];t!==null;){var d=t,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=Z(t,a),m!=null&&c.unshift(ea(t,m,d)),m=Z(t,i),m!=null&&c.push(ea(t,m,d))),t=t.return}return c}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dd(t,i,a,c,d){for(var m=i._reactName,E=[];a!==null&&a!==c;){var P=a,L=P.alternate,K=P.stateNode;if(L!==null&&L===c)break;P.tag===5&&K!==null&&(P=K,d?(L=Z(a,m),L!=null&&E.unshift(ea(a,L,P))):d||(L=Z(a,m),L!=null&&E.push(ea(a,L,P)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var g_=/\r\n?/g,y_=/\u0000|\uFFFD/g;function Nd(t){return(typeof t=="string"?t:""+t).replace(g_,`
`).replace(y_,"")}function ml(t,i,a){if(i=Nd(i),Nd(t)!==i&&a)throw Error(n(425))}function gl(){}var _c=null,Ec=null;function wc(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Tc=typeof setTimeout=="function"?setTimeout:void 0,v_=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,__=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(t){return Vd.resolve(null).then(t).catch(E_)}:Tc;function E_(t){setTimeout(function(){throw t})}function Sc(t,i){var a=i,c=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){t.removeChild(d),ar(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);ar(i)}function ki(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Ld(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}var is=Math.random().toString(36).slice(2),kr="__reactFiber$"+is,ta="__reactProps$"+is,Zr="__reactContainer$"+is,Rc="__reactEvents$"+is,w_="__reactListeners$"+is,T_="__reactHandles$"+is;function mo(t){var i=t[kr];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Zr]||a[kr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Ld(t);t!==null;){if(a=t[kr])return a;t=Ld(t)}return i}t=a,a=t.parentNode}return null}function na(t){return t=t[kr]||t[Zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function os(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function yl(t){return t[ta]||null}var Ic=[],ss=-1;function Di(t){return{current:t}}function yt(t){0>ss||(t.current=Ic[ss],Ic[ss]=null,ss--)}function ht(t,i){ss++,Ic[ss]=t.current,t.current=i}var Ni={},on=Di(Ni),Tn=Di(!1),go=Ni;function as(t,i){var a=t.type.contextTypes;if(!a)return Ni;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=i[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=d),d}function Sn(t){return t=t.childContextTypes,t!=null}function vl(){yt(Tn),yt(on)}function Od(t,i,a){if(on.current!==Ni)throw Error(n(168));ht(on,i),ht(Tn,a)}function Md(t,i,a){var c=t.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(n(108,We(t)||"Unknown",d));return oe({},a,c)}function _l(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,go=on.current,ht(on,t),ht(Tn,Tn.current),!0}function bd(t,i,a){var c=t.stateNode;if(!c)throw Error(n(169));a?(t=Md(t,i,go),c.__reactInternalMemoizedMergedChildContext=t,yt(Tn),yt(on),ht(on,t)):yt(Tn),ht(Tn,a)}var ei=null,El=!1,Cc=!1;function Fd(t){ei===null?ei=[t]:ei.push(t)}function S_(t){El=!0,Fd(t)}function Vi(){if(!Cc&&ei!==null){Cc=!0;var t=0,i=Qe;try{var a=ei;for(Qe=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}ei=null,El=!1}catch(d){throw ei!==null&&(ei=ei.slice(t+1)),Wt(Xe,Vi),d}finally{Qe=i,Cc=!1}}return null}var ls=[],us=0,wl=null,Tl=0,jn=[],Bn=0,yo=null,ti=1,ni="";function vo(t,i){ls[us++]=Tl,ls[us++]=wl,wl=t,Tl=i}function Ud(t,i,a){jn[Bn++]=ti,jn[Bn++]=ni,jn[Bn++]=yo,yo=t;var c=ti;t=ni;var d=32-dn(c)-1;c&=~(1<<d),a+=1;var m=32-dn(i)+d;if(30<m){var E=d-d%5;m=(c&(1<<E)-1).toString(32),c>>=E,d-=E,ti=1<<32-dn(i)+d|a<<d|c,ni=m+t}else ti=1<<m|a<<d|c,ni=t}function Ac(t){t.return!==null&&(vo(t,1),Ud(t,1,0))}function Pc(t){for(;t===wl;)wl=ls[--us],ls[us]=null,Tl=ls[--us],ls[us]=null;for(;t===yo;)yo=jn[--Bn],jn[Bn]=null,ni=jn[--Bn],jn[Bn]=null,ti=jn[--Bn],jn[Bn]=null}var Ln=null,On=null,_t=!1,cr=null;function zd(t,i){var a=Wn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=t,i=t.deletions,i===null?(t.deletions=[a],t.flags|=16):i.push(a)}function jd(t,i){switch(t.tag){case 5:var a=t.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Ln=t,On=ki(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Ln=t,On=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=yo!==null?{id:ti,overflow:ni}:null,t.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Wn(18,null,null,0),a.stateNode=i,a.return=t,t.child=a,Ln=t,On=null,!0):!1;default:return!1}}function xc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kc(t){if(_t){var i=On;if(i){var a=i;if(!jd(t,i)){if(xc(t))throw Error(n(418));i=ki(a.nextSibling);var c=Ln;i&&jd(t,i)?zd(c,a):(t.flags=t.flags&-4097|2,_t=!1,Ln=t)}}else{if(xc(t))throw Error(n(418));t.flags=t.flags&-4097|2,_t=!1,Ln=t}}}function Bd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function Sl(t){if(t!==Ln)return!1;if(!_t)return Bd(t),_t=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!wc(t.type,t.memoizedProps)),i&&(i=On)){if(xc(t))throw $d(),Error(n(418));for(;i;)zd(t,i),i=ki(i.nextSibling)}if(Bd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(i===0){On=ki(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}t=t.nextSibling}On=null}}else On=Ln?ki(t.stateNode.nextSibling):null;return!0}function $d(){for(var t=On;t;)t=ki(t.nextSibling)}function cs(){On=Ln=null,_t=!1}function Dc(t){cr===null?cr=[t]:cr.push(t)}var R_=me.ReactCurrentBatchConfig;function ra(t,i,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,t));var d=c,m=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(E){var P=d.refs;E===null?delete P[m]:P[m]=E},i._stringRef=m,i)}if(typeof t!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,t))}return t}function Rl(t,i){throw t=Object.prototype.toString.call(i),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Hd(t){var i=t._init;return i(t._payload)}function qd(t){function i($,b){if(t){var W=$.deletions;W===null?($.deletions=[b],$.flags|=16):W.push(b)}}function a($,b){if(!t)return null;for(;b!==null;)i($,b),b=b.sibling;return null}function c($,b){for($=new Map;b!==null;)b.key!==null?$.set(b.key,b):$.set(b.index,b),b=b.sibling;return $}function d($,b){return $=ji($,b),$.index=0,$.sibling=null,$}function m($,b,W){return $.index=W,t?(W=$.alternate,W!==null?(W=W.index,W<b?($.flags|=2,b):W):($.flags|=2,b)):($.flags|=1048576,b)}function E($){return t&&$.alternate===null&&($.flags|=2),$}function P($,b,W,ce){return b===null||b.tag!==6?(b=Sf(W,$.mode,ce),b.return=$,b):(b=d(b,W),b.return=$,b)}function L($,b,W,ce){var Ce=W.type;return Ce===V?se($,b,W.props.children,ce,W.key):b!==null&&(b.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===xe&&Hd(Ce)===b.type)?(ce=d(b,W.props),ce.ref=ra($,b,W),ce.return=$,ce):(ce=Ql(W.type,W.key,W.props,null,$.mode,ce),ce.ref=ra($,b,W),ce.return=$,ce)}function K($,b,W,ce){return b===null||b.tag!==4||b.stateNode.containerInfo!==W.containerInfo||b.stateNode.implementation!==W.implementation?(b=Rf(W,$.mode,ce),b.return=$,b):(b=d(b,W.children||[]),b.return=$,b)}function se($,b,W,ce,Ce){return b===null||b.tag!==7?(b=Co(W,$.mode,ce,Ce),b.return=$,b):(b=d(b,W),b.return=$,b)}function ue($,b,W){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Sf(""+b,$.mode,W),b.return=$,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case z:return W=Ql(b.type,b.key,b.props,null,$.mode,W),W.ref=ra($,null,b),W.return=$,W;case de:return b=Rf(b,$.mode,W),b.return=$,b;case xe:var ce=b._init;return ue($,ce(b._payload),W)}if(Yn(b)||fe(b))return b=Co(b,$.mode,W,null),b.return=$,b;Rl($,b)}return null}function re($,b,W,ce){var Ce=b!==null?b.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Ce!==null?null:P($,b,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case z:return W.key===Ce?L($,b,W,ce):null;case de:return W.key===Ce?K($,b,W,ce):null;case xe:return Ce=W._init,re($,b,Ce(W._payload),ce)}if(Yn(W)||fe(W))return Ce!==null?null:se($,b,W,ce,null);Rl($,W)}return null}function _e($,b,W,ce,Ce){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return $=$.get(W)||null,P(b,$,""+ce,Ce);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case z:return $=$.get(ce.key===null?W:ce.key)||null,L(b,$,ce,Ce);case de:return $=$.get(ce.key===null?W:ce.key)||null,K(b,$,ce,Ce);case xe:var De=ce._init;return _e($,b,W,De(ce._payload),Ce)}if(Yn(ce)||fe(ce))return $=$.get(W)||null,se(b,$,ce,Ce,null);Rl(b,ce)}return null}function Re($,b,W,ce){for(var Ce=null,De=null,Ne=b,be=b=0,jt=null;Ne!==null&&be<W.length;be++){Ne.index>be?(jt=Ne,Ne=null):jt=Ne.sibling;var it=re($,Ne,W[be],ce);if(it===null){Ne===null&&(Ne=jt);break}t&&Ne&&it.alternate===null&&i($,Ne),b=m(it,b,be),De===null?Ce=it:De.sibling=it,De=it,Ne=jt}if(be===W.length)return a($,Ne),_t&&vo($,be),Ce;if(Ne===null){for(;be<W.length;be++)Ne=ue($,W[be],ce),Ne!==null&&(b=m(Ne,b,be),De===null?Ce=Ne:De.sibling=Ne,De=Ne);return _t&&vo($,be),Ce}for(Ne=c($,Ne);be<W.length;be++)jt=_e(Ne,$,be,W[be],ce),jt!==null&&(t&&jt.alternate!==null&&Ne.delete(jt.key===null?be:jt.key),b=m(jt,b,be),De===null?Ce=jt:De.sibling=jt,De=jt);return t&&Ne.forEach(function(Bi){return i($,Bi)}),_t&&vo($,be),Ce}function Ie($,b,W,ce){var Ce=fe(W);if(typeof Ce!="function")throw Error(n(150));if(W=Ce.call(W),W==null)throw Error(n(151));for(var De=Ce=null,Ne=b,be=b=0,jt=null,it=W.next();Ne!==null&&!it.done;be++,it=W.next()){Ne.index>be?(jt=Ne,Ne=null):jt=Ne.sibling;var Bi=re($,Ne,it.value,ce);if(Bi===null){Ne===null&&(Ne=jt);break}t&&Ne&&Bi.alternate===null&&i($,Ne),b=m(Bi,b,be),De===null?Ce=Bi:De.sibling=Bi,De=Bi,Ne=jt}if(it.done)return a($,Ne),_t&&vo($,be),Ce;if(Ne===null){for(;!it.done;be++,it=W.next())it=ue($,it.value,ce),it!==null&&(b=m(it,b,be),De===null?Ce=it:De.sibling=it,De=it);return _t&&vo($,be),Ce}for(Ne=c($,Ne);!it.done;be++,it=W.next())it=_e(Ne,$,be,it.value,ce),it!==null&&(t&&it.alternate!==null&&Ne.delete(it.key===null?be:it.key),b=m(it,b,be),De===null?Ce=it:De.sibling=it,De=it);return t&&Ne.forEach(function(nE){return i($,nE)}),_t&&vo($,be),Ce}function At($,b,W,ce){if(typeof W=="object"&&W!==null&&W.type===V&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case z:e:{for(var Ce=W.key,De=b;De!==null;){if(De.key===Ce){if(Ce=W.type,Ce===V){if(De.tag===7){a($,De.sibling),b=d(De,W.props.children),b.return=$,$=b;break e}}else if(De.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===xe&&Hd(Ce)===De.type){a($,De.sibling),b=d(De,W.props),b.ref=ra($,De,W),b.return=$,$=b;break e}a($,De);break}else i($,De);De=De.sibling}W.type===V?(b=Co(W.props.children,$.mode,ce,W.key),b.return=$,$=b):(ce=Ql(W.type,W.key,W.props,null,$.mode,ce),ce.ref=ra($,b,W),ce.return=$,$=ce)}return E($);case de:e:{for(De=W.key;b!==null;){if(b.key===De)if(b.tag===4&&b.stateNode.containerInfo===W.containerInfo&&b.stateNode.implementation===W.implementation){a($,b.sibling),b=d(b,W.children||[]),b.return=$,$=b;break e}else{a($,b);break}else i($,b);b=b.sibling}b=Rf(W,$.mode,ce),b.return=$,$=b}return E($);case xe:return De=W._init,At($,b,De(W._payload),ce)}if(Yn(W))return Re($,b,W,ce);if(fe(W))return Ie($,b,W,ce);Rl($,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,b!==null&&b.tag===6?(a($,b.sibling),b=d(b,W),b.return=$,$=b):(a($,b),b=Sf(W,$.mode,ce),b.return=$,$=b),E($)):a($,b)}return At}var fs=qd(!0),Wd=qd(!1),Il=Di(null),Cl=null,hs=null,Nc=null;function Vc(){Nc=hs=Cl=null}function Lc(t){var i=Il.current;yt(Il),t._currentValue=i}function Oc(t,i,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===a)break;t=t.return}}function ds(t,i){Cl=t,Nc=hs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&i&&(Rn=!0),t.firstContext=null)}function $n(t){var i=t._currentValue;if(Nc!==t)if(t={context:t,memoizedValue:i,next:null},hs===null){if(Cl===null)throw Error(n(308));hs=t,Cl.dependencies={lanes:0,firstContext:t}}else hs=hs.next=t;return i}var _o=null;function Mc(t){_o===null?_o=[t]:_o.push(t)}function Kd(t,i,a,c){var d=i.interleaved;return d===null?(a.next=a,Mc(i)):(a.next=d.next,d.next=a),i.interleaved=a,ri(t,c)}function ri(t,i){t.lanes|=i;var a=t.alternate;for(a!==null&&(a.lanes|=i),a=t,t=t.return;t!==null;)t.childLanes|=i,a=t.alternate,a!==null&&(a.childLanes|=i),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Li=!1;function bc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ii(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function Oi(t,i,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,rt&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,ri(t,a)}return d=c.interleaved,d===null?(i.next=i,Mc(c)):(i.next=d.next,d.next=i),c.interleaved=i,ri(t,a)}function Al(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,Ri(t,a)}}function Gd(t,i){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}function Pl(t,i,a,c){var d=t.updateQueue;Li=!1;var m=d.firstBaseUpdate,E=d.lastBaseUpdate,P=d.shared.pending;if(P!==null){d.shared.pending=null;var L=P,K=L.next;L.next=null,E===null?m=K:E.next=K,E=L;var se=t.alternate;se!==null&&(se=se.updateQueue,P=se.lastBaseUpdate,P!==E&&(P===null?se.firstBaseUpdate=K:P.next=K,se.lastBaseUpdate=L))}if(m!==null){var ue=d.baseState;E=0,se=K=L=null,P=m;do{var re=P.lane,_e=P.eventTime;if((c&re)===re){se!==null&&(se=se.next={eventTime:_e,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var Re=t,Ie=P;switch(re=i,_e=a,Ie.tag){case 1:if(Re=Ie.payload,typeof Re=="function"){ue=Re.call(_e,ue,re);break e}ue=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ie.payload,re=typeof Re=="function"?Re.call(_e,ue,re):Re,re==null)break e;ue=oe({},ue,re);break e;case 2:Li=!0}}P.callback!==null&&P.lane!==0&&(t.flags|=64,re=d.effects,re===null?d.effects=[P]:re.push(P))}else _e={eventTime:_e,lane:re,tag:P.tag,payload:P.payload,callback:P.callback,next:null},se===null?(K=se=_e,L=ue):se=se.next=_e,E|=re;if(P=P.next,P===null){if(P=d.shared.pending,P===null)break;re=P,P=re.next,re.next=null,d.lastBaseUpdate=re,d.shared.pending=null}}while(!0);if(se===null&&(L=ue),d.baseState=L,d.firstBaseUpdate=K,d.lastBaseUpdate=se,i=d.shared.interleaved,i!==null){d=i;do E|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);To|=E,t.lanes=E,t.memoizedState=ue}}function Yd(t,i,a){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var c=t[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var ia={},Dr=Di(ia),oa=Di(ia),sa=Di(ia);function Eo(t){if(t===ia)throw Error(n(174));return t}function Fc(t,i){switch(ht(sa,i),ht(oa,t),ht(Dr,ia),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Rt(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=Rt(i,t)}yt(Dr),ht(Dr,i)}function ps(){yt(Dr),yt(oa),yt(sa)}function Xd(t){Eo(sa.current);var i=Eo(Dr.current),a=Rt(i,t.type);i!==a&&(ht(oa,t),ht(Dr,a))}function Uc(t){oa.current===t&&(yt(Dr),yt(oa))}var wt=Di(0);function xl(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zc=[];function jc(){for(var t=0;t<zc.length;t++)zc[t]._workInProgressVersionPrimary=null;zc.length=0}var kl=me.ReactCurrentDispatcher,Bc=me.ReactCurrentBatchConfig,wo=0,Tt=null,Vt=null,Ut=null,Dl=!1,aa=!1,la=0,I_=0;function sn(){throw Error(n(321))}function $c(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!ur(t[a],i[a]))return!1;return!0}function Hc(t,i,a,c,d,m){if(wo=m,Tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,kl.current=t===null||t.memoizedState===null?x_:k_,t=a(c,d),aa){m=0;do{if(aa=!1,la=0,25<=m)throw Error(n(301));m+=1,Ut=Vt=null,i.updateQueue=null,kl.current=D_,t=a(c,d)}while(aa)}if(kl.current=Ll,i=Vt!==null&&Vt.next!==null,wo=0,Ut=Vt=Tt=null,Dl=!1,i)throw Error(n(300));return t}function qc(){var t=la!==0;return la=0,t}function Nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Tt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Hn(){if(Vt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var i=Ut===null?Tt.memoizedState:Ut.next;if(i!==null)Ut=i,Vt=t;else{if(t===null)throw Error(n(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Ut===null?Tt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function ua(t,i){return typeof i=="function"?i(t):i}function Wc(t){var i=Hn(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=Vt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var E=d.next;d.next=m.next,m.next=E}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var P=E=null,L=null,K=m;do{var se=K.lane;if((wo&se)===se)L!==null&&(L=L.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),c=K.hasEagerState?K.eagerState:t(c,K.action);else{var ue={lane:se,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};L===null?(P=L=ue,E=c):L=L.next=ue,Tt.lanes|=se,To|=se}K=K.next}while(K!==null&&K!==m);L===null?E=c:L.next=P,ur(c,i.memoizedState)||(Rn=!0),i.memoizedState=c,i.baseState=E,i.baseQueue=L,a.lastRenderedState=c}if(t=a.interleaved,t!==null){d=t;do m=d.lane,Tt.lanes|=m,To|=m,d=d.next;while(d!==t)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Kc(t){var i=Hn(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do m=t(m,E.action),E=E.next;while(E!==d);ur(m,i.memoizedState)||(Rn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Jd(){}function Zd(t,i){var a=Tt,c=Hn(),d=i(),m=!ur(c.memoizedState,d);if(m&&(c.memoizedState=d,Rn=!0),c=c.queue,Qc(np.bind(null,a,c,t),[t]),c.getSnapshot!==i||m||Ut!==null&&Ut.memoizedState.tag&1){if(a.flags|=2048,ca(9,tp.bind(null,a,c,d,i),void 0,null),zt===null)throw Error(n(349));wo&30||ep(a,i,d)}return d}function ep(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Tt.updateQueue,i===null?(i={lastEffect:null,stores:null},Tt.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function tp(t,i,a,c){i.value=a,i.getSnapshot=c,rp(i)&&ip(t)}function np(t,i,a){return a(function(){rp(i)&&ip(t)})}function rp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!ur(t,a)}catch{return!0}}function ip(t){var i=ri(t,1);i!==null&&pr(i,t,1,-1)}function op(t){var i=Nr();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:t},i.queue=t,t=t.dispatch=P_.bind(null,Tt,t),[i.memoizedState,t]}function ca(t,i,a,c){return t={tag:t,create:i,destroy:a,deps:c,next:null},i=Tt.updateQueue,i===null?(i={lastEffect:null,stores:null},Tt.updateQueue=i,i.lastEffect=t.next=t):(a=i.lastEffect,a===null?i.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,i.lastEffect=t)),t}function sp(){return Hn().memoizedState}function Nl(t,i,a,c){var d=Nr();Tt.flags|=t,d.memoizedState=ca(1|i,a,void 0,c===void 0?null:c)}function Vl(t,i,a,c){var d=Hn();c=c===void 0?null:c;var m=void 0;if(Vt!==null){var E=Vt.memoizedState;if(m=E.destroy,c!==null&&$c(c,E.deps)){d.memoizedState=ca(i,a,m,c);return}}Tt.flags|=t,d.memoizedState=ca(1|i,a,m,c)}function ap(t,i){return Nl(8390656,8,t,i)}function Qc(t,i){return Vl(2048,8,t,i)}function lp(t,i){return Vl(4,2,t,i)}function up(t,i){return Vl(4,4,t,i)}function cp(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function fp(t,i,a){return a=a!=null?a.concat([t]):null,Vl(4,4,cp.bind(null,i,t),a)}function Gc(){}function hp(t,i){var a=Hn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&$c(i,c[1])?c[0]:(a.memoizedState=[t,i],t)}function dp(t,i){var a=Hn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&$c(i,c[1])?c[0]:(t=t(),a.memoizedState=[t,i],t)}function pp(t,i,a){return wo&21?(ur(a,i)||(a=uo(),Tt.lanes|=a,To|=a,t.baseState=!0),i):(t.baseState&&(t.baseState=!1,Rn=!0),t.memoizedState=a)}function C_(t,i){var a=Qe;Qe=a!==0&&4>a?a:4,t(!0);var c=Bc.transition;Bc.transition={};try{t(!1),i()}finally{Qe=a,Bc.transition=c}}function mp(){return Hn().memoizedState}function A_(t,i,a){var c=Ui(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},gp(t))yp(i,a);else if(a=Kd(t,i,a,c),a!==null){var d=gn();pr(a,t,c,d),vp(a,i,c)}}function P_(t,i,a){var c=Ui(t),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(gp(t))yp(i,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,P=m(E,a);if(d.hasEagerState=!0,d.eagerState=P,ur(P,E)){var L=i.interleaved;L===null?(d.next=d,Mc(i)):(d.next=L.next,L.next=d),i.interleaved=d;return}}catch{}finally{}a=Kd(t,i,d,c),a!==null&&(d=gn(),pr(a,t,c,d),vp(a,i,c))}}function gp(t){var i=t.alternate;return t===Tt||i!==null&&i===Tt}function yp(t,i){aa=Dl=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function vp(t,i,a){if(a&4194240){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,Ri(t,a)}}var Ll={readContext:$n,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},x_={readContext:$n,useCallback:function(t,i){return Nr().memoizedState=[t,i===void 0?null:i],t},useContext:$n,useEffect:ap,useImperativeHandle:function(t,i,a){return a=a!=null?a.concat([t]):null,Nl(4194308,4,cp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Nl(4194308,4,t,i)},useInsertionEffect:function(t,i){return Nl(4,2,t,i)},useMemo:function(t,i){var a=Nr();return i=i===void 0?null:i,t=t(),a.memoizedState=[t,i],t},useReducer:function(t,i,a){var c=Nr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},c.queue=t,t=t.dispatch=A_.bind(null,Tt,t),[c.memoizedState,t]},useRef:function(t){var i=Nr();return t={current:t},i.memoizedState=t},useState:op,useDebugValue:Gc,useDeferredValue:function(t){return Nr().memoizedState=t},useTransition:function(){var t=op(!1),i=t[0];return t=C_.bind(null,t[1]),Nr().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,a){var c=Tt,d=Nr();if(_t){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),zt===null)throw Error(n(349));wo&30||ep(c,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,ap(np.bind(null,c,m,t),[t]),c.flags|=2048,ca(9,tp.bind(null,c,m,a,i),void 0,null),a},useId:function(){var t=Nr(),i=zt.identifierPrefix;if(_t){var a=ni,c=ti;a=(c&~(1<<32-dn(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=la++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=I_++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},k_={readContext:$n,useCallback:hp,useContext:$n,useEffect:Qc,useImperativeHandle:fp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:Wc,useRef:sp,useState:function(){return Wc(ua)},useDebugValue:Gc,useDeferredValue:function(t){var i=Hn();return pp(i,Vt.memoizedState,t)},useTransition:function(){var t=Wc(ua)[0],i=Hn().memoizedState;return[t,i]},useMutableSource:Jd,useSyncExternalStore:Zd,useId:mp,unstable_isNewReconciler:!1},D_={readContext:$n,useCallback:hp,useContext:$n,useEffect:Qc,useImperativeHandle:fp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:Kc,useRef:sp,useState:function(){return Kc(ua)},useDebugValue:Gc,useDeferredValue:function(t){var i=Hn();return Vt===null?i.memoizedState=t:pp(i,Vt.memoizedState,t)},useTransition:function(){var t=Kc(ua)[0],i=Hn().memoizedState;return[t,i]},useMutableSource:Jd,useSyncExternalStore:Zd,useId:mp,unstable_isNewReconciler:!1};function fr(t,i){if(t&&t.defaultProps){i=oe({},i),t=t.defaultProps;for(var a in t)i[a]===void 0&&(i[a]=t[a]);return i}return i}function Yc(t,i,a,c){i=t.memoizedState,a=a(c,i),a=a==null?i:oe({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ol={isMounted:function(t){return(t=t._reactInternals)?Ke(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var c=gn(),d=Ui(t),m=ii(c,d);m.payload=i,a!=null&&(m.callback=a),i=Oi(t,m,d),i!==null&&(pr(i,t,d,c),Al(i,t,d))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var c=gn(),d=Ui(t),m=ii(c,d);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=Oi(t,m,d),i!==null&&(pr(i,t,d,c),Al(i,t,d))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=gn(),c=Ui(t),d=ii(a,c);d.tag=2,i!=null&&(d.callback=i),i=Oi(t,d,c),i!==null&&(pr(i,t,c,a),Al(i,t,c))}};function _p(t,i,a,c,d,m,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,E):i.prototype&&i.prototype.isPureReactComponent?!Ys(a,c)||!Ys(d,m):!0}function Ep(t,i,a){var c=!1,d=Ni,m=i.contextType;return typeof m=="object"&&m!==null?m=$n(m):(d=Sn(i)?go:on.current,c=i.contextTypes,m=(c=c!=null)?as(t,d):Ni),i=new i(a,m),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ol,t.stateNode=i,i._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=m),i}function wp(t,i,a,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==t&&Ol.enqueueReplaceState(i,i.state,null)}function Xc(t,i,a,c){var d=t.stateNode;d.props=a,d.state=t.memoizedState,d.refs={},bc(t);var m=i.contextType;typeof m=="object"&&m!==null?d.context=$n(m):(m=Sn(i)?go:on.current,d.context=as(t,m)),d.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Yc(t,i,m,a),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Ol.enqueueReplaceState(d,d.state,null),Pl(t,a,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function ms(t,i){try{var a="",c=i;do a+=Me(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:i,stack:d,digest:null}}function Jc(t,i,a){return{value:t,source:null,stack:a??null,digest:i??null}}function Zc(t,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var N_=typeof WeakMap=="function"?WeakMap:Map;function Tp(t,i,a){a=ii(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Bl||(Bl=!0,mf=c),Zc(t,i)},a}function Sp(t,i,a){a=ii(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){Zc(t,i)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Zc(t,i),typeof c!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),a}function Rp(t,i,a){var c=t.pingCache;if(c===null){c=t.pingCache=new N_;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),t=W_.bind(null,t,i,a),i.then(t,t))}function Ip(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function Cp(t,i,a,c,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===i?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=ii(-1,1),i.tag=2,Oi(a,i,1))),a.lanes|=1),t)}var V_=me.ReactCurrentOwner,Rn=!1;function mn(t,i,a,c){i.child=t===null?Wd(i,null,a,c):fs(i,t.child,a,c)}function Ap(t,i,a,c,d){a=a.render;var m=i.ref;return ds(i,d),c=Hc(t,i,a,c,m,d),a=qc(),t!==null&&!Rn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,oi(t,i,d)):(_t&&a&&Ac(i),i.flags|=1,mn(t,i,c,d),i.child)}function Pp(t,i,a,c,d){if(t===null){var m=a.type;return typeof m=="function"&&!Tf(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,xp(t,i,m,c,d)):(t=Ql(a.type,null,c,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!(t.lanes&d)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ys,a(E,c)&&t.ref===i.ref)return oi(t,i,d)}return i.flags|=1,t=ji(m,c),t.ref=i.ref,t.return=i,i.child=t}function xp(t,i,a,c,d){if(t!==null){var m=t.memoizedProps;if(Ys(m,c)&&t.ref===i.ref)if(Rn=!1,i.pendingProps=c=m,(t.lanes&d)!==0)t.flags&131072&&(Rn=!0);else return i.lanes=t.lanes,oi(t,i,d)}return ef(t,i,a,c,d)}function kp(t,i,a){var c=i.pendingProps,d=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(ys,Mn),Mn|=a;else{if(!(a&1073741824))return t=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,ht(ys,Mn),Mn|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,ht(ys,Mn),Mn|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,ht(ys,Mn),Mn|=c;return mn(t,i,d,a),i.child}function Dp(t,i){var a=i.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function ef(t,i,a,c,d){var m=Sn(a)?go:on.current;return m=as(i,m),ds(i,d),a=Hc(t,i,a,c,m,d),c=qc(),t!==null&&!Rn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,oi(t,i,d)):(_t&&c&&Ac(i),i.flags|=1,mn(t,i,a,d),i.child)}function Np(t,i,a,c,d){if(Sn(a)){var m=!0;_l(i)}else m=!1;if(ds(i,d),i.stateNode===null)bl(t,i),Ep(i,a,c),Xc(i,a,c,d),c=!0;else if(t===null){var E=i.stateNode,P=i.memoizedProps;E.props=P;var L=E.context,K=a.contextType;typeof K=="object"&&K!==null?K=$n(K):(K=Sn(a)?go:on.current,K=as(i,K));var se=a.getDerivedStateFromProps,ue=typeof se=="function"||typeof E.getSnapshotBeforeUpdate=="function";ue||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==c||L!==K)&&wp(i,E,c,K),Li=!1;var re=i.memoizedState;E.state=re,Pl(i,c,E,d),L=i.memoizedState,P!==c||re!==L||Tn.current||Li?(typeof se=="function"&&(Yc(i,a,se,c),L=i.memoizedState),(P=Li||_p(i,a,P,c,re,L,K))?(ue||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=L),E.props=c,E.state=L,E.context=K,c=P):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{E=i.stateNode,Qd(t,i),P=i.memoizedProps,K=i.type===i.elementType?P:fr(i.type,P),E.props=K,ue=i.pendingProps,re=E.context,L=a.contextType,typeof L=="object"&&L!==null?L=$n(L):(L=Sn(a)?go:on.current,L=as(i,L));var _e=a.getDerivedStateFromProps;(se=typeof _e=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==ue||re!==L)&&wp(i,E,c,L),Li=!1,re=i.memoizedState,E.state=re,Pl(i,c,E,d);var Re=i.memoizedState;P!==ue||re!==Re||Tn.current||Li?(typeof _e=="function"&&(Yc(i,a,_e,c),Re=i.memoizedState),(K=Li||_p(i,a,K,c,re,Re,L)||!1)?(se||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,Re,L),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,Re,L)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===t.memoizedProps&&re===t.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===t.memoizedProps&&re===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Re),E.props=c,E.state=Re,E.context=L,c=K):(typeof E.componentDidUpdate!="function"||P===t.memoizedProps&&re===t.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===t.memoizedProps&&re===t.memoizedState||(i.flags|=1024),c=!1)}return tf(t,i,a,c,m,d)}function tf(t,i,a,c,d,m){Dp(t,i);var E=(i.flags&128)!==0;if(!c&&!E)return d&&bd(i,a,!1),oi(t,i,m);c=i.stateNode,V_.current=i;var P=E&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,t!==null&&E?(i.child=fs(i,t.child,null,m),i.child=fs(i,null,P,m)):mn(t,i,P,m),i.memoizedState=c.state,d&&bd(i,a,!0),i.child}function Vp(t){var i=t.stateNode;i.pendingContext?Od(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Od(t,i.context,!1),Fc(t,i.containerInfo)}function Lp(t,i,a,c,d){return cs(),Dc(d),i.flags|=256,mn(t,i,a,c),i.child}var nf={dehydrated:null,treeContext:null,retryLane:0};function rf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Op(t,i,a){var c=i.pendingProps,d=wt.current,m=!1,E=(i.flags&128)!==0,P;if((P=E)||(P=t!==null&&t.memoizedState===null?!1:(d&2)!==0),P?(m=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),ht(wt,d&1),t===null)return kc(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(i.mode&1?t.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(E=c.children,t=c.fallback,m?(c=i.mode,m=i.child,E={mode:"hidden",children:E},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=E):m=Gl(E,c,0,null),t=Co(t,c,a,null),m.return=i,t.return=i,m.sibling=t,i.child=m,i.child.memoizedState=rf(a),i.memoizedState=nf,t):of(i,E));if(d=t.memoizedState,d!==null&&(P=d.dehydrated,P!==null))return L_(t,i,E,c,P,d,a);if(m){m=c.fallback,E=i.mode,d=t.child,P=d.sibling;var L={mode:"hidden",children:c.children};return!(E&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=L,i.deletions=null):(c=ji(d,L),c.subtreeFlags=d.subtreeFlags&14680064),P!==null?m=ji(P,m):(m=Co(m,E,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,E=t.child.memoizedState,E=E===null?rf(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},m.memoizedState=E,m.childLanes=t.childLanes&~a,i.memoizedState=nf,c}return m=t.child,t=m.sibling,c=ji(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,t!==null&&(a=i.deletions,a===null?(i.deletions=[t],i.flags|=16):a.push(t)),i.child=c,i.memoizedState=null,c}function of(t,i){return i=Gl({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Ml(t,i,a,c){return c!==null&&Dc(c),fs(i,t.child,null,a),t=of(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function L_(t,i,a,c,d,m,E){if(a)return i.flags&256?(i.flags&=-257,c=Jc(Error(n(422))),Ml(t,i,E,c)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=Gl({mode:"visible",children:c.children},d,0,null),m=Co(m,d,E,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&fs(i,t.child,null,E),i.child.memoizedState=rf(E),i.memoizedState=nf,m);if(!(i.mode&1))return Ml(t,i,E,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var P=c.dgst;return c=P,m=Error(n(419)),c=Jc(m,c,void 0),Ml(t,i,E,c)}if(P=(E&t.childLanes)!==0,Rn||P){if(c=zt,c!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|E)?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,ri(t,d),pr(c,t,d,-1))}return wf(),c=Jc(Error(n(421))),Ml(t,i,E,c)}return d.data==="$?"?(i.flags|=128,i.child=t.child,i=K_.bind(null,t),d._reactRetry=i,null):(t=m.treeContext,On=ki(d.nextSibling),Ln=i,_t=!0,cr=null,t!==null&&(jn[Bn++]=ti,jn[Bn++]=ni,jn[Bn++]=yo,ti=t.id,ni=t.overflow,yo=i),i=of(i,c.children),i.flags|=4096,i)}function Mp(t,i,a){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Oc(t.return,i,a)}function sf(t,i,a,c,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function bp(t,i,a){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(mn(t,i,c.children,a),c=wt.current,c&2)c=c&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mp(t,a,i);else if(t.tag===19)Mp(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(ht(wt,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&xl(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),sf(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&xl(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}sf(i,!0,a,null,m);break;case"together":sf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bl(t,i){!(i.mode&1)&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function oi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),To|=i.lanes,!(a&i.childLanes))return null;if(t!==null&&i.child!==t.child)throw Error(n(153));if(i.child!==null){for(t=i.child,a=ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function O_(t,i,a){switch(i.tag){case 3:Vp(i),cs();break;case 5:Xd(i);break;case 1:Sn(i.type)&&_l(i);break;case 4:Fc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;ht(Il,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(ht(wt,wt.current&1),i.flags|=128,null):a&i.child.childLanes?Op(t,i,a):(ht(wt,wt.current&1),t=oi(t,i,a),t!==null?t.sibling:null);ht(wt,wt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,t.flags&128){if(c)return bp(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ht(wt,wt.current),c)break;return null;case 22:case 23:return i.lanes=0,kp(t,i,a)}return oi(t,i,a)}var Fp,af,Up,zp;Fp=function(t,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},af=function(){},Up=function(t,i,a,c){var d=t.memoizedProps;if(d!==c){t=i.stateNode,Eo(Dr.current);var m=null;switch(a){case"input":d=Br(t,d),c=Br(t,c),m=[];break;case"select":d=oe({},d,{value:void 0}),c=oe({},c,{value:void 0}),m=[];break;case"textarea":d=Xn(t,d),c=Xn(t,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=gl)}Sr(a,c);var E;a=null;for(K in d)if(!c.hasOwnProperty(K)&&d.hasOwnProperty(K)&&d[K]!=null)if(K==="style"){var P=d[K];for(E in P)P.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?m||(m=[]):(m=m||[]).push(K,null));for(K in c){var L=c[K];if(P=d!=null?d[K]:void 0,c.hasOwnProperty(K)&&L!==P&&(L!=null||P!=null))if(K==="style")if(P){for(E in P)!P.hasOwnProperty(E)||L&&L.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in L)L.hasOwnProperty(E)&&P[E]!==L[E]&&(a||(a={}),a[E]=L[E])}else a||(m||(m=[]),m.push(K,a)),a=L;else K==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,P=P?P.__html:void 0,L!=null&&P!==L&&(m=m||[]).push(K,L)):K==="children"?typeof L!="string"&&typeof L!="number"||(m=m||[]).push(K,""+L):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(L!=null&&K==="onScroll"&&gt("scroll",t),m||P===L||(m=[])):(m=m||[]).push(K,L))}a&&(m=m||[]).push("style",a);var K=m;(i.updateQueue=K)&&(i.flags|=4)}},zp=function(t,i,a,c){a!==c&&(i.flags|=4)};function fa(t,i){if(!_t)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function an(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=a,i}function M_(t,i,a){var c=i.pendingProps;switch(Pc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(i),null;case 1:return Sn(i.type)&&vl(),an(i),null;case 3:return c=i.stateNode,ps(),yt(Tn),yt(on),jc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Sl(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,cr!==null&&(vf(cr),cr=null))),af(t,i),an(i),null;case 5:Uc(i);var d=Eo(sa.current);if(a=i.type,t!==null&&i.stateNode!=null)Up(t,i,a,c,d),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(n(166));return an(i),null}if(t=Eo(Dr.current),Sl(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[kr]=i,c[ta]=m,t=(i.mode&1)!==0,a){case"dialog":gt("cancel",c),gt("close",c);break;case"iframe":case"object":case"embed":gt("load",c);break;case"video":case"audio":for(d=0;d<Js.length;d++)gt(Js[d],c);break;case"source":gt("error",c);break;case"img":case"image":case"link":gt("error",c),gt("load",c);break;case"details":gt("toggle",c);break;case"input":pi(c,m),gt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},gt("invalid",c);break;case"textarea":$r(c,m),gt("invalid",c)}Sr(a,m),d=null;for(var E in m)if(m.hasOwnProperty(E)){var P=m[E];E==="children"?typeof P=="string"?c.textContent!==P&&(m.suppressHydrationWarning!==!0&&ml(c.textContent,P,t),d=["children",P]):typeof P=="number"&&c.textContent!==""+P&&(m.suppressHydrationWarning!==!0&&ml(c.textContent,P,t),d=["children",""+P]):s.hasOwnProperty(E)&&P!=null&&E==="onScroll"&&gt("scroll",c)}switch(a){case"input":Fn(c),Uo(c,m,!0);break;case"textarea":Fn(c),yn(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=gl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ut(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=E.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=E.createElement(a,{is:c.is}):(t=E.createElement(a),a==="select"&&(E=t,c.multiple?E.multiple=!0:c.size&&(E.size=c.size))):t=E.createElementNS(t,a),t[kr]=i,t[ta]=c,Fp(t,i,!1,!1),i.stateNode=t;e:{switch(E=_i(a,c),a){case"dialog":gt("cancel",t),gt("close",t),d=c;break;case"iframe":case"object":case"embed":gt("load",t),d=c;break;case"video":case"audio":for(d=0;d<Js.length;d++)gt(Js[d],t);d=c;break;case"source":gt("error",t),d=c;break;case"img":case"image":case"link":gt("error",t),gt("load",t),d=c;break;case"details":gt("toggle",t),d=c;break;case"input":pi(t,c),d=Br(t,c),gt("invalid",t);break;case"option":d=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=oe({},c,{value:void 0}),gt("invalid",t);break;case"textarea":$r(t,c),d=Xn(t,c),gt("invalid",t);break;default:d=c}Sr(a,d),P=d;for(m in P)if(P.hasOwnProperty(m)){var L=P[m];m==="style"?so(t,L):m==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&oo(t,L)):m==="children"?typeof L=="string"?(a!=="textarea"||L!=="")&&qt(t,L):typeof L=="number"&&qt(t,""+L):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(s.hasOwnProperty(m)?L!=null&&m==="onScroll"&&gt("scroll",t):L!=null&&ie(t,m,L,E))}switch(a){case"input":Fn(t),Uo(t,c,!1);break;case"textarea":Fn(t),yn(t);break;case"option":c.value!=null&&t.setAttribute("value",""+tt(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?Ht(t,!!c.multiple,m,!1):c.defaultValue!=null&&Ht(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=gl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return an(i),null;case 6:if(t&&i.stateNode!=null)zp(t,i,t.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(n(166));if(a=Eo(sa.current),Eo(Dr.current),Sl(i)){if(c=i.stateNode,a=i.memoizedProps,c[kr]=i,(m=c.nodeValue!==a)&&(t=Ln,t!==null))switch(t.tag){case 3:ml(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ml(c.nodeValue,a,(t.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[kr]=i,i.stateNode=c}return an(i),null;case 13:if(yt(wt),c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_t&&On!==null&&i.mode&1&&!(i.flags&128))$d(),cs(),i.flags|=98560,m=!1;else if(m=Sl(i),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[kr]=i}else cs(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;an(i),m=!1}else cr!==null&&(vf(cr),cr=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(t===null||wt.current&1?Lt===0&&(Lt=3):wf())),i.updateQueue!==null&&(i.flags|=4),an(i),null);case 4:return ps(),af(t,i),t===null&&Zs(i.stateNode.containerInfo),an(i),null;case 10:return Lc(i.type._context),an(i),null;case 17:return Sn(i.type)&&vl(),an(i),null;case 19:if(yt(wt),m=i.memoizedState,m===null)return an(i),null;if(c=(i.flags&128)!==0,E=m.rendering,E===null)if(c)fa(m,!1);else{if(Lt!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(E=xl(t),E!==null){for(i.flags|=128,fa(m,!1),c=E.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,t=c,m.flags&=14680066,E=m.alternate,E===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=E.childLanes,m.lanes=E.lanes,m.child=E.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=E.memoizedProps,m.memoizedState=E.memoizedState,m.updateQueue=E.updateQueue,m.type=E.type,t=E.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return ht(wt,wt.current&1|2),i.child}t=t.sibling}m.tail!==null&&at()>vs&&(i.flags|=128,c=!0,fa(m,!1),i.lanes=4194304)}else{if(!c)if(t=xl(E),t!==null){if(i.flags|=128,c=!0,a=t.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),fa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!_t)return an(i),null}else 2*at()-m.renderingStartTime>vs&&a!==1073741824&&(i.flags|=128,c=!0,fa(m,!1),i.lanes=4194304);m.isBackwards?(E.sibling=i.child,i.child=E):(a=m.last,a!==null?a.sibling=E:i.child=E,m.last=E)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=at(),i.sibling=null,a=wt.current,ht(wt,c?a&1|2:a&1),i):(an(i),null);case 22:case 23:return Ef(),c=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?Mn&1073741824&&(an(i),i.subtreeFlags&6&&(i.flags|=8192)):an(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function b_(t,i){switch(Pc(i),i.tag){case 1:return Sn(i.type)&&vl(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ps(),yt(Tn),yt(on),jc(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 5:return Uc(i),null;case 13:if(yt(wt),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(n(340));cs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return yt(wt),null;case 4:return ps(),null;case 10:return Lc(i.type._context),null;case 22:case 23:return Ef(),null;case 24:return null;default:return null}}var Fl=!1,ln=!1,F_=typeof WeakSet=="function"?WeakSet:Set,Te=null;function gs(t,i){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Ct(t,i,c)}else a.current=null}function lf(t,i,a){try{a()}catch(c){Ct(t,i,c)}}var jp=!1;function U_(t,i){if(_c=Ai,t=_d(),fc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,P=-1,L=-1,K=0,se=0,ue=t,re=null;t:for(;;){for(var _e;ue!==a||d!==0&&ue.nodeType!==3||(P=E+d),ue!==m||c!==0&&ue.nodeType!==3||(L=E+c),ue.nodeType===3&&(E+=ue.nodeValue.length),(_e=ue.firstChild)!==null;)re=ue,ue=_e;for(;;){if(ue===t)break t;if(re===a&&++K===d&&(P=E),re===m&&++se===c&&(L=E),(_e=ue.nextSibling)!==null)break;ue=re,re=ue.parentNode}ue=_e}a=P===-1||L===-1?null:{start:P,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ec={focusedElem:t,selectionRange:a},Ai=!1,Te=i;Te!==null;)if(i=Te,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Te=t;else for(;Te!==null;){i=Te;try{var Re=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Ie=Re.memoizedProps,At=Re.memoizedState,$=i.stateNode,b=$.getSnapshotBeforeUpdate(i.elementType===i.type?Ie:fr(i.type,Ie),At);$.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var W=i.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){Ct(i,i.return,ce)}if(t=i.sibling,t!==null){t.return=i.return,Te=t;break}Te=i.return}return Re=jp,jp=!1,Re}function ha(t,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&t)===t){var m=d.destroy;d.destroy=void 0,m!==void 0&&lf(i,a,m)}d=d.next}while(d!==c)}}function Ul(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function uf(t){var i=t.ref;if(i!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof i=="function"?i(t):i.current=t}}function Bp(t){var i=t.alternate;i!==null&&(t.alternate=null,Bp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[kr],delete i[ta],delete i[Rc],delete i[w_],delete i[T_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $p(t){return t.tag===5||t.tag===3||t.tag===4}function Hp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$p(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cf(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=gl));else if(c!==4&&(t=t.child,t!==null))for(cf(t,i,a),t=t.sibling;t!==null;)cf(t,i,a),t=t.sibling}function ff(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(ff(t,i,a),t=t.sibling;t!==null;)ff(t,i,a),t=t.sibling}var Yt=null,hr=!1;function Mi(t,i,a){for(a=a.child;a!==null;)qp(t,i,a),a=a.sibling}function qp(t,i,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(_n,a)}catch{}switch(a.tag){case 5:ln||gs(a,i);case 6:var c=Yt,d=hr;Yt=null,Mi(t,i,a),Yt=c,hr=d,Yt!==null&&(hr?(t=Yt,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Yt.removeChild(a.stateNode));break;case 18:Yt!==null&&(hr?(t=Yt,a=a.stateNode,t.nodeType===8?Sc(t.parentNode,a):t.nodeType===1&&Sc(t,a),ar(t)):Sc(Yt,a.stateNode));break;case 4:c=Yt,d=hr,Yt=a.stateNode.containerInfo,hr=!0,Mi(t,i,a),Yt=c,hr=d;break;case 0:case 11:case 14:case 15:if(!ln&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,E=m.destroy;m=m.tag,E!==void 0&&(m&2||m&4)&&lf(a,i,E),d=d.next}while(d!==c)}Mi(t,i,a);break;case 1:if(!ln&&(gs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(P){Ct(a,i,P)}Mi(t,i,a);break;case 21:Mi(t,i,a);break;case 22:a.mode&1?(ln=(c=ln)||a.memoizedState!==null,Mi(t,i,a),ln=c):Mi(t,i,a);break;default:Mi(t,i,a)}}function Wp(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new F_),i.forEach(function(c){var d=Q_.bind(null,t,c);a.has(c)||(a.add(c),c.then(d,d))})}}function dr(t,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=t,E=i,P=E;e:for(;P!==null;){switch(P.tag){case 5:Yt=P.stateNode,hr=!1;break e;case 3:Yt=P.stateNode.containerInfo,hr=!0;break e;case 4:Yt=P.stateNode.containerInfo,hr=!0;break e}P=P.return}if(Yt===null)throw Error(n(160));qp(m,E,d),Yt=null,hr=!1;var L=d.alternate;L!==null&&(L.return=null),d.return=null}catch(K){Ct(d,i,K)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Kp(i,t),i=i.sibling}function Kp(t,i){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dr(i,t),Vr(t),c&4){try{ha(3,t,t.return),Ul(3,t)}catch(Ie){Ct(t,t.return,Ie)}try{ha(5,t,t.return)}catch(Ie){Ct(t,t.return,Ie)}}break;case 1:dr(i,t),Vr(t),c&512&&a!==null&&gs(a,a.return);break;case 5:if(dr(i,t),Vr(t),c&512&&a!==null&&gs(a,a.return),t.flags&32){var d=t.stateNode;try{qt(d,"")}catch(Ie){Ct(t,t.return,Ie)}}if(c&4&&(d=t.stateNode,d!=null)){var m=t.memoizedProps,E=a!==null?a.memoizedProps:m,P=t.type,L=t.updateQueue;if(t.updateQueue=null,L!==null)try{P==="input"&&m.type==="radio"&&m.name!=null&&mi(d,m),_i(P,E);var K=_i(P,m);for(E=0;E<L.length;E+=2){var se=L[E],ue=L[E+1];se==="style"?so(d,ue):se==="dangerouslySetInnerHTML"?oo(d,ue):se==="children"?qt(d,ue):ie(d,se,ue,K)}switch(P){case"input":io(d,m);break;case"textarea":Er(d,m);break;case"select":var re=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var _e=m.value;_e!=null?Ht(d,!!m.multiple,_e,!1):re!==!!m.multiple&&(m.defaultValue!=null?Ht(d,!!m.multiple,m.defaultValue,!0):Ht(d,!!m.multiple,m.multiple?[]:"",!1))}d[ta]=m}catch(Ie){Ct(t,t.return,Ie)}}break;case 6:if(dr(i,t),Vr(t),c&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,m=t.memoizedProps;try{d.nodeValue=m}catch(Ie){Ct(t,t.return,Ie)}}break;case 3:if(dr(i,t),Vr(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ar(i.containerInfo)}catch(Ie){Ct(t,t.return,Ie)}break;case 4:dr(i,t),Vr(t);break;case 13:dr(i,t),Vr(t),d=t.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(pf=at())),c&4&&Wp(t);break;case 22:if(se=a!==null&&a.memoizedState!==null,t.mode&1?(ln=(K=ln)||se,dr(i,t),ln=K):dr(i,t),Vr(t),c&8192){if(K=t.memoizedState!==null,(t.stateNode.isHidden=K)&&!se&&t.mode&1)for(Te=t,se=t.child;se!==null;){for(ue=Te=se;Te!==null;){switch(re=Te,_e=re.child,re.tag){case 0:case 11:case 14:case 15:ha(4,re,re.return);break;case 1:gs(re,re.return);var Re=re.stateNode;if(typeof Re.componentWillUnmount=="function"){c=re,a=re.return;try{i=c,Re.props=i.memoizedProps,Re.state=i.memoizedState,Re.componentWillUnmount()}catch(Ie){Ct(c,a,Ie)}}break;case 5:gs(re,re.return);break;case 22:if(re.memoizedState!==null){Yp(ue);continue}}_e!==null?(_e.return=re,Te=_e):Yp(ue)}se=se.sibling}e:for(se=null,ue=t;;){if(ue.tag===5){if(se===null){se=ue;try{d=ue.stateNode,K?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(P=ue.stateNode,L=ue.memoizedProps.style,E=L!=null&&L.hasOwnProperty("display")?L.display:null,P.style.display=yi("display",E))}catch(Ie){Ct(t,t.return,Ie)}}}else if(ue.tag===6){if(se===null)try{ue.stateNode.nodeValue=K?"":ue.memoizedProps}catch(Ie){Ct(t,t.return,Ie)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===t)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===t)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===t)break e;se===ue&&(se=null),ue=ue.return}se===ue&&(se=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:dr(i,t),Vr(t),c&4&&Wp(t);break;case 21:break;default:dr(i,t),Vr(t)}}function Vr(t){var i=t.flags;if(i&2){try{e:{for(var a=t.return;a!==null;){if($p(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(qt(d,""),c.flags&=-33);var m=Hp(t);ff(t,m,d);break;case 3:case 4:var E=c.stateNode.containerInfo,P=Hp(t);cf(t,P,E);break;default:throw Error(n(161))}}catch(L){Ct(t,t.return,L)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function z_(t,i,a){Te=t,Qp(t)}function Qp(t,i,a){for(var c=(t.mode&1)!==0;Te!==null;){var d=Te,m=d.child;if(d.tag===22&&c){var E=d.memoizedState!==null||Fl;if(!E){var P=d.alternate,L=P!==null&&P.memoizedState!==null||ln;P=Fl;var K=ln;if(Fl=E,(ln=L)&&!K)for(Te=d;Te!==null;)E=Te,L=E.child,E.tag===22&&E.memoizedState!==null?Xp(d):L!==null?(L.return=E,Te=L):Xp(d);for(;m!==null;)Te=m,Qp(m),m=m.sibling;Te=d,Fl=P,ln=K}Gp(t)}else d.subtreeFlags&8772&&m!==null?(m.return=d,Te=m):Gp(t)}}function Gp(t){for(;Te!==null;){var i=Te;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ln||Ul(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!ln)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:fr(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Yd(i,m,c);break;case 3:var E=i.updateQueue;if(E!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Yd(i,E,a)}break;case 5:var P=i.stateNode;if(a===null&&i.flags&4){a=P;var L=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&a.focus();break;case"img":L.src&&(a.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var K=i.alternate;if(K!==null){var se=K.memoizedState;if(se!==null){var ue=se.dehydrated;ue!==null&&ar(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ln||i.flags&512&&uf(i)}catch(re){Ct(i,i.return,re)}}if(i===t){Te=null;break}if(a=i.sibling,a!==null){a.return=i.return,Te=a;break}Te=i.return}}function Yp(t){for(;Te!==null;){var i=Te;if(i===t){Te=null;break}var a=i.sibling;if(a!==null){a.return=i.return,Te=a;break}Te=i.return}}function Xp(t){for(;Te!==null;){var i=Te;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Ul(4,i)}catch(L){Ct(i,a,L)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(L){Ct(i,d,L)}}var m=i.return;try{uf(i)}catch(L){Ct(i,m,L)}break;case 5:var E=i.return;try{uf(i)}catch(L){Ct(i,E,L)}}}catch(L){Ct(i,i.return,L)}if(i===t){Te=null;break}var P=i.sibling;if(P!==null){P.return=i.return,Te=P;break}Te=i.return}}var j_=Math.ceil,zl=me.ReactCurrentDispatcher,hf=me.ReactCurrentOwner,qn=me.ReactCurrentBatchConfig,rt=0,zt=null,kt=null,Xt=0,Mn=0,ys=Di(0),Lt=0,da=null,To=0,jl=0,df=0,pa=null,In=null,pf=0,vs=1/0,si=null,Bl=!1,mf=null,bi=null,$l=!1,Fi=null,Hl=0,ma=0,gf=null,ql=-1,Wl=0;function gn(){return rt&6?at():ql!==-1?ql:ql=at()}function Ui(t){return t.mode&1?rt&2&&Xt!==0?Xt&-Xt:R_.transition!==null?(Wl===0&&(Wl=uo()),Wl):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:$s(t.type)),t):1}function pr(t,i,a,c){if(50<ma)throw ma=0,gf=null,Error(n(185));Si(t,a,c),(!(rt&2)||t!==zt)&&(t===zt&&(!(rt&2)&&(jl|=a),Lt===4&&zi(t,Xt)),Cn(t,c),a===1&&rt===0&&!(i.mode&1)&&(vs=at()+500,El&&Vi()))}function Cn(t,i){var a=t.callbackNode;Qr(t,i);var c=lo(t,t===zt?Xt:0);if(c===0)a!==null&&Wr(a),t.callbackNode=null,t.callbackPriority=0;else if(i=c&-c,t.callbackPriority!==i){if(a!=null&&Wr(a),i===1)t.tag===0?S_(Zp.bind(null,t)):Fd(Zp.bind(null,t)),__(function(){!(rt&6)&&Vi()}),a=null;else{switch(Ii(c)){case 1:a=Xe;break;case 4:a=pt;break;case 16:a=Kt;break;case 536870912:a=mt;break;default:a=Kt}a=am(a,Jp.bind(null,t))}t.callbackPriority=i,t.callbackNode=a}}function Jp(t,i){if(ql=-1,Wl=0,rt&6)throw Error(n(327));var a=t.callbackNode;if(_s()&&t.callbackNode!==a)return null;var c=lo(t,t===zt?Xt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||i)i=Kl(t,c);else{i=c;var d=rt;rt|=2;var m=tm();(zt!==t||Xt!==i)&&(si=null,vs=at()+500,Ro(t,i));do try{H_();break}catch(P){em(t,P)}while(!0);Vc(),zl.current=m,rt=d,kt!==null?i=0:(zt=null,Xt=0,i=Lt)}if(i!==0){if(i===2&&(d=Dn(t),d!==0&&(c=d,i=yf(t,d))),i===1)throw a=da,Ro(t,0),zi(t,c),Cn(t,at()),a;if(i===6)zi(t,c);else{if(d=t.current.alternate,!(c&30)&&!B_(d)&&(i=Kl(t,c),i===2&&(m=Dn(t),m!==0&&(c=m,i=yf(t,m))),i===1))throw a=da,Ro(t,0),zi(t,c),Cn(t,at()),a;switch(t.finishedWork=d,t.finishedLanes=c,i){case 0:case 1:throw Error(n(345));case 2:Io(t,In,si);break;case 3:if(zi(t,c),(c&130023424)===c&&(i=pf+500-at(),10<i)){if(lo(t,0)!==0)break;if(d=t.suspendedLanes,(d&c)!==c){gn(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=Tc(Io.bind(null,t,In,si),i);break}Io(t,In,si);break;case 4:if(zi(t,c),(c&4194240)===c)break;for(i=t.eventTimes,d=-1;0<c;){var E=31-dn(c);m=1<<E,E=i[E],E>d&&(d=E),c&=~m}if(c=d,c=at()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*j_(c/1960))-c,10<c){t.timeoutHandle=Tc(Io.bind(null,t,In,si),c);break}Io(t,In,si);break;case 5:Io(t,In,si);break;default:throw Error(n(329))}}}return Cn(t,at()),t.callbackNode===a?Jp.bind(null,t):null}function yf(t,i){var a=pa;return t.current.memoizedState.isDehydrated&&(Ro(t,i).flags|=256),t=Kl(t,i),t!==2&&(i=In,In=a,i!==null&&vf(i)),t}function vf(t){In===null?In=t:In.push.apply(In,t)}function B_(t){for(var i=t;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!ur(m(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zi(t,i){for(i&=~df,i&=~jl,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var a=31-dn(i),c=1<<a;t[a]=-1,i&=~c}}function Zp(t){if(rt&6)throw Error(n(327));_s();var i=lo(t,0);if(!(i&1))return Cn(t,at()),null;var a=Kl(t,i);if(t.tag!==0&&a===2){var c=Dn(t);c!==0&&(i=c,a=yf(t,c))}if(a===1)throw a=da,Ro(t,0),zi(t,i),Cn(t,at()),a;if(a===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,Io(t,In,si),Cn(t,at()),null}function _f(t,i){var a=rt;rt|=1;try{return t(i)}finally{rt=a,rt===0&&(vs=at()+500,El&&Vi())}}function So(t){Fi!==null&&Fi.tag===0&&!(rt&6)&&_s();var i=rt;rt|=1;var a=qn.transition,c=Qe;try{if(qn.transition=null,Qe=1,t)return t()}finally{Qe=c,qn.transition=a,rt=i,!(rt&6)&&Vi()}}function Ef(){Mn=ys.current,yt(ys)}function Ro(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,v_(a)),kt!==null)for(a=kt.return;a!==null;){var c=a;switch(Pc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&vl();break;case 3:ps(),yt(Tn),yt(on),jc();break;case 5:Uc(c);break;case 4:ps();break;case 13:yt(wt);break;case 19:yt(wt);break;case 10:Lc(c.type._context);break;case 22:case 23:Ef()}a=a.return}if(zt=t,kt=t=ji(t.current,null),Xt=Mn=i,Lt=0,da=null,df=jl=To=0,In=pa=null,_o!==null){for(i=0;i<_o.length;i++)if(a=_o[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var E=m.next;m.next=d,c.next=E}a.pending=c}_o=null}return t}function em(t,i){do{var a=kt;try{if(Vc(),kl.current=Ll,Dl){for(var c=Tt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Dl=!1}if(wo=0,Ut=Vt=Tt=null,aa=!1,la=0,hf.current=null,a===null||a.return===null){Lt=1,da=i,kt=null;break}e:{var m=t,E=a.return,P=a,L=i;if(i=Xt,P.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var K=L,se=P,ue=se.tag;if(!(se.mode&1)&&(ue===0||ue===11||ue===15)){var re=se.alternate;re?(se.updateQueue=re.updateQueue,se.memoizedState=re.memoizedState,se.lanes=re.lanes):(se.updateQueue=null,se.memoizedState=null)}var _e=Ip(E);if(_e!==null){_e.flags&=-257,Cp(_e,E,P,m,i),_e.mode&1&&Rp(m,K,i),i=_e,L=K;var Re=i.updateQueue;if(Re===null){var Ie=new Set;Ie.add(L),i.updateQueue=Ie}else Re.add(L);break e}else{if(!(i&1)){Rp(m,K,i),wf();break e}L=Error(n(426))}}else if(_t&&P.mode&1){var At=Ip(E);if(At!==null){!(At.flags&65536)&&(At.flags|=256),Cp(At,E,P,m,i),Dc(ms(L,P));break e}}m=L=ms(L,P),Lt!==4&&(Lt=2),pa===null?pa=[m]:pa.push(m),m=E;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var $=Tp(m,L,i);Gd(m,$);break e;case 1:P=L;var b=m.type,W=m.stateNode;if(!(m.flags&128)&&(typeof b.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(bi===null||!bi.has(W)))){m.flags|=65536,i&=-i,m.lanes|=i;var ce=Sp(m,P,i);Gd(m,ce);break e}}m=m.return}while(m!==null)}rm(a)}catch(Ce){i=Ce,kt===a&&a!==null&&(kt=a=a.return);continue}break}while(!0)}function tm(){var t=zl.current;return zl.current=Ll,t===null?Ll:t}function wf(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),zt===null||!(To&268435455)&&!(jl&268435455)||zi(zt,Xt)}function Kl(t,i){var a=rt;rt|=2;var c=tm();(zt!==t||Xt!==i)&&(si=null,Ro(t,i));do try{$_();break}catch(d){em(t,d)}while(!0);if(Vc(),rt=a,zl.current=c,kt!==null)throw Error(n(261));return zt=null,Xt=0,Lt}function $_(){for(;kt!==null;)nm(kt)}function H_(){for(;kt!==null&&!Rr();)nm(kt)}function nm(t){var i=sm(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,i===null?rm(t):kt=i,hf.current=null}function rm(t){var i=t;do{var a=i.alternate;if(t=i.return,i.flags&32768){if(a=b_(a,i),a!==null){a.flags&=32767,kt=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lt=6,kt=null;return}}else if(a=M_(a,i,Mn),a!==null){kt=a;return}if(i=i.sibling,i!==null){kt=i;return}kt=i=t}while(i!==null);Lt===0&&(Lt=5)}function Io(t,i,a){var c=Qe,d=qn.transition;try{qn.transition=null,Qe=1,q_(t,i,a,c)}finally{qn.transition=d,Qe=c}return null}function q_(t,i,a,c){do _s();while(Fi!==null);if(rt&6)throw Error(n(327));a=t.finishedWork;var d=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=a.lanes|a.childLanes;if(ft(t,m),t===zt&&(kt=zt=null,Xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||$l||($l=!0,am(Kt,function(){return _s(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=qn.transition,qn.transition=null;var E=Qe;Qe=1;var P=rt;rt|=4,hf.current=null,U_(t,a),Kp(a,t),f_(Ec),Ai=!!_c,Ec=_c=null,t.current=a,z_(a),nr(),rt=P,Qe=E,qn.transition=m}else t.current=a;if($l&&($l=!1,Fi=t,Hl=d),m=t.pendingLanes,m===0&&(bi=null),zo(a.stateNode),Cn(t,at()),i!==null)for(c=t.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Bl)throw Bl=!1,t=mf,mf=null,t;return Hl&1&&t.tag!==0&&_s(),m=t.pendingLanes,m&1?t===gf?ma++:(ma=0,gf=t):ma=0,Vi(),null}function _s(){if(Fi!==null){var t=Ii(Hl),i=qn.transition,a=Qe;try{if(qn.transition=null,Qe=16>t?16:t,Fi===null)var c=!1;else{if(t=Fi,Fi=null,Hl=0,rt&6)throw Error(n(331));var d=rt;for(rt|=4,Te=t.current;Te!==null;){var m=Te,E=m.child;if(Te.flags&16){var P=m.deletions;if(P!==null){for(var L=0;L<P.length;L++){var K=P[L];for(Te=K;Te!==null;){var se=Te;switch(se.tag){case 0:case 11:case 15:ha(8,se,m)}var ue=se.child;if(ue!==null)ue.return=se,Te=ue;else for(;Te!==null;){se=Te;var re=se.sibling,_e=se.return;if(Bp(se),se===K){Te=null;break}if(re!==null){re.return=_e,Te=re;break}Te=_e}}}var Re=m.alternate;if(Re!==null){var Ie=Re.child;if(Ie!==null){Re.child=null;do{var At=Ie.sibling;Ie.sibling=null,Ie=At}while(Ie!==null)}}Te=m}}if(m.subtreeFlags&2064&&E!==null)E.return=m,Te=E;else e:for(;Te!==null;){if(m=Te,m.flags&2048)switch(m.tag){case 0:case 11:case 15:ha(9,m,m.return)}var $=m.sibling;if($!==null){$.return=m.return,Te=$;break e}Te=m.return}}var b=t.current;for(Te=b;Te!==null;){E=Te;var W=E.child;if(E.subtreeFlags&2064&&W!==null)W.return=E,Te=W;else e:for(E=b;Te!==null;){if(P=Te,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:Ul(9,P)}}catch(Ce){Ct(P,P.return,Ce)}if(P===E){Te=null;break e}var ce=P.sibling;if(ce!==null){ce.return=P.return,Te=ce;break e}Te=P.return}}if(rt=d,Vi(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(_n,t)}catch{}c=!0}return c}finally{Qe=a,qn.transition=i}}return!1}function im(t,i,a){i=ms(a,i),i=Tp(t,i,1),t=Oi(t,i,1),i=gn(),t!==null&&(Si(t,1,i),Cn(t,i))}function Ct(t,i,a){if(t.tag===3)im(t,t,a);else for(;i!==null;){if(i.tag===3){im(i,t,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(bi===null||!bi.has(c))){t=ms(a,t),t=Sp(i,t,1),i=Oi(i,t,1),t=gn(),i!==null&&(Si(i,1,t),Cn(i,t));break}}i=i.return}}function W_(t,i,a){var c=t.pingCache;c!==null&&c.delete(i),i=gn(),t.pingedLanes|=t.suspendedLanes&a,zt===t&&(Xt&a)===a&&(Lt===4||Lt===3&&(Xt&130023424)===Xt&&500>at()-pf?Ro(t,0):df|=a),Cn(t,i)}function om(t,i){i===0&&(t.mode&1?(i=Bo,Bo<<=1,!(Bo&130023424)&&(Bo=4194304)):i=1);var a=gn();t=ri(t,i),t!==null&&(Si(t,i,a),Cn(t,a))}function K_(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),om(t,a)}function Q_(t,i){var a=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(i),om(t,a)}var sm;sm=function(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps||Tn.current)Rn=!0;else{if(!(t.lanes&a)&&!(i.flags&128))return Rn=!1,O_(t,i,a);Rn=!!(t.flags&131072)}else Rn=!1,_t&&i.flags&1048576&&Ud(i,Tl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;bl(t,i),t=i.pendingProps;var d=as(i,on.current);ds(i,a),d=Hc(null,i,c,t,d,a);var m=qc();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Sn(c)?(m=!0,_l(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,bc(i),d.updater=Ol,i.stateNode=d,d._reactInternals=i,Xc(i,c,t,a),i=tf(null,i,c,!0,m,a)):(i.tag=0,_t&&m&&Ac(i),mn(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(bl(t,i),t=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=Y_(c),t=fr(c,t),d){case 0:i=ef(null,i,c,t,a);break e;case 1:i=Np(null,i,c,t,a);break e;case 11:i=Ap(null,i,c,t,a);break e;case 14:i=Pp(null,i,c,fr(c.type,t),a);break e}throw Error(n(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:fr(c,d),ef(t,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:fr(c,d),Np(t,i,c,d,a);case 3:e:{if(Vp(i),t===null)throw Error(n(387));c=i.pendingProps,m=i.memoizedState,d=m.element,Qd(t,i),Pl(i,c,null,a);var E=i.memoizedState;if(c=E.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=ms(Error(n(423)),i),i=Lp(t,i,c,a,d);break e}else if(c!==d){d=ms(Error(n(424)),i),i=Lp(t,i,c,a,d);break e}else for(On=ki(i.stateNode.containerInfo.firstChild),Ln=i,_t=!0,cr=null,a=Wd(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(cs(),c===d){i=oi(t,i,a);break e}mn(t,i,c,a)}i=i.child}return i;case 5:return Xd(i),t===null&&kc(i),c=i.type,d=i.pendingProps,m=t!==null?t.memoizedProps:null,E=d.children,wc(c,d)?E=null:m!==null&&wc(c,m)&&(i.flags|=32),Dp(t,i),mn(t,i,E,a),i.child;case 6:return t===null&&kc(i),null;case 13:return Op(t,i,a);case 4:return Fc(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=fs(i,null,c,a):mn(t,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:fr(c,d),Ap(t,i,c,d,a);case 7:return mn(t,i,i.pendingProps,a),i.child;case 8:return mn(t,i,i.pendingProps.children,a),i.child;case 12:return mn(t,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,E=d.value,ht(Il,c._currentValue),c._currentValue=E,m!==null)if(ur(m.value,E)){if(m.children===d.children&&!Tn.current){i=oi(t,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var P=m.dependencies;if(P!==null){E=m.child;for(var L=P.firstContext;L!==null;){if(L.context===c){if(m.tag===1){L=ii(-1,a&-a),L.tag=2;var K=m.updateQueue;if(K!==null){K=K.shared;var se=K.pending;se===null?L.next=L:(L.next=se.next,se.next=L),K.pending=L}}m.lanes|=a,L=m.alternate,L!==null&&(L.lanes|=a),Oc(m.return,a,i),P.lanes|=a;break}L=L.next}}else if(m.tag===10)E=m.type===i.type?null:m.child;else if(m.tag===18){if(E=m.return,E===null)throw Error(n(341));E.lanes|=a,P=E.alternate,P!==null&&(P.lanes|=a),Oc(E,a,i),E=m.sibling}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===i){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}mn(t,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,ds(i,a),d=$n(d),c=c(d),i.flags|=1,mn(t,i,c,a),i.child;case 14:return c=i.type,d=fr(c,i.pendingProps),d=fr(c.type,d),Pp(t,i,c,d,a);case 15:return xp(t,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:fr(c,d),bl(t,i),i.tag=1,Sn(c)?(t=!0,_l(i)):t=!1,ds(i,a),Ep(i,c,d),Xc(i,c,d,a),tf(null,i,c,!0,t,a);case 19:return bp(t,i,a);case 22:return kp(t,i,a)}throw Error(n(156,i.tag))};function am(t,i){return Wt(t,i)}function G_(t,i,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,i,a,c){return new G_(t,i,a,c)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y_(t){if(typeof t=="function")return Tf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===k)return 11;if(t===te)return 14}return 2}function ji(t,i){var a=t.alternate;return a===null?(a=Wn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function Ql(t,i,a,c,d,m){var E=2;if(c=t,typeof t=="function")Tf(t)&&(E=1);else if(typeof t=="string")E=5;else e:switch(t){case V:return Co(a.children,d,m,i);case R:E=8,d|=8;break;case A:return t=Wn(12,a,i,d|2),t.elementType=A,t.lanes=m,t;case C:return t=Wn(13,a,i,d),t.elementType=C,t.lanes=m,t;case le:return t=Wn(19,a,i,d),t.elementType=le,t.lanes=m,t;case q:return Gl(a,d,m,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:E=10;break e;case x:E=9;break e;case k:E=11;break e;case te:E=14;break e;case xe:E=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return i=Wn(E,a,i,d),i.elementType=t,i.type=c,i.lanes=m,i}function Co(t,i,a,c){return t=Wn(7,t,c,i),t.lanes=a,t}function Gl(t,i,a,c){return t=Wn(22,t,c,i),t.elementType=q,t.lanes=a,t.stateNode={isHidden:!1},t}function Sf(t,i,a){return t=Wn(6,t,null,i),t.lanes=a,t}function Rf(t,i,a){return i=Wn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function X_(t,i,a,c,d){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function If(t,i,a,c,d,m,E,P,L){return t=new X_(t,i,a,P,L),i===1?(i=1,m===!0&&(i|=8)):i=0,m=Wn(3,null,null,i),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},bc(m),t}function J_(t,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:c==null?null:""+c,children:t,containerInfo:i,implementation:a}}function lm(t){if(!t)return Ni;t=t._reactInternals;e:{if(Ke(t)!==t||t.tag!==1)throw Error(n(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Sn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(t.tag===1){var a=t.type;if(Sn(a))return Md(t,a,i)}return i}function um(t,i,a,c,d,m,E,P,L){return t=If(a,c,!0,t,d,m,E,P,L),t.context=lm(null),a=t.current,c=gn(),d=Ui(a),m=ii(c,d),m.callback=i??null,Oi(a,m,d),t.current.lanes=d,Si(t,d,c),Cn(t,c),t}function Yl(t,i,a,c){var d=i.current,m=gn(),E=Ui(d);return a=lm(a),i.context===null?i.context=a:i.pendingContext=a,i=ii(m,E),i.payload={element:t},c=c===void 0?null:c,c!==null&&(i.callback=c),t=Oi(d,i,E),t!==null&&(pr(t,d,E,m),Al(t,d,E)),E}function Xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Cf(t,i){cm(t,i),(t=t.alternate)&&cm(t,i)}var fm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Af(t){this._internalRoot=t}Jl.prototype.render=Af.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(n(409));Yl(t,i,null,null)},Jl.prototype.unmount=Af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;So(function(){Yl(null,t,null,null)}),i[Zr]=null}};function Jl(t){this._internalRoot=t}Jl.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ja();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Cr.length&&i!==0&&i<Cr[a].priority;a++);Cr.splice(a,0,t),a===0&&tl(t)}};function Pf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hm(){}function Z_(t,i,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var K=Xl(E);m.call(K)}}var E=um(i,c,t,0,null,!1,!1,"",hm);return t._reactRootContainer=E,t[Zr]=E.current,Zs(t.nodeType===8?t.parentNode:t),So(),E}for(;d=t.lastChild;)t.removeChild(d);if(typeof c=="function"){var P=c;c=function(){var K=Xl(L);P.call(K)}}var L=If(t,0,!1,null,null,!1,!1,"",hm);return t._reactRootContainer=L,t[Zr]=L.current,Zs(t.nodeType===8?t.parentNode:t),So(function(){Yl(i,L,a,c)}),L}function eu(t,i,a,c,d){var m=a._reactRootContainer;if(m){var E=m;if(typeof d=="function"){var P=d;d=function(){var L=Xl(E);P.call(L)}}Yl(i,E,t,d)}else E=Z_(a,i,t,d,c);return Xl(E)}Ya=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var a=wi(i.pendingLanes);a!==0&&(Ri(i,a|1),Cn(i,at()),!(rt&6)&&(vs=at()+500,Vi()))}break;case 13:So(function(){var c=ri(t,1);if(c!==null){var d=gn();pr(c,t,1,d)}}),Cf(t,1)}},$o=function(t){if(t.tag===13){var i=ri(t,134217728);if(i!==null){var a=gn();pr(i,t,134217728,a)}Cf(t,134217728)}},Xa=function(t){if(t.tag===13){var i=Ui(t),a=ri(t,i);if(a!==null){var c=gn();pr(a,t,i,c)}Cf(t,i)}},Ja=function(){return Qe},Za=function(t,i){var a=Qe;try{return Qe=t,i()}finally{Qe=a}},Hr=function(t,i,a){switch(i){case"input":if(io(t,a),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==t&&c.form===t.form){var d=yl(c);if(!d)throw Error(n(90));di(c),io(c,d)}}}break;case"textarea":Er(t,a);break;case"select":i=a.value,i!=null&&Ht(t,!!a.multiple,i,!1)}},qr=_f,O=So;var eE={usingClientEntryPoint:!1,Events:[na,os,yl,hn,ao,_f]},ga={findFiberByHostInstance:mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tE={bundleType:ga.bundleType,version:ga.version,rendererPackageName:ga.rendererPackageName,rendererConfig:ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tr(t),t===null?null:t.stateNode},findFiberByHostInstance:ga.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{_n=tu.inject(tE),rn=tu}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eE,An.createPortal=function(t,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pf(i))throw Error(n(200));return J_(t,i,null,a)},An.createRoot=function(t,i){if(!Pf(t))throw Error(n(299));var a=!1,c="",d=fm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=If(t,1,!1,null,null,a,!1,c,d),t[Zr]=i.current,Zs(t.nodeType===8?t.parentNode:t),new Af(i)},An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=tr(i),t=t===null?null:t.stateNode,t},An.flushSync=function(t){return So(t)},An.hydrate=function(t,i,a){if(!Zl(i))throw Error(n(200));return eu(null,t,i,!0,a)},An.hydrateRoot=function(t,i,a){if(!Pf(t))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",E=fm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),i=um(i,null,t,1,a??null,d,!1,m,E),t[Zr]=i.current,Zs(t),c)for(t=0;t<c.length;t++)a=c[t],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Jl(i)},An.render=function(t,i,a){if(!Zl(i))throw Error(n(200));return eu(null,t,i,!1,a)},An.unmountComponentAtNode=function(t){if(!Zl(t))throw Error(n(40));return t._reactRootContainer?(So(function(){eu(null,null,t,!1,function(){t._reactRootContainer=null,t[Zr]=null})}),!0):!1},An.unstable_batchedUpdates=_f,An.unstable_renderSubtreeIntoContainer=function(t,i,a,c){if(!Zl(a))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return eu(t,i,a,!1,c)},An.version="18.3.1-next-f1338f8080-20240426",An}var Em;function Eh(){if(Em)return Df.exports;Em=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Df.exports=cE(),Df.exports}var wm;function fE(){if(wm)return nu;wm=1;var r=Eh();return nu.createRoot=r.createRoot,nu.hydrateRoot=r.hydrateRoot,nu}var hE=fE(),va={},Tm;function dE(){if(Tm)return va;Tm=1,Object.defineProperty(va,"__esModule",{value:!0}),va.parse=f,va.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function f(T,I){const N=new l,U=T.length;if(U<2)return N;const F=(I==null?void 0:I.decode)||_;let H=0;do{const ne=T.indexOf("=",H);if(ne===-1)break;const ie=T.indexOf(";",H),me=ie===-1?U:ie;if(ne>me){H=T.lastIndexOf(";",ne-1)+1;continue}const z=h(T,H,ne),de=g(T,ne,z),V=T.slice(z,de);if(N[V]===void 0){let R=h(T,ne+1,me),A=g(T,me,R);const D=F(T.slice(R,A));N[V]=D}H=me+1}while(H<U);return N}function h(T,I,N){do{const U=T.charCodeAt(I);if(U!==32&&U!==9)return I}while(++I<N);return N}function g(T,I,N){for(;I>N;){const U=T.charCodeAt(--I);if(U!==32&&U!==9)return I+1}return N}function y(T,I,N){const U=(N==null?void 0:N.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const F=U(I);if(!e.test(F))throw new TypeError(`argument val is invalid: ${I}`);let H=T+"="+F;if(!N)return H;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);H+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);H+="; Domain="+N.domain}if(N.path){if(!o.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);H+="; Path="+N.path}if(N.expires){if(!w(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);H+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(H+="; HttpOnly"),N.secure&&(H+="; Secure"),N.partitioned&&(H+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return H}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return s.call(T)==="[object Date]"}return va}dE();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sm="popstate";function pE(r={}){function e(s,l){let{pathname:f="/",search:h="",hash:g=""}=fi(s.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Da("",{pathname:f,search:h,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){let f=s.document.querySelector("base"),h="";if(f&&f.getAttribute("href")){let g=s.location.href,y=g.indexOf("#");h=y===-1?g:g.slice(0,y)}return h+"#"+(typeof l=="string"?l:Ji(l))}function o(s,l){$t(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return gE(e,n,o,r)}function Ye(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $t(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mE(){return Math.random().toString(36).substring(2,10)}function Rm(r,e){return{usr:r.state,key:r.key,idx:e}}function Da(r,e,n=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?fi(e):e,state:n,key:e&&e.key||o||mE()}}function Ji({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fi(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let o=r.indexOf("?");o>=0&&(e.search=r.substring(o),r=r.substring(0,o)),r&&(e.pathname=r)}return e}function gE(r,e,n,o={}){let{window:s=document.defaultView,v5Compat:l=!1}=o,f=s.history,h="POP",g=null,y=_();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function _(){return(f.state||{idx:null}).idx}function w(){h="POP";let F=_(),H=F==null?null:F-y;y=F,g&&g({action:h,location:U.location,delta:H})}function T(F,H){h="PUSH";let ne=Da(U.location,F,H);n(ne,F),y=_()+1;let ie=Rm(ne,y),me=U.createHref(ne);try{f.pushState(ie,"",me)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(me)}l&&g&&g({action:h,location:U.location,delta:1})}function I(F,H){h="REPLACE";let ne=Da(U.location,F,H);n(ne,F),y=_();let ie=Rm(ne,y),me=U.createHref(ne);f.replaceState(ie,"",me),l&&g&&g({action:h,location:U.location,delta:0})}function N(F){let H=s.location.origin!=="null"?s.location.origin:s.location.href,ne=typeof F=="string"?F:Ji(F);return ne=ne.replace(/ $/,"%20"),Ye(H,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,H)}let U={get action(){return h},get location(){return r(s,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(Sm,w),g=F,()=>{s.removeEventListener(Sm,w),g=null}},createHref(F){return e(s,F)},createURL:N,encodeLocation(F){let H=N(F);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:I,go(F){return f.go(F)}};return U}var yE=new Set(["lazy","caseSensitive","path","id","index","children"]);function vE(r){return r.index===!0}function Ru(r,e,n=[],o={}){return r.map((s,l)=>{let f=[...n,String(l)],h=typeof s.id=="string"?s.id:f.join("-");if(Ye(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ye(!o[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),vE(s)){let g={...s,...e(s),id:h};return o[h]=g,g}else{let g={...s,...e(s),id:h,children:void 0};return o[h]=g,s.children&&(g.children=Ru(s.children,e,f,o)),g}})}function qi(r,e,n="/"){return mu(r,e,n,!1)}function mu(r,e,n,o){let s=typeof e=="string"?fi(e):e,l=_r(s.pathname||"/",n);if(l==null)return null;let f=ey(r);EE(f);let h=null;for(let g=0;h==null&&g<f.length;++g){let y=DE(l);h=xE(f[g],y,o)}return h}function _E(r,e){let{route:n,pathname:o,params:s}=r;return{id:n.id,pathname:o,params:s,data:e[n.id],handle:n.handle}}function ey(r,e=[],n=[],o=""){let s=(l,f,h)=>{let g={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:f,route:l};g.relativePath.startsWith("/")&&(Ye(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length));let y=Mr([o,g.relativePath]),_=n.concat(g);l.children&&l.children.length>0&&(Ye(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),ey(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:AE(y,l.index),routesMeta:_})};return r.forEach((l,f)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))s(l,f);else for(let g of ty(l.path))s(l,f,g)}),e}function ty(r){let e=r.split("/");if(e.length===0)return[];let[n,...o]=e,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(o.length===0)return s?[l,""]:[l];let f=ty(o.join("/")),h=[];return h.push(...f.map(g=>g===""?l:[l,g].join("/"))),s&&h.push(...f),h.map(g=>r.startsWith("/")&&g===""?"/":g)}function EE(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:PE(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var wE=/^:[\w-]+$/,TE=3,SE=2,RE=1,IE=10,CE=-2,Im=r=>r==="*";function AE(r,e){let n=r.split("/"),o=n.length;return n.some(Im)&&(o+=CE),e&&(o+=SE),n.filter(s=>!Im(s)).reduce((s,l)=>s+(wE.test(l)?TE:l===""?RE:IE),o)}function PE(r,e){return r.length===e.length&&r.slice(0,-1).every((o,s)=>o===e[s])?r[r.length-1]-e[e.length-1]:0}function xE(r,e,n=!1){let{routesMeta:o}=r,s={},l="/",f=[];for(let h=0;h<o.length;++h){let g=o[h],y=h===o.length-1,_=l==="/"?e:e.slice(l.length)||"/",w=Iu({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),T=g.route;if(!w&&y&&n&&!o[o.length-1].route.index&&(w=Iu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!w)return null;Object.assign(s,w.params),f.push({params:s,pathname:Mr([l,w.pathname]),pathnameBase:LE(Mr([l,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(l=Mr([l,w.pathnameBase]))}return f}function Iu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,o]=kE(r.path,r.caseSensitive,r.end),s=e.match(n);if(!s)return null;let l=s[0],f=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:o.reduce((y,{paramName:_,isOptional:w},T)=>{if(_==="*"){let N=h[T]||"";f=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const I=h[T];return w&&!I?y[_]=void 0:y[_]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:f,pattern:r}}function kE(r,e=!1,n=!0){$t(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,g)=>(o.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function DE(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _r(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=r.charAt(n);return o&&o!=="/"?null:r.slice(n)||"/"}function NE(r,e="/"){let{pathname:n,search:o="",hash:s=""}=typeof r=="string"?fi(r):r;return{pathname:n?n.startsWith("/")?n:VE(n,e):e,search:OE(o),hash:ME(s)}}function VE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Lf(r,e,n,o){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ny(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wh(r){let e=ny(r);return e.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase)}function Th(r,e,n,o=!1){let s;typeof r=="string"?s=fi(r):(s={...r},Ye(!s.pathname||!s.pathname.includes("?"),Lf("?","pathname","search",s)),Ye(!s.pathname||!s.pathname.includes("#"),Lf("#","pathname","hash",s)),Ye(!s.search||!s.search.includes("#"),Lf("#","search","hash",s)));let l=r===""||s.pathname==="",f=l?"/":s.pathname,h;if(f==null)h=n;else{let w=e.length-1;if(!o&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),w-=1;s.pathname=T.join("/")}h=w>=0?e[w]:"/"}let g=NE(s,h),y=f&&f!=="/"&&f.endsWith("/"),_=(l||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var Mr=r=>r.join("/").replace(/\/\/+/g,"/"),LE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),OE=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ME=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Cu=class{constructor(r,e,n,o=!1){this.status=r,this.statusText=e||"",this.internal=o,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ju(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var ry=["POST","PUT","PATCH","DELETE"],bE=new Set(ry),FE=["GET",...ry],UE=new Set(FE),zE=new Set([301,302,303,307,308]),jE=new Set([307,308]),Of={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},BE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_a={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Sh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$E=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),iy="remix-router-transitions",oy=Symbol("ResetLoaderData");function HE(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ye(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let o=r.mapRouteProperties||$E,s={},l=Ru(r.routes,o,void 0,s),f,h=r.basename||"/",g=r.dataStrategy||GE,y=r.patchRoutesOnNavigation,_={...r.future},w=null,T=new Set,I=null,N=null,U=null,F=r.hydrationData!=null,H=qi(l,r.history.location,h),ne=null;if(H==null&&!y){let O=Qn(404,{pathname:r.history.location.pathname}),{matches:j,route:Q}=Mm(l);H=j,ne={[Q.id]:O}}H&&!r.hydrationData&&Zn(H,l,r.history.location.pathname).active&&(H=null);let ie;if(H)if(H.some(O=>O.route.lazy))ie=!1;else if(!H.some(O=>O.route.loader))ie=!0;else{let O=r.hydrationData?r.hydrationData.loaderData:null,j=r.hydrationData?r.hydrationData.errors:null;if(j){let Q=H.findIndex(Z=>j[Z.route.id]!==void 0);ie=H.slice(0,Q+1).every(Z=>!Jf(Z.route,O,j))}else ie=H.every(Q=>!Jf(Q.route,O,j))}else{ie=!1,H=[];let O=Zn(null,l,r.history.location.pathname);O.active&&O.matches&&(H=O.matches)}let me,z={historyAction:r.history.action,location:r.history.location,matches:H,initialized:ie,navigation:Of,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ne,fetchers:new Map,blockers:new Map},de="POP",V=!1,R,A=!1,D=new Map,x=null,k=!1,C=!1,le=new Set,te=new Map,xe=0,q=-1,G=new Map,fe=new Set,oe=new Map,M=new Map,J=new Set,ye=new Map,Le,Me=null;function $e(){if(w=r.history.listen(({action:O,location:j,delta:Q})=>{if(Le){Le(),Le=void 0;return}$t(ye.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Z=_i({currentLocation:z.location,nextLocation:j,historyAction:O});if(Z&&Q!=null){let ge=new Promise(we=>{Le=we});r.history.go(Q*-1),Sr(Z,{state:"blocked",location:j,proceed(){Sr(Z,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),ge.then(()=>r.history.go(Q))},reset(){let we=new Map(z.blockers);we.set(Z,_a),je({blockers:we})}});return}return tn(O,j)}),n){sw(e,D);let O=()=>aw(e,D);e.addEventListener("pagehide",O),x=()=>e.removeEventListener("pagehide",O)}return z.initialized||tn("POP",z.location,{initialHydration:!0}),me}function We(){w&&w(),x&&x(),T.clear(),R&&R.abort(),z.fetchers.forEach((O,j)=>xn(j)),z.blockers.forEach((O,j)=>vi(j))}function tt(O){return T.add(O),()=>T.delete(O)}function je(O,j={}){z={...z,...O};let Q=[],Z=[];z.fetchers.forEach((ge,we)=>{ge.state==="idle"&&(J.has(we)?Q.push(we):Z.push(we))}),J.forEach(ge=>{!z.fetchers.has(ge)&&!te.has(ge)&&Q.push(ge)}),[...T].forEach(ge=>ge(z,{deletedFetchers:Q,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),Q.forEach(ge=>xn(ge)),Z.forEach(ge=>z.fetchers.delete(ge))}function dt(O,j,{flushSync:Q}={}){var he,Oe;let Z=z.actionData!=null&&z.navigation.formMethod!=null&&gr(z.navigation.formMethod)&&z.navigation.state==="loading"&&((he=O.state)==null?void 0:he._isRedirect)!==!0,ge;j.actionData?Object.keys(j.actionData).length>0?ge=j.actionData:ge=null:Z?ge=z.actionData:ge=null;let we=j.loaderData?Lm(z.loaderData,j.loaderData,j.matches||[],j.errors):z.loaderData,ke=z.blockers;ke.size>0&&(ke=new Map(ke),ke.forEach((Be,ot)=>ke.set(ot,_a)));let ve=V===!0||z.navigation.formMethod!=null&&gr(z.navigation.formMethod)&&((Oe=O.state)==null?void 0:Oe._isRedirect)!==!0;f&&(l=f,f=void 0),k||de==="POP"||(de==="PUSH"?r.history.push(O,O.state):de==="REPLACE"&&r.history.replace(O,O.state));let Se;if(de==="POP"){let Be=D.get(z.location.pathname);Be&&Be.has(O.pathname)?Se={currentLocation:z.location,nextLocation:O}:D.has(O.pathname)&&(Se={currentLocation:O,nextLocation:z.location})}else if(A){let Be=D.get(z.location.pathname);Be?Be.add(O.pathname):(Be=new Set([O.pathname]),D.set(z.location.pathname,Be)),Se={currentLocation:z.location,nextLocation:O}}je({...j,actionData:ge,loaderData:we,historyAction:de,location:O,initialized:!0,navigation:Of,revalidation:"idle",restoreScrollPosition:kn(O,j.matches||z.matches),preventScrollReset:ve,blockers:ke},{viewTransitionOpts:Se,flushSync:Q===!0}),de="POP",V=!1,A=!1,k=!1,C=!1,Me==null||Me.resolve(),Me=null}async function Fn(O,j){if(typeof O=="number"){r.history.go(O);return}let Q=Xf(z.location,z.matches,h,O,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:Z,submission:ge,error:we}=Cm(!1,Q,j),ke=z.location,ve=Da(z.location,Z,j&&j.state);ve={...ve,...r.history.encodeLocation(ve)};let Se=j&&j.replace!=null?j.replace:void 0,he="PUSH";Se===!0?he="REPLACE":Se===!1||ge!=null&&gr(ge.formMethod)&&ge.formAction===z.location.pathname+z.location.search&&(he="REPLACE");let Oe=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,Be=(j&&j.flushSync)===!0,ot=_i({currentLocation:ke,nextLocation:ve,historyAction:he});if(ot){Sr(ot,{state:"blocked",location:ve,proceed(){Sr(ot,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),Fn(O,j)},reset(){let It=new Map(z.blockers);It.set(ot,_a),je({blockers:It})}});return}await tn(he,ve,{submission:ge,pendingError:we,preventScrollReset:Oe,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:Be})}function di(){Me||(Me=lw()),Er(),je({revalidation:"loading"});let O=Me.promise;return z.navigation.state==="submitting"?O:z.navigation.state==="idle"?(tn(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),O):(tn(de||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:A===!0}),O)}async function tn(O,j,Q){R&&R.abort(),R=null,de=O,k=(Q&&Q.startUninterruptedRevalidation)===!0,vn(z.location,z.matches),V=(Q&&Q.preventScrollReset)===!0,A=(Q&&Q.enableViewTransition)===!0;let Z=f||l,ge=Q&&Q.overrideNavigation,we=qi(Z,j,h),ke=(Q&&Q.flushSync)===!0,ve=Zn(we,Z,j.pathname);if(ve.active&&ve.matches&&(we=ve.matches),!we){let{error:Ke,notFoundMatches:nt,route:st}=Jn(j.pathname);dt(j,{matches:nt,loaderData:{},errors:{[st.id]:Ke}},{flushSync:ke});return}if(z.initialized&&!C&&tw(z.location,j)&&!(Q&&Q.submission&&gr(Q.submission.formMethod))){dt(j,{matches:we},{flushSync:ke});return}R=new AbortController;let Se=Es(r.history,j,R.signal,Q&&Q.submission),he;if(Q&&Q.pendingError)he=[xo(we).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&gr(Q.submission.formMethod)){let Ke=await Br(Se,j,Q.submission,we,ve.active,{replace:Q.replace,flushSync:ke});if(Ke.shortCircuited)return;if(Ke.pendingActionResult){let[nt,st]=Ke.pendingActionResult;if(bn(st)&&ju(st.error)&&st.error.status===404){R=null,dt(j,{matches:Ke.matches,loaderData:{},errors:{[nt]:st.error}});return}}we=Ke.matches||we,he=Ke.pendingActionResult,ge=Mf(j,Q.submission),ke=!1,ve.active=!1,Se=Es(r.history,Se.url,Se.signal)}let{shortCircuited:Oe,matches:Be,loaderData:ot,errors:It}=await pi(Se,j,we,ve.active,ge,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,ke,he);Oe||(R=null,dt(j,{matches:Be||we,...Om(he),loaderData:ot,errors:It}))}async function Br(O,j,Q,Z,ge,we={}){Er();let ke=iw(j,Q);if(je({navigation:ke},{flushSync:we.flushSync===!0}),ge){let he=await hn(Z,j.pathname,O.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){let Oe=xo(he.partialMatches).route.id;return{matches:he.partialMatches,pendingActionResult:[Oe,{type:"error",error:he.error}]}}else if(he.matches)Z=he.matches;else{let{notFoundMatches:Oe,error:Be,route:ot}=Jn(j.pathname);return{matches:Oe,pendingActionResult:[ot.id,{type:"error",error:Be}]}}}let ve,Se=Sa(Z,j);if(!Se.route.action&&!Se.route.lazy)ve={type:"error",error:Qn(405,{method:O.method,pathname:j.pathname,routeId:Se.route.id})};else if(ve=(await Xn("action",z,O,[Se],Z,null))[Se.route.id],O.signal.aborted)return{shortCircuited:!0};if(ko(ve)){let he;return we&&we.replace!=null?he=we.replace:he=Dm(ve.response.headers.get("Location"),new URL(O.url),h)===z.location.pathname+z.location.search,await Ht(O,ve,!0,{submission:Q,replace:he}),{shortCircuited:!0}}if(bn(ve)){let he=xo(Z,Se.route.id);return(we&&we.replace)!==!0&&(de="PUSH"),{matches:Z,pendingActionResult:[he.route.id,ve]}}return{matches:Z,pendingActionResult:[Se.route.id,ve]}}async function pi(O,j,Q,Z,ge,we,ke,ve,Se,he,Oe){let Be=ge||Mf(j,we),ot=we||ke||Fm(Be),It=!k&&!Se;if(Z){if(It){let pt=mi(Oe);je({navigation:Be,...pt!==void 0?{actionData:pt}:{}},{flushSync:he})}let Xe=await hn(Q,j.pathname,O.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){let pt=xo(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,loaderData:{},errors:{[pt]:Xe.error}}}else if(Xe.matches)Q=Xe.matches;else{let{error:pt,notFoundMatches:Kt,route:rr}=Jn(j.pathname);return{matches:Kt,loaderData:{},errors:{[rr.id]:pt}}}}let Ke=f||l,[nt,st]=Pm(r.history,z,Q,ot,j,Se===!0,C,le,J,oe,fe,Ke,h,Oe);if(q=++xe,nt.length===0&&st.length===0){let Xe=Tr();return dt(j,{matches:Q,loaderData:{},errors:Oe&&bn(Oe[1])?{[Oe[0]]:Oe[1].error}:null,...Om(Oe),...Xe?{fetchers:new Map(z.fetchers)}:{}},{flushSync:he}),{shortCircuited:!0}}if(It){let Xe={};if(!Z){Xe.navigation=Be;let pt=mi(Oe);pt!==void 0&&(Xe.actionData=pt)}st.length>0&&(Xe.fetchers=io(st)),je(Xe,{flushSync:he})}st.forEach(Xe=>{qt(Xe.key),Xe.controller&&te.set(Xe.key,Xe.controller)});let er=()=>st.forEach(Xe=>qt(Xe.key));R&&R.signal.addEventListener("abort",er);let{loaderResults:tr,fetcherResults:nn}=await $r(z,Q,nt,st,O);if(O.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",er),st.forEach(Xe=>te.delete(Xe.key));let Wt=ru(tr);if(Wt)return await Ht(O,Wt.result,!0,{replace:ve}),{shortCircuited:!0};if(Wt=ru(nn),Wt)return fe.add(Wt.key),await Ht(O,Wt.result,!0,{replace:ve}),{shortCircuited:!0};let{loaderData:Wr,errors:Rr}=Vm(z,Q,tr,Oe,st,nn);Se&&z.errors&&(Rr={...z.errors,...Rr});let nr=Tr(),at=yi(q),Kr=nr||at||st.length>0;return{matches:Q,loaderData:Wr,errors:Rr,...Kr?{fetchers:new Map(z.fetchers)}:{}}}function mi(O){if(O&&!bn(O[1]))return{[O[0]]:O[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function io(O){return O.forEach(j=>{let Q=z.fetchers.get(j.key),Z=Ea(void 0,Q?Q.data:void 0);z.fetchers.set(j.key,Z)}),new Map(z.fetchers)}async function Uo(O,j,Q,Z){qt(O);let ge=(Z&&Z.flushSync)===!0,we=f||l,ke=Xf(z.location,z.matches,h,Q,j,Z==null?void 0:Z.relative),ve=qi(we,ke,h),Se=Zn(ve,we,ke);if(Se.active&&Se.matches&&(ve=Se.matches),!ve){ut(O,j,Qn(404,{pathname:ke}),{flushSync:ge});return}let{path:he,submission:Oe,error:Be}=Cm(!0,ke,Z);if(Be){ut(O,j,Be,{flushSync:ge});return}let ot=Sa(ve,he),It=(Z&&Z.preventScrollReset)===!0;if(Oe&&gr(Oe.formMethod)){await gi(O,j,he,ot,ve,Se.active,ge,It,Oe);return}oe.set(O,{routeId:j,path:he}),await Yn(O,j,he,ot,ve,Se.active,ge,It,Oe)}async function gi(O,j,Q,Z,ge,we,ke,ve,Se){Er(),oe.delete(O);function he(mt){if(!mt.route.action&&!mt.route.lazy){let _n=Qn(405,{method:Se.formMethod,pathname:Q,routeId:j});return ut(O,j,_n,{flushSync:ke}),!0}return!1}if(!we&&he(Z))return;let Oe=z.fetchers.get(O);yn(O,ow(Se,Oe),{flushSync:ke});let Be=new AbortController,ot=Es(r.history,Q,Be.signal,Se);if(we){let mt=await hn(ge,Q,ot.signal);if(mt.type==="aborted")return;if(mt.type==="error"){ut(O,j,mt.error,{flushSync:ke});return}else if(mt.matches){if(ge=mt.matches,Z=Sa(ge,Q),he(Z))return}else{ut(O,j,Qn(404,{pathname:Q}),{flushSync:ke});return}}te.set(O,Be);let It=xe,nt=(await Xn("action",z,ot,[Z],ge,O))[Z.route.id];if(ot.signal.aborted){te.get(O)===Be&&te.delete(O);return}if(J.has(O)){if(ko(nt)||bn(nt)){yn(O,Hi(void 0));return}}else{if(ko(nt))if(te.delete(O),q>It){yn(O,Hi(void 0));return}else return fe.add(O),yn(O,Ea(Se)),Ht(ot,nt,!1,{fetcherSubmission:Se,preventScrollReset:ve});if(bn(nt)){ut(O,j,nt.error);return}}let st=z.navigation.location||z.location,er=Es(r.history,st,Be.signal),tr=f||l,nn=z.navigation.state!=="idle"?qi(tr,z.navigation.location,h):z.matches;Ye(nn,"Didn't find any matches after fetcher action");let Wt=++xe;G.set(O,Wt);let Wr=Ea(Se,nt.data);z.fetchers.set(O,Wr);let[Rr,nr]=Pm(r.history,z,nn,Se,st,!1,C,le,J,oe,fe,tr,h,[Z.route.id,nt]);nr.filter(mt=>mt.key!==O).forEach(mt=>{let _n=mt.key,rn=z.fetchers.get(_n),zo=Ea(void 0,rn?rn.data:void 0);z.fetchers.set(_n,zo),qt(_n),mt.controller&&te.set(_n,mt.controller)}),je({fetchers:new Map(z.fetchers)});let at=()=>nr.forEach(mt=>qt(mt.key));Be.signal.addEventListener("abort",at);let{loaderResults:Kr,fetcherResults:Xe}=await $r(z,nn,Rr,nr,er);if(Be.signal.aborted)return;Be.signal.removeEventListener("abort",at),G.delete(O),te.delete(O),nr.forEach(mt=>te.delete(mt.key));let pt=ru(Kr);if(pt)return Ht(er,pt.result,!1,{preventScrollReset:ve});if(pt=ru(Xe),pt)return fe.add(pt.key),Ht(er,pt.result,!1,{preventScrollReset:ve});let{loaderData:Kt,errors:rr}=Vm(z,nn,Kr,void 0,nr,Xe);if(z.fetchers.has(O)){let mt=Hi(nt.data);z.fetchers.set(O,mt)}yi(Wt),z.navigation.state==="loading"&&Wt>q?(Ye(de,"Expected pending action"),R&&R.abort(),dt(z.navigation.location,{matches:nn,loaderData:Kt,errors:rr,fetchers:new Map(z.fetchers)})):(je({errors:rr,loaderData:Lm(z.loaderData,Kt,nn,rr),fetchers:new Map(z.fetchers)}),C=!1)}async function Yn(O,j,Q,Z,ge,we,ke,ve,Se){let he=z.fetchers.get(O);yn(O,Ea(Se,he?he.data:void 0),{flushSync:ke});let Oe=new AbortController,Be=Es(r.history,Q,Oe.signal);if(we){let nt=await hn(ge,Q,Be.signal);if(nt.type==="aborted")return;if(nt.type==="error"){ut(O,j,nt.error,{flushSync:ke});return}else if(nt.matches)ge=nt.matches,Z=Sa(ge,Q);else{ut(O,j,Qn(404,{pathname:Q}),{flushSync:ke});return}}te.set(O,Oe);let ot=xe,Ke=(await Xn("loader",z,Be,[Z],ge,O))[Z.route.id];if(te.get(O)===Oe&&te.delete(O),!Be.signal.aborted){if(J.has(O)){yn(O,Hi(void 0));return}if(ko(Ke))if(q>ot){yn(O,Hi(void 0));return}else{fe.add(O),await Ht(Be,Ke,!1,{preventScrollReset:ve});return}if(bn(Ke)){ut(O,j,Ke.error);return}yn(O,Hi(Ke.data))}}async function Ht(O,j,Q,{submission:Z,fetcherSubmission:ge,preventScrollReset:we,replace:ke}={}){j.response.headers.has("X-Remix-Revalidate")&&(C=!0);let ve=j.response.headers.get("Location");Ye(ve,"Expected a Location header on the redirect Response"),ve=Dm(ve,new URL(O.url),h);let Se=Da(z.location,ve,{_isRedirect:!0});if(n){let Ke=!1;if(j.response.headers.has("X-Remix-Reload-Document"))Ke=!0;else if(Sh.test(ve)){const nt=r.history.createURL(ve);Ke=nt.origin!==e.location.origin||_r(nt.pathname,h)==null}if(Ke){ke?e.location.replace(ve):e.location.assign(ve);return}}R=null;let he=ke===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Oe,formAction:Be,formEncType:ot}=z.navigation;!Z&&!ge&&Oe&&Be&&ot&&(Z=Fm(z.navigation));let It=Z||ge;if(jE.has(j.response.status)&&It&&gr(It.formMethod))await tn(he,Se,{submission:{...It,formAction:ve},preventScrollReset:we||V,enableViewTransition:Q?A:void 0});else{let Ke=Mf(Se,Z);await tn(he,Se,{overrideNavigation:Ke,fetcherSubmission:ge,preventScrollReset:we||V,enableViewTransition:Q?A:void 0})}}async function Xn(O,j,Q,Z,ge,we){let ke,ve={};try{ke=await YE(g,O,j,Q,Z,ge,we,s,o)}catch(Se){return Z.forEach(he=>{ve[he.route.id]={type:"error",error:Se}}),ve}for(let[Se,he]of Object.entries(ke))if(nw(he)){let Oe=he.result;ve[Se]={type:"redirect",response:ZE(Oe,Q,Se,ge,h)}}else ve[Se]=await JE(he);return ve}async function $r(O,j,Q,Z,ge){let we=Xn("loader",O,ge,Q,j,null),ke=Promise.all(Z.map(async he=>{if(he.matches&&he.match&&he.controller){let Be=(await Xn("loader",O,Es(r.history,he.path,he.controller.signal),[he.match],he.matches,he.key))[he.match.route.id];return{[he.key]:Be}}else return Promise.resolve({[he.key]:{type:"error",error:Qn(404,{pathname:he.path})}})})),ve=await we,Se=(await ke).reduce((he,Oe)=>Object.assign(he,Oe),{});return{loaderResults:ve,fetcherResults:Se}}function Er(){C=!0,oe.forEach((O,j)=>{te.has(j)&&le.add(j),qt(j)})}function yn(O,j,Q={}){z.fetchers.set(O,j),je({fetchers:new Map(z.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function ut(O,j,Q,Z={}){let ge=xo(z.matches,j);xn(O),je({errors:{[ge.route.id]:Q},fetchers:new Map(z.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Rt(O){return M.set(O,(M.get(O)||0)+1),J.has(O)&&J.delete(O),z.fetchers.get(O)||BE}function xn(O){let j=z.fetchers.get(O);te.has(O)&&!(j&&j.state==="loading"&&G.has(O))&&qt(O),oe.delete(O),G.delete(O),fe.delete(O),J.delete(O),le.delete(O),z.fetchers.delete(O)}function oo(O){let j=(M.get(O)||0)-1;j<=0?(M.delete(O),J.add(O)):M.set(O,j),je({fetchers:new Map(z.fetchers)})}function qt(O){let j=te.get(O);j&&(j.abort(),te.delete(O))}function wr(O){for(let j of O){let Q=Rt(j),Z=Hi(Q.data);z.fetchers.set(j,Z)}}function Tr(){let O=[],j=!1;for(let Q of fe){let Z=z.fetchers.get(Q);Ye(Z,`Expected fetcher: ${Q}`),Z.state==="loading"&&(fe.delete(Q),O.push(Q),j=!0)}return wr(O),j}function yi(O){let j=[];for(let[Q,Z]of G)if(Z<O){let ge=z.fetchers.get(Q);Ye(ge,`Expected fetcher: ${Q}`),ge.state==="loading"&&(qt(Q),G.delete(Q),j.push(Q))}return wr(j),j.length>0}function so(O,j){let Q=z.blockers.get(O)||_a;return ye.get(O)!==j&&ye.set(O,j),Q}function vi(O){z.blockers.delete(O),ye.delete(O)}function Sr(O,j){let Q=z.blockers.get(O)||_a;Ye(Q.state==="unblocked"&&j.state==="blocked"||Q.state==="blocked"&&j.state==="blocked"||Q.state==="blocked"&&j.state==="proceeding"||Q.state==="blocked"&&j.state==="unblocked"||Q.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${j.state}`);let Z=new Map(z.blockers);Z.set(O,j),je({blockers:Z})}function _i({currentLocation:O,nextLocation:j,historyAction:Q}){if(ye.size===0)return;ye.size>1&&$t(!1,"A router only supports one blocker at a time");let Z=Array.from(ye.entries()),[ge,we]=Z[Z.length-1],ke=z.blockers.get(ge);if(!(ke&&ke.state==="proceeding")&&we({currentLocation:O,nextLocation:j,historyAction:Q}))return ge}function Jn(O){let j=Qn(404,{pathname:O}),Q=f||l,{matches:Z,route:ge}=Mm(Q);return{notFoundMatches:Z,route:ge,error:j}}function Ei(O,j,Q){if(I=O,U=j,N=Q||null,!F&&z.navigation===Of){F=!0;let Z=kn(z.location,z.matches);Z!=null&&je({restoreScrollPosition:Z})}return()=>{I=null,U=null,N=null}}function Hr(O,j){return N&&N(O,j.map(Z=>_E(Z,z.loaderData)))||O.key}function vn(O,j){if(I&&U){let Q=Hr(O,j);I[Q]=U()}}function kn(O,j){if(I){let Q=Hr(O,j),Z=I[Q];if(typeof Z=="number")return Z}return null}function Zn(O,j,Q){if(y)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:mu(j,Q,h,!0)}}else return{active:!0,matches:mu(j,Q,h,!0)||[]};return{active:!1,matches:null}}async function hn(O,j,Q){if(!y)return{type:"success",matches:O};let Z=O;for(;;){let ge=f==null,we=f||l,ke=s;try{await y({path:j,matches:Z,patch:(he,Oe)=>{Q.aborted||km(he,Oe,we,ke,o)}})}catch(he){return{type:"error",error:he,partialMatches:Z}}finally{ge&&!Q.aborted&&(l=[...l])}if(Q.aborted)return{type:"aborted"};let ve=qi(we,j,h);if(ve)return{type:"success",matches:ve};let Se=mu(we,j,h,!0);if(!Se||Z.length===Se.length&&Z.every((he,Oe)=>he.route.id===Se[Oe].route.id))return{type:"success",matches:null};Z=Se}}function ao(O){s={},f=Ru(O,o,void 0,s)}function qr(O,j){let Q=f==null;km(O,j,f||l,s,o),Q&&(l=[...l],je({}))}return me={get basename(){return h},get future(){return _},get state(){return z},get routes(){return l},get window(){return e},initialize:$e,subscribe:tt,enableScrollRestoration:Ei,navigate:Fn,fetch:Uo,revalidate:di,createHref:O=>r.history.createHref(O),encodeLocation:O=>r.history.encodeLocation(O),getFetcher:Rt,deleteFetcher:oo,dispose:We,getBlocker:so,deleteBlocker:vi,patchRoutes:qr,_internalFetchControllers:te,_internalSetRoutes:ao},me}function qE(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Xf(r,e,n,o,s,l){let f,h;if(s){f=[];for(let y of e)if(f.push(y),y.route.id===s){h=y;break}}else f=e,h=e[e.length-1];let g=Th(o||".",wh(f),_r(r.pathname,n)||r.pathname,l==="path");if(o==null&&(g.search=r.search,g.hash=r.hash),(o==null||o===""||o===".")&&h){let y=Rh(g.search);if(h.route.index&&!y)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&y){let _=new URLSearchParams(g.search),w=_.getAll("index");_.delete("index"),w.filter(I=>I).forEach(I=>_.append("index",I));let T=_.toString();g.search=T?`?${T}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:Mr([n,g.pathname])),Ji(g)}function Cm(r,e,n){if(!n||!qE(n))return{path:e};if(n.formMethod&&!rw(n.formMethod))return{path:e,error:Qn(405,{method:n.formMethod})};let o=()=>({path:e,error:Qn(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),f=ay(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!gr(l))return o();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((T,[I,N])=>`${T}${I}=${N}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!gr(l))return o();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:f,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return o()}}}Ye(typeof FormData=="function","FormData is not available in this environment");let h,g;if(n.formData)h=Zf(n.formData),g=n.formData;else if(n.body instanceof FormData)h=Zf(n.body),g=n.body;else if(n.body instanceof URLSearchParams)h=n.body,g=Nm(h);else if(n.body==null)h=new URLSearchParams,g=new FormData;else try{h=new URLSearchParams(n.body),g=Nm(h)}catch{return o()}let y={formMethod:l,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(gr(y.formMethod))return{path:e,submission:y};let _=fi(e);return r&&_.search&&Rh(_.search)&&h.append("index",""),_.search=`?${h}`,{path:Ji(_),submission:y}}function Am(r,e,n=!1){let o=r.findIndex(s=>s.route.id===e);return o>=0?r.slice(0,n?o+1:o):r}function Pm(r,e,n,o,s,l,f,h,g,y,_,w,T,I){let N=I?bn(I[1])?I[1].error:I[1].data:void 0,U=r.createURL(e.location),F=r.createURL(s),H=n;l&&e.errors?H=Am(n,Object.keys(e.errors)[0],!0):I&&bn(I[1])&&(H=Am(n,I[0]));let ne=I?I[1].statusCode:void 0,ie=ne&&ne>=400,me=H.filter((de,V)=>{let{route:R}=de;if(R.lazy)return!0;if(R.loader==null)return!1;if(l)return Jf(R,e.loaderData,e.errors);if(WE(e.loaderData,e.matches[V],de))return!0;let A=e.matches[V],D=de;return xm(de,{currentUrl:U,currentParams:A.params,nextUrl:F,nextParams:D.params,...o,actionResult:N,actionStatus:ne,defaultShouldRevalidate:ie?!1:f||U.pathname+U.search===F.pathname+F.search||U.search!==F.search||KE(A,D)})}),z=[];return y.forEach((de,V)=>{if(l||!n.some(k=>k.route.id===de.routeId)||g.has(V))return;let R=qi(w,de.path,T);if(!R){z.push({key:V,routeId:de.routeId,path:de.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(V),D=Sa(R,de.path),x=!1;_.has(V)?x=!1:h.has(V)?(h.delete(V),x=!0):A&&A.state!=="idle"&&A.data===void 0?x=f:x=xm(D,{currentUrl:U,currentParams:e.matches[e.matches.length-1].params,nextUrl:F,nextParams:n[n.length-1].params,...o,actionResult:N,actionStatus:ne,defaultShouldRevalidate:ie?!1:f}),x&&z.push({key:V,routeId:de.routeId,path:de.path,matches:R,match:D,controller:new AbortController})}),[me,z]}function Jf(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let o=e!=null&&e[r.id]!==void 0,s=n!=null&&n[r.id]!==void 0;return!o&&s?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!o&&!s}function WE(r,e,n){let o=!e||n.route.id!==e.route.id,s=!r.hasOwnProperty(n.route.id);return o||s}function KE(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function xm(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function km(r,e,n,o,s){let l;if(r){let g=o[r];Ye(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),l=g.children}else l=n;let f=e.filter(g=>!l.some(y=>sy(g,y))),h=Ru(f,s,[r||"_","patch",String((l==null?void 0:l.length)||"0")],o);l.push(...h)}function sy(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,o)=>{var s;return(s=e.children)==null?void 0:s.some(l=>sy(n,l))}):!1}async function QE(r,e,n){if(!r.lazy)return;let o=await r.lazy();if(!r.lazy)return;let s=n[r.id];Ye(s,"No route found in manifest");let l={};for(let f in o){let g=s[f]!==void 0&&f!=="hasErrorBoundary";$t(!g,`Route "${s.id}" has a static property "${f}" defined but its lazy function is also returning a value for this property. The lazy route property "${f}" will be ignored.`),!g&&!yE.has(f)&&(l[f]=o[f])}Object.assign(s,l),Object.assign(s,{...e(s),lazy:void 0})}async function GE({matches:r}){let e=r.filter(o=>o.shouldLoad);return(await Promise.all(e.map(o=>o.resolve()))).reduce((o,s,l)=>Object.assign(o,{[e[l].route.id]:s}),{})}async function YE(r,e,n,o,s,l,f,h,g,y){let _=l.map(I=>I.route.lazy?QE(I.route,g,h):void 0),w=l.map((I,N)=>{let U=_[N],F=s.some(ne=>ne.route.id===I.route.id);return{...I,shouldLoad:F,resolve:async ne=>(ne&&o.method==="GET"&&(I.route.lazy||I.route.loader)&&(F=!0),F?XE(e,o,I,U,ne,y):Promise.resolve({type:"data",result:void 0}))}}),T=await r({matches:w,request:o,params:l[0].params,fetcherKey:f,context:y});try{await Promise.all(_)}catch{}return T}async function XE(r,e,n,o,s,l){let f,h,g=y=>{let _,w=new Promise((N,U)=>_=U);h=()=>_(),e.signal.addEventListener("abort",h);let T=N=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${r}" [routeId: ${n.route.id}]`)):y({request:e,params:n.params,context:l},...N!==void 0?[N]:[]),I=(async()=>{try{return{type:"data",result:await(s?s(U=>T(U)):T())}}catch(N){return{type:"error",result:N}}})();return Promise.race([I,w])};try{let y=n.route[r];if(o)if(y){let _,[w]=await Promise.all([g(y).catch(T=>{_=T}),o]);if(_!==void 0)throw _;f=w}else if(await o,y=n.route[r],y)f=await g(y);else if(r==="action"){let _=new URL(e.url),w=_.pathname+_.search;throw Qn(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:"data",result:void 0};else if(y)f=await g(y);else{let _=new URL(e.url),w=_.pathname+_.search;throw Qn(404,{pathname:w})}}catch(y){return{type:"error",result:y}}finally{h&&e.signal.removeEventListener("abort",h)}return f}async function JE(r){var o,s,l,f;let{result:e,type:n}=r;if(ly(e)){let h;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(g){return{type:"error",error:g}}return n==="error"?{type:"error",error:new Cu(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}if(n==="error"){if(bm(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(o=e.init)==null?void 0:o.status};e=new Cu(((s=e.init)==null?void 0:s.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:ju(e)?e.status:void 0}}return bm(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function ZE(r,e,n,o,s){let l=r.headers.get("Location");if(Ye(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Sh.test(l)){let f=o.slice(0,o.findIndex(h=>h.route.id===n)+1);l=Xf(new URL(e.url),f,s,l),r.headers.set("Location",l)}return r}function Dm(r,e,n){if(Sh.test(r)){let o=r,s=o.startsWith("//")?new URL(e.protocol+o):new URL(o),l=_r(s.pathname,n)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}return r}function Es(r,e,n,o){let s=r.createURL(ay(e)).toString(),l={signal:n};if(o&&gr(o.formMethod)){let{formMethod:f,formEncType:h}=o;l.method=f.toUpperCase(),h==="application/json"?(l.headers=new Headers({"Content-Type":h}),l.body=JSON.stringify(o.json)):h==="text/plain"?l.body=o.text:h==="application/x-www-form-urlencoded"&&o.formData?l.body=Zf(o.formData):l.body=o.formData}return new Request(s,l)}function Zf(r){let e=new URLSearchParams;for(let[n,o]of r.entries())e.append(n,typeof o=="string"?o:o.name);return e}function Nm(r){let e=new FormData;for(let[n,o]of r.entries())e.append(n,o);return e}function ew(r,e,n,o=!1,s=!1){let l={},f=null,h,g=!1,y={},_=n&&bn(n[1])?n[1].error:void 0;return r.forEach(w=>{if(!(w.route.id in e))return;let T=w.route.id,I=e[T];if(Ye(!ko(I),"Cannot handle redirect results in processLoaderData"),bn(I)){let N=I.error;if(_!==void 0&&(N=_,_=void 0),f=f||{},s)f[T]=N;else{let U=xo(r,T);f[U.route.id]==null&&(f[U.route.id]=N)}o||(l[T]=oy),g||(g=!0,h=ju(I.error)?I.error.status:500),I.headers&&(y[T]=I.headers)}else l[T]=I.data,I.statusCode&&I.statusCode!==200&&!g&&(h=I.statusCode),I.headers&&(y[T]=I.headers)}),_!==void 0&&n&&(f={[n[0]]:_},l[n[0]]=void 0),{loaderData:l,errors:f,statusCode:h||200,loaderHeaders:y}}function Vm(r,e,n,o,s,l){let{loaderData:f,errors:h}=ew(e,n,o);return s.forEach(g=>{let{key:y,match:_,controller:w}=g,T=l[y];if(Ye(T,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(bn(T)){let I=xo(r.matches,_==null?void 0:_.route.id);h&&h[I.route.id]||(h={...h,[I.route.id]:T.error}),r.fetchers.delete(y)}else if(ko(T))Ye(!1,"Unhandled fetcher revalidation redirect");else{let I=Hi(T.data);r.fetchers.set(y,I)}}),{loaderData:f,errors:h}}function Lm(r,e,n,o){let s=Object.entries(e).filter(([,l])=>l!==oy).reduce((l,[f,h])=>(l[f]=h,l),{});for(let l of n){let f=l.route.id;if(!e.hasOwnProperty(f)&&r.hasOwnProperty(f)&&l.route.loader&&(s[f]=r[f]),o&&o.hasOwnProperty(f))break}return s}function Om(r){return r?bn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function xo(r,e){return(e?r.slice(0,r.findIndex(o=>o.route.id===e)+1):[...r]).reverse().find(o=>o.route.hasErrorBoundary===!0)||r[0]}function Mm(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Qn(r,{pathname:e,routeId:n,method:o,type:s,message:l}={}){let f="Unknown Server Error",h="Unknown @remix-run/router error";return r===400?(f="Bad Request",o&&e&&n?h=`You made a ${o} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(h="Unable to encode submission body")):r===403?(f="Forbidden",h=`Route "${n}" does not match URL "${e}"`):r===404?(f="Not Found",h=`No route matches URL "${e}"`):r===405&&(f="Method Not Allowed",o&&e&&n?h=`You made a ${o.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:o&&(h=`Invalid request method "${o.toUpperCase()}"`)),new Cu(r||500,f,new Error(h),!0)}function ru(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[o,s]=e[n];if(ko(s))return{key:o,result:s}}}function ay(r){let e=typeof r=="string"?fi(r):r;return Ji({...e,hash:""})}function tw(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function nw(r){return ly(r.result)&&zE.has(r.result.status)}function bn(r){return r.type==="error"}function ko(r){return(r&&r.type)==="redirect"}function bm(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function ly(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function rw(r){return UE.has(r.toUpperCase())}function gr(r){return bE.has(r.toUpperCase())}function Rh(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Sa(r,e){let n=typeof e=="string"?fi(e).search:e.search;if(r[r.length-1].route.index&&Rh(n||""))return r[r.length-1];let o=ny(r);return o[o.length-1]}function Fm(r){let{formMethod:e,formAction:n,formEncType:o,text:s,formData:l,json:f}=r;if(!(!e||!n||!o)){if(s!=null)return{formMethod:e,formAction:n,formEncType:o,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:n,formEncType:o,formData:l,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:o,formData:void 0,json:f,text:void 0}}}function Mf(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function iw(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ea(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ow(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Hi(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function sw(r,e){try{let n=r.sessionStorage.getItem(iy);if(n){let o=JSON.parse(n);for(let[s,l]of Object.entries(o||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function aw(r,e){if(e.size>0){let n={};for(let[o,s]of e)n[o]=[...s];try{r.sessionStorage.setItem(iy,JSON.stringify(n))}catch(o){$t(!1,`Failed to save applied view transitions in sessionStorage (${o}).`)}}}function lw(){let r,e,n=new Promise((o,s)=>{r=async l=>{o(l);try{await n}catch{}},e=async l=>{s(l);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Vo=X.createContext(null);Vo.displayName="DataRouter";var ja=X.createContext(null);ja.displayName="DataRouterState";var Ih=X.createContext({isTransitioning:!1});Ih.displayName="ViewTransition";var uy=X.createContext(new Map);uy.displayName="Fetchers";var uw=X.createContext(null);uw.displayName="Await";var jr=X.createContext(null);jr.displayName="Navigation";var Bu=X.createContext(null);Bu.displayName="Location";var hi=X.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var Ch=X.createContext(null);Ch.displayName="RouteError";function cw(r,{relative:e}={}){Ye(Ba(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=X.useContext(jr),{hash:s,pathname:l,search:f}=$a(r,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Mr([n,l])),o.createHref({pathname:h,search:f,hash:s})}function Ba(){return X.useContext(Bu)!=null}function Lo(){return Ye(Ba(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Bu).location}var cy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fy(r){X.useContext(jr).static||X.useLayoutEffect(r)}function fw(){let{isDataRoute:r}=X.useContext(hi);return r?Rw():hw()}function hw(){Ye(Ba(),"useNavigate() may be used only in the context of a <Router> component.");let r=X.useContext(Vo),{basename:e,navigator:n}=X.useContext(jr),{matches:o}=X.useContext(hi),{pathname:s}=Lo(),l=JSON.stringify(wh(o)),f=X.useRef(!1);return fy(()=>{f.current=!0}),X.useCallback((g,y={})=>{if($t(f.current,cy),!f.current)return;if(typeof g=="number"){n.go(g);return}let _=Th(g,JSON.parse(l),s,y.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Mr([e,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[e,n,l,s,r])}X.createContext(null);function $a(r,{relative:e}={}){let{matches:n}=X.useContext(hi),{pathname:o}=Lo(),s=JSON.stringify(wh(n));return X.useMemo(()=>Th(r,JSON.parse(s),o,e==="path"),[r,s,o,e])}function dw(r,e,n,o){Ye(Ba(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=X.useContext(jr),{matches:l}=X.useContext(hi),f=l[l.length-1],h=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let H=_&&_.path||"";hy(g,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=Lo(),T;T=w;let I=T.pathname||"/",N=I;if(y!=="/"){let H=y.replace(/^\//,"").split("/");N="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let U=qi(r,{pathname:N});return $t(_||U!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),$t(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),vw(U&&U.map(H=>Object.assign({},H,{params:Object.assign({},h,H.params),pathname:Mr([y,s.encodeLocation?s.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Mr([y,s.encodeLocation?s.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,n,o)}function pw(){let r=Sw(),e=ju(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=X.createElement(X.Fragment,null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:l},"ErrorBoundary")," or"," ",X.createElement("code",{style:l},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:s},n):null,f)}var mw=X.createElement(pw,null),gw=class extends X.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?X.createElement(hi.Provider,{value:this.props.routeContext},X.createElement(Ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yw({routeContext:r,match:e,children:n}){let o=X.useContext(Vo);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(hi.Provider,{value:r},n)}function vw(r,e=[],n=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let s=r,l=n==null?void 0:n.errors;if(l!=null){let g=s.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);Ye(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let f=!1,h=-1;if(n)for(let g=0;g<s.length;g++){let y=s[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=g),y.route.id){let{loaderData:_,errors:w}=n,T=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||T){f=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((g,y,_)=>{let w,T=!1,I=null,N=null;n&&(w=l&&y.route.id?l[y.route.id]:void 0,I=y.route.errorElement||mw,f&&(h<0&&_===0?(hy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):h===_&&(T=!0,N=y.route.hydrateFallbackElement||null)));let U=e.concat(s.slice(0,_+1)),F=()=>{let H;return w?H=I:T?H=N:y.route.Component?H=X.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=g,X.createElement(yw,{match:y,routeContext:{outlet:g,matches:U,isDataRoute:n!=null},children:H})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?X.createElement(gw,{location:n.location,revalidation:n.revalidation,component:I,error:w,children:F(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):F()},null)}function Ah(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _w(r){let e=X.useContext(Vo);return Ye(e,Ah(r)),e}function Ew(r){let e=X.useContext(ja);return Ye(e,Ah(r)),e}function ww(r){let e=X.useContext(hi);return Ye(e,Ah(r)),e}function Ph(r){let e=ww(r),n=e.matches[e.matches.length-1];return Ye(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Tw(){return Ph("useRouteId")}function Sw(){var o;let r=X.useContext(Ch),e=Ew("useRouteError"),n=Ph("useRouteError");return r!==void 0?r:(o=e.errors)==null?void 0:o[n]}function Rw(){let{router:r}=_w("useNavigate"),e=Ph("useNavigate"),n=X.useRef(!1);return fy(()=>{n.current=!0}),X.useCallback(async(s,l={})=>{$t(n.current,cy),n.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...l}))},[r,e])}var Um={};function hy(r,e,n){!e&&!Um[r]&&(Um[r]=!0,$t(!1,n))}var zm={};function jm(r,e){!r&&!zm[e]&&(zm[e]=!0,console.warn(e))}function Iw(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&$t(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:X.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&$t(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:X.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&$t(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:X.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var Cw=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",e(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",n(o))}})}};function Aw({router:r,flushSync:e}){let[n,o]=X.useState(r.state),[s,l]=X.useState(),[f,h]=X.useState({isTransitioning:!1}),[g,y]=X.useState(),[_,w]=X.useState(),[T,I]=X.useState(),N=X.useRef(new Map),U=X.useCallback((ie,{deletedFetchers:me,flushSync:z,viewTransitionOpts:de})=>{ie.fetchers.forEach((R,A)=>{R.data!==void 0&&N.current.set(A,R.data)}),me.forEach(R=>N.current.delete(R)),jm(z===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let V=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(jm(de==null||V,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!de||!V){e&&z?e(()=>o(ie)):X.startTransition(()=>o(ie));return}if(e&&z){e(()=>{_&&(g&&g.resolve(),_.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:de.currentLocation,nextLocation:de.nextLocation})});let R=r.window.document.startViewTransition(()=>{e(()=>o(ie))});R.finished.finally(()=>{e(()=>{y(void 0),w(void 0),l(void 0),h({isTransitioning:!1})})}),e(()=>w(R));return}_?(g&&g.resolve(),_.skipTransition(),I({state:ie,currentLocation:de.currentLocation,nextLocation:de.nextLocation})):(l(ie),h({isTransitioning:!0,flushSync:!1,currentLocation:de.currentLocation,nextLocation:de.nextLocation}))},[r.window,e,_,g]);X.useLayoutEffect(()=>r.subscribe(U),[r,U]),X.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new Cw)},[f]),X.useEffect(()=>{if(g&&s&&r.window){let ie=s,me=g.promise,z=r.window.document.startViewTransition(async()=>{X.startTransition(()=>o(ie)),await me});z.finished.finally(()=>{y(void 0),w(void 0),l(void 0),h({isTransitioning:!1})}),w(z)}},[s,g,r.window]),X.useEffect(()=>{g&&s&&n.location.key===s.location.key&&g.resolve()},[g,_,n.location,s]),X.useEffect(()=>{!f.isTransitioning&&T&&(l(T.state),h({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),I(void 0))},[f.isTransitioning,T]);let F=X.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ie=>r.navigate(ie),push:(ie,me,z)=>r.navigate(ie,{state:me,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(ie,me,z)=>r.navigate(ie,{replace:!0,state:me,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[r]),H=r.basename||"/",ne=X.useMemo(()=>({router:r,navigator:F,static:!1,basename:H}),[r,F,H]);return X.createElement(X.Fragment,null,X.createElement(Vo.Provider,{value:ne},X.createElement(ja.Provider,{value:n},X.createElement(uy.Provider,{value:N.current},X.createElement(Ih.Provider,{value:f},X.createElement(kw,{basename:H,location:n.location,navigationType:n.historyAction,navigator:F},X.createElement(Pw,{routes:r.routes,future:r.future,state:n})))))),null)}var Pw=X.memo(xw);function xw({routes:r,future:e,state:n}){return dw(r,void 0,n,e)}function kw({basename:r="/",children:e=null,location:n,navigationType:o="POP",navigator:s,static:l=!1}){Ye(!Ba(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),h=X.useMemo(()=>({basename:f,navigator:s,static:l,future:{}}),[f,s,l]);typeof n=="string"&&(n=fi(n));let{pathname:g="/",search:y="",hash:_="",state:w=null,key:T="default"}=n,I=X.useMemo(()=>{let N=_r(g,f);return N==null?null:{location:{pathname:N,search:y,hash:_,state:w,key:T},navigationType:o}},[f,g,y,_,w,T,o]);return $t(I!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:X.createElement(jr.Provider,{value:h},X.createElement(Bu.Provider,{children:e,value:I}))}var gu="get",yu="application/x-www-form-urlencoded";function $u(r){return r!=null&&typeof r.tagName=="string"}function Dw(r){return $u(r)&&r.tagName.toLowerCase()==="button"}function Nw(r){return $u(r)&&r.tagName.toLowerCase()==="form"}function Vw(r){return $u(r)&&r.tagName.toLowerCase()==="input"}function Lw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ow(r,e){return r.button===0&&(!e||e==="_self")&&!Lw(r)}var iu=null;function Mw(){if(iu===null)try{new FormData(document.createElement("form"),0),iu=!1}catch{iu=!0}return iu}var bw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bf(r){return r!=null&&!bw.has(r)?($t(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yu}"`),null):r}function Fw(r,e){let n,o,s,l,f;if(Nw(r)){let h=r.getAttribute("action");o=h?_r(h,e):null,n=r.getAttribute("method")||gu,s=bf(r.getAttribute("enctype"))||yu,l=new FormData(r)}else if(Dw(r)||Vw(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||h.getAttribute("action");if(o=g?_r(g,e):null,n=r.getAttribute("formmethod")||h.getAttribute("method")||gu,s=bf(r.getAttribute("formenctype"))||bf(h.getAttribute("enctype"))||yu,l=new FormData(h,r),!Mw()){let{name:y,type:_,value:w}=r;if(_==="image"){let T=y?`${y}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else y&&l.append(y,w)}}else{if($u(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gu,o=null,s=yu,f=r}return l&&s==="text/plain"&&(f=l,l=void 0),{action:o,method:n.toLowerCase(),encType:s,formData:l,body:f}}function xh(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Uw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jw(r,e,n){let o=await Promise.all(r.map(async s=>{let l=e.routes[s.route.id];if(l){let f=await Uw(l,n);return f.links?f.links():[]}return[]}));return qw(o.flat(1).filter(zw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Bm(r,e,n,o,s,l){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,h=(g,y)=>{var _;return n[y].pathname!==g.pathname||((_=n[y].route.path)==null?void 0:_.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,y)=>f(g,y)||h(g,y)):l==="data"?e.filter((g,y)=>{var w;let _=o.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(f(g,y)||h(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Bw(r,e){return $w(r.map(n=>{let o=e.routes[n.route.id];if(!o)return[];let s=[o.module];return o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function $w(r){return[...new Set(r)]}function Hw(r){let e={},n=Object.keys(r).sort();for(let o of n)e[o]=r[o];return e}function qw(r,e){let n=new Set;return new Set(e),r.reduce((o,s)=>{let l=JSON.stringify(Hw(s));return n.has(l)||(n.add(l),o.push({key:l,link:s})),o},[])}function Ww(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Kw(){let r=X.useContext(Vo);return xh(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Qw(){let r=X.useContext(ja);return xh(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var kh=X.createContext(void 0);kh.displayName="FrameworkContext";function dy(){let r=X.useContext(kh);return xh(r,"You must render this element inside a <HydratedRouter> element"),r}function Gw(r,e){let n=X.useContext(kh),[o,s]=X.useState(!1),[l,f]=X.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:w}=e,T=X.useRef(null);X.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let U=H=>{H.forEach(ne=>{f(ne.isIntersecting)})},F=new IntersectionObserver(U,{threshold:.5});return T.current&&F.observe(T.current),()=>{F.disconnect()}}},[r]),X.useEffect(()=>{if(o){let U=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(U)}}},[o]);let I=()=>{s(!0)},N=()=>{s(!1),f(!1)};return n?r!=="intent"?[l,T,{}]:[l,T,{onFocus:wa(h,I),onBlur:wa(g,N),onMouseEnter:wa(y,I),onMouseLeave:wa(_,N),onTouchStart:wa(w,I)}]:[!1,T,{}]}function wa(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Yw({page:r,...e}){let{router:n}=Kw(),o=X.useMemo(()=>qi(n.routes,r,n.basename),[n.routes,r,n.basename]);return o?X.createElement(Jw,{page:r,matches:o,...e}):null}function Xw(r){let{manifest:e,routeModules:n}=dy(),[o,s]=X.useState([]);return X.useEffect(()=>{let l=!1;return jw(r,e,n).then(f=>{l||s(f)}),()=>{l=!0}},[r,e,n]),o}function Jw({page:r,matches:e,...n}){let o=Lo(),{manifest:s,routeModules:l}=dy(),{loaderData:f,matches:h}=Qw(),g=X.useMemo(()=>Bm(r,e,h,s,o,"data"),[r,e,h,s,o]),y=X.useMemo(()=>Bm(r,e,h,s,o,"assets"),[r,e,h,s,o]),_=X.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let I=new Set,N=!1;if(e.forEach(F=>{var ne;let H=s.routes[F.route.id];!H||!H.hasLoader||(!g.some(ie=>ie.route.id===F.route.id)&&F.route.id in f&&((ne=l[F.route.id])!=null&&ne.shouldRevalidate)||H.hasClientLoader?N=!0:I.add(F.route.id))}),I.size===0)return[];let U=Ww(r);return N&&I.size>0&&U.searchParams.set("_routes",e.filter(F=>I.has(F.route.id)).map(F=>F.route.id).join(",")),[U.pathname+U.search]},[f,o,s,g,e,r,l]),w=X.useMemo(()=>Bw(y,s),[y,s]),T=Xw(y);return X.createElement(X.Fragment,null,_.map(I=>X.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),w.map(I=>X.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),T.map(({key:I,link:N})=>X.createElement("link",{key:I,...N})))}function Zw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var py=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{py&&(window.__reactRouterVersion="7.1.3")}catch{}function eT(r,e){return HE({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:pE({window:e==null?void 0:e.window}),hydrationData:tT(),routes:r,mapRouteProperties:Iw,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function tT(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:nT(r.errors)}),r}function nT(r){if(!r)return null;let e=Object.entries(r),n={};for(let[o,s]of e)if(s&&s.__type==="RouteErrorResponse")n[o]=new Cu(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let f=new l(s.message);f.stack="",n[o]=f}catch{}}if(n[o]==null){let l=new Error(s.message);l.stack="",n[o]=l}}else n[o]=s;return n}var my=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dh=X.forwardRef(function({onClick:e,discover:n="render",prefetch:o="none",relative:s,reloadDocument:l,replace:f,state:h,target:g,to:y,preventScrollReset:_,viewTransition:w,...T},I){let{basename:N}=X.useContext(jr),U=typeof y=="string"&&my.test(y),F,H=!1;if(typeof y=="string"&&U&&(F=y,py))try{let A=new URL(window.location.href),D=y.startsWith("//")?new URL(A.protocol+y):new URL(y),x=_r(D.pathname,N);D.origin===A.origin&&x!=null?y=x+D.search+D.hash:H=!0}catch{$t(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=cw(y,{relative:s}),[ie,me,z]=Gw(o,T),de=sT(y,{replace:f,state:h,target:g,preventScrollReset:_,relative:s,viewTransition:w});function V(A){e&&e(A),A.defaultPrevented||de(A)}let R=X.createElement("a",{...T,...z,href:F||ne,onClick:H||l?e:V,ref:Zw(I,me),target:g,"data-discover":!U&&n==="render"?"true":void 0});return ie&&!U?X.createElement(X.Fragment,null,R,X.createElement(Yw,{page:ne})):R});Dh.displayName="Link";var rT=X.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:o="",end:s=!1,style:l,to:f,viewTransition:h,children:g,...y},_){let w=$a(f,{relative:y.relative}),T=Lo(),I=X.useContext(ja),{navigator:N,basename:U}=X.useContext(jr),F=I!=null&&fT(w)&&h===!0,H=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,ne=T.pathname,ie=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,H=H.toLowerCase()),ie&&U&&(ie=_r(ie,U)||ie);const me=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let z=ne===H||!s&&ne.startsWith(H)&&ne.charAt(me)==="/",de=ie!=null&&(ie===H||!s&&ie.startsWith(H)&&ie.charAt(H.length)==="/"),V={isActive:z,isPending:de,isTransitioning:F},R=z?e:void 0,A;typeof o=="function"?A=o(V):A=[o,z?"active":null,de?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(V):l;return X.createElement(Dh,{...y,"aria-current":R,className:A,ref:_,style:D,to:f,viewTransition:h},typeof g=="function"?g(V):g)});rT.displayName="NavLink";var iT=X.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:o,replace:s,state:l,method:f=gu,action:h,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:w,...T},I)=>{let N=uT(),U=cT(h,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&my.test(h),ne=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let me=ie.nativeEvent.submitter,z=(me==null?void 0:me.getAttribute("formmethod"))||f;N(me||ie.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:s,state:l,relative:y,preventScrollReset:_,viewTransition:w})};return X.createElement("form",{ref:I,method:F,action:U,onSubmit:o?g:ne,...T,"data-discover":!H&&r==="render"?"true":void 0})});iT.displayName="Form";function oT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gy(r){let e=X.useContext(Vo);return Ye(e,oT(r)),e}function sT(r,{target:e,replace:n,state:o,preventScrollReset:s,relative:l,viewTransition:f}={}){let h=fw(),g=Lo(),y=$a(r,{relative:l});return X.useCallback(_=>{if(Ow(_,e)){_.preventDefault();let w=n!==void 0?n:Ji(g)===Ji(y);h(r,{replace:w,state:o,preventScrollReset:s,relative:l,viewTransition:f})}},[g,h,y,n,o,e,r,s,l,f])}var aT=0,lT=()=>`__${String(++aT)}__`;function uT(){let{router:r}=gy("useSubmit"),{basename:e}=X.useContext(jr),n=Tw();return X.useCallback(async(o,s={})=>{let{action:l,method:f,encType:h,formData:g,body:y}=Fw(o,e);if(s.navigate===!1){let _=s.fetcherKey||lT();await r.fetch(_,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:g,body:y,formMethod:s.method||f,formEncType:s.encType||h,flushSync:s.flushSync})}else await r.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:g,body:y,formMethod:s.method||f,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,n])}function cT(r,{relative:e}={}){let{basename:n}=X.useContext(jr),o=X.useContext(hi);Ye(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),l={...$a(r||".",{relative:e})},f=Lo();if(r==null){l.search=f.search;let h=new URLSearchParams(l.search),g=h.getAll("index");if(g.some(_=>_==="")){h.delete("index"),g.filter(w=>w).forEach(w=>h.append("index",w));let _=h.toString();l.search=_?`?${_}`:""}}return(!r||r===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Mr([n,l.pathname])),Ji(l)}function fT(r,e={}){let n=X.useContext(Ih);Ye(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=gy("useViewTransitionState"),s=$a(r,{relative:e.relative});if(!n.isTransitioning)return!1;let l=_r(n.currentLocation.pathname,o)||n.currentLocation.pathname,f=_r(n.nextLocation.pathname,o)||n.nextLocation.pathname;return Iu(s.pathname,f)!=null||Iu(s.pathname,l)!=null}new TextEncoder;var hT=Eh();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dT(r){return X.createElement(Aw,{flushSync:hT.flushSync,...r})}const pT="/assets/flag-CzlMZVOS.jpg",mT="/assets/home-Dzx5QTpF.png",gT="/assets/checkmark-rZ6HcBdl.png";var ou={exports:{}},$i={},Ff={exports:{}},Uf,$m;function yT(){if($m)return Uf;$m=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Uf=r,Uf}var zf,Hm;function vT(){if(Hm)return zf;Hm=1;var r=yT();function e(){}function n(){}return n.resetWarningCache=e,zf=function(){function o(f,h,g,y,_,w){if(w!==r){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}o.isRequired=o;function s(){return o}var l={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:s,element:o,elementType:o,instanceOf:s,node:o,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},zf}var qm;function yy(){return qm||(qm=1,Ff.exports=vT()()),Ff.exports}var su={exports:{}},Kn={},au={exports:{}},Wm;function vy(){return Wm||(Wm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=_;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",o="contents",s=/^(input|select|textarea|button|object|iframe)$/;function l(w,T){return T.getPropertyValue("overflow")!=="visible"||w.scrollWidth<=0&&w.scrollHeight<=0}function f(w){var T=w.offsetWidth<=0&&w.offsetHeight<=0;if(T&&!w.innerHTML)return!0;try{var I=window.getComputedStyle(w),N=I.getPropertyValue("display");return T?N!==o&&l(w,I):N===n}catch{return console.warn("Failed to inspect element style"),!1}}function h(w){for(var T=w,I=w.getRootNode&&w.getRootNode();T&&T!==document.body;){if(I&&T===I&&(T=I.host.parentNode),f(T))return!1;T=T.parentNode}return!0}function g(w,T){var I=w.nodeName.toLowerCase(),N=s.test(I)&&!w.disabled||I==="a"&&w.href||T;return N&&h(w)}function y(w){var T=w.getAttribute("tabindex");T===null&&(T=void 0);var I=isNaN(T);return(I||T>=0)&&g(w,!I)}function _(w){var T=[].slice.call(w.querySelectorAll("*"),0).reduce(function(I,N){return I.concat(N.shadowRoot?_(N.shadowRoot):[N])},[]);return T.filter(y)}r.exports=e.default}(au,au.exports)),au.exports}var Km;function _T(){if(Km)return Kn;Km=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.resetState=f,Kn.log=h,Kn.handleBlur=g,Kn.handleFocus=y,Kn.markForFocusLater=_,Kn.returnFocus=w,Kn.popWithoutFocus=T,Kn.setupScopedFocus=I,Kn.teardownScopedFocus=N;var r=vy(),e=n(r);function n(U){return U&&U.__esModule?U:{default:U}}var o=[],s=null,l=!1;function f(){o=[]}function h(){}function g(){l=!0}function y(){if(l){if(l=!1,!s)return;setTimeout(function(){if(!s.contains(document.activeElement)){var U=(0,e.default)(s)[0]||s;U.focus()}},0)}}function _(){o.push(document.activeElement)}function w(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,F=null;try{o.length!==0&&(F=o.pop(),F.focus({preventScroll:U}));return}catch{console.warn(["You tried to return focus to",F,"but it is not in the DOM anymore"].join(" "))}}function T(){o.length>0&&o.pop()}function I(U){s=U,window.addEventListener?(window.addEventListener("blur",g,!1),document.addEventListener("focus",y,!0)):(window.attachEvent("onBlur",g),document.attachEvent("onFocus",y))}function N(){s=null,window.addEventListener?(window.removeEventListener("blur",g),document.removeEventListener("focus",y)):(window.detachEvent("onBlur",g),document.detachEvent("onFocus",y))}return Kn}var lu={exports:{}},Qm;function ET(){return Qm||(Qm=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var n=vy(),o=s(n);function s(h){return h&&h.__esModule?h:{default:h}}function l(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return h.activeElement.shadowRoot?l(h.activeElement.shadowRoot):h.activeElement}function f(h,g){var y=(0,o.default)(h);if(!y.length){g.preventDefault();return}var _=void 0,w=g.shiftKey,T=y[0],I=y[y.length-1],N=l();if(h===N){if(!w)return;_=I}if(I===N&&!w&&(_=T),T===N&&w&&(_=I),_){g.preventDefault(),_.focus();return}var U=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),F=U!=null&&U[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(F){var H=y.indexOf(N);if(H>-1&&(H+=w?-1:1),_=y[H],typeof _>"u"){g.preventDefault(),_=w?I:T,_.focus();return}g.preventDefault(),_.focus()}}r.exports=e.default}(lu,lu.exports)),lu.exports}var mr={},jf,Gm;function wT(){if(Gm)return jf;Gm=1;var r=function(){};return jf=r,jf}var Lr={},Bf={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var Ym;function TT(){return Ym||(Ym=1,function(r){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};r.exports?r.exports=n:window.ExecutionEnvironment=n})()}(Bf)),Bf.exports}var Xm;function Nh(){if(Xm)return Lr;Xm=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.canUseDOM=Lr.SafeNodeList=Lr.SafeHTMLCollection=void 0;var r=TT(),e=n(r);function n(l){return l&&l.__esModule?l:{default:l}}var o=e.default,s=o.canUseDOM?window.HTMLElement:{};return Lr.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},Lr.SafeNodeList=o.canUseDOM?window.NodeList:{},Lr.canUseDOM=o.canUseDOM,Lr.default=s,Lr}var Jm;function _y(){if(Jm)return mr;Jm=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.resetState=l,mr.log=f,mr.assertNodeList=h,mr.setElement=g,mr.validateElement=y,mr.hide=_,mr.show=w,mr.documentNotReadyOrSSRTesting=T;var r=wT(),e=o(r),n=Nh();function o(I){return I&&I.__esModule?I:{default:I}}var s=null;function l(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):s.length!=null?s.forEach(function(I){return I.removeAttribute("aria-hidden")}):document.querySelectorAll(s).forEach(function(I){return I.removeAttribute("aria-hidden")})),s=null}function f(){}function h(I,N){if(!I||!I.length)throw new Error("react-modal: No elements were found for selector "+N+".")}function g(I){var N=I;if(typeof N=="string"&&n.canUseDOM){var U=document.querySelectorAll(N);h(U,N),N=U}return s=N||s,s}function y(I){var N=I||s;return N?Array.isArray(N)||N instanceof HTMLCollection||N instanceof NodeList?N:[N]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function _(I){var N=!0,U=!1,F=void 0;try{for(var H=y(I)[Symbol.iterator](),ne;!(N=(ne=H.next()).done);N=!0){var ie=ne.value;ie.setAttribute("aria-hidden","true")}}catch(me){U=!0,F=me}finally{try{!N&&H.return&&H.return()}finally{if(U)throw F}}}function w(I){var N=!0,U=!1,F=void 0;try{for(var H=y(I)[Symbol.iterator](),ne;!(N=(ne=H.next()).done);N=!0){var ie=ne.value;ie.removeAttribute("aria-hidden")}}catch(me){U=!0,F=me}finally{try{!N&&H.return&&H.return()}finally{if(U)throw F}}}function T(){s=null}return mr}var Ao={},Zm;function ST(){if(Zm)return Ao;Zm=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.resetState=o,Ao.log=s;var r={},e={};function n(y,_){y.classList.remove(_)}function o(){var y=document.getElementsByTagName("html")[0];for(var _ in r)n(y,r[_]);var w=document.body;for(var T in e)n(w,e[T]);r={},e={}}function s(){}var l=function(_,w){return _[w]||(_[w]=0),_[w]+=1,w},f=function(_,w){return _[w]&&(_[w]-=1),w},h=function(_,w,T){T.forEach(function(I){l(w,I),_.add(I)})},g=function(_,w,T){T.forEach(function(I){f(w,I),w[I]===0&&_.remove(I)})};return Ao.add=function(_,w){return h(_.classList,_.nodeName.toLowerCase()=="html"?r:e,w.split(" "))},Ao.remove=function(_,w){return g(_.classList,_.nodeName.toLowerCase()=="html"?r:e,w.split(" "))},Ao}var ws={},eg;function Ey(){if(eg)return ws;eg=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.log=o,ws.resetState=s;function r(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var e=function l(){var f=this;r(this,l),this.register=function(h){f.openInstances.indexOf(h)===-1&&(f.openInstances.push(h),f.emit("register"))},this.deregister=function(h){var g=f.openInstances.indexOf(h);g!==-1&&(f.openInstances.splice(g,1),f.emit("deregister"))},this.subscribe=function(h){f.subscribers.push(h)},this.emit=function(h){f.subscribers.forEach(function(g){return g(h,f.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new e;function o(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(l){return console.log(l)}),console.log("end portalOpenInstances ----------")}function s(){n=new e}return ws.default=n,ws}var Ta={},tg;function RT(){if(tg)return Ta;tg=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.resetState=f,Ta.log=h;var r=Ey(),e=n(r);function n(_){return _&&_.__esModule?_:{default:_}}var o=void 0,s=void 0,l=[];function f(){for(var _=[o,s],w=0;w<_.length;w++){var T=_[w];T&&T.parentNode&&T.parentNode.removeChild(T)}o=s=null,l=[]}function h(){console.log("bodyTrap ----------"),console.log(l.length);for(var _=[o,s],w=0;w<_.length;w++){var T=_[w],I=T||{};console.log(I.nodeName,I.className,I.id)}console.log("edn bodyTrap ----------")}function g(){l.length!==0&&l[l.length-1].focusContent()}function y(_,w){!o&&!s&&(o=document.createElement("div"),o.setAttribute("data-react-modal-body-trap",""),o.style.position="absolute",o.style.opacity="0",o.setAttribute("tabindex","0"),o.addEventListener("focus",g),s=o.cloneNode(),s.addEventListener("focus",g)),l=w,l.length>0?(document.body.firstChild!==o&&document.body.insertBefore(o,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(o.parentElement&&o.parentElement.removeChild(o),s.parentElement&&s.parentElement.removeChild(s))}return e.default.subscribe(y),Ta}var ng;function IT(){return ng||(ng=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(le){for(var te=1;te<arguments.length;te++){var xe=arguments[te];for(var q in xe)Object.prototype.hasOwnProperty.call(xe,q)&&(le[q]=xe[q])}return le},o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},s=function(){function le(te,xe){for(var q=0;q<xe.length;q++){var G=xe[q];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(te,G.key,G)}}return function(te,xe,q){return xe&&le(te.prototype,xe),q&&le(te,q),te}}(),l=za(),f=yy(),h=z(f),g=_T(),y=me(g),_=ET(),w=z(_),T=_y(),I=me(T),N=ST(),U=me(N),F=Nh(),H=z(F),ne=Ey(),ie=z(ne);RT();function me(le){if(le&&le.__esModule)return le;var te={};if(le!=null)for(var xe in le)Object.prototype.hasOwnProperty.call(le,xe)&&(te[xe]=le[xe]);return te.default=le,te}function z(le){return le&&le.__esModule?le:{default:le}}function de(le,te){if(!(le instanceof te))throw new TypeError("Cannot call a class as a function")}function V(le,te){if(!le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:le}function R(le,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);le.prototype=Object.create(te&&te.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(le,te):le.__proto__=te)}var A={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},D=function(te){return te.code==="Tab"||te.keyCode===9},x=function(te){return te.code==="Escape"||te.keyCode===27},k=0,C=function(le){R(te,le);function te(xe){de(this,te);var q=V(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,xe));return q.setOverlayRef=function(G){q.overlay=G,q.props.overlayRef&&q.props.overlayRef(G)},q.setContentRef=function(G){q.content=G,q.props.contentRef&&q.props.contentRef(G)},q.afterClose=function(){var G=q.props,fe=G.appElement,oe=G.ariaHideApp,M=G.htmlOpenClassName,J=G.bodyOpenClassName,ye=G.parentSelector,Le=ye&&ye().ownerDocument||document;J&&U.remove(Le.body,J),M&&U.remove(Le.getElementsByTagName("html")[0],M),oe&&k>0&&(k-=1,k===0&&I.show(fe)),q.props.shouldFocusAfterRender&&(q.props.shouldReturnFocusAfterClose?(y.returnFocus(q.props.preventScroll),y.teardownScopedFocus()):y.popWithoutFocus()),q.props.onAfterClose&&q.props.onAfterClose(),ie.default.deregister(q)},q.open=function(){q.beforeOpen(),q.state.afterOpen&&q.state.beforeClose?(clearTimeout(q.closeTimer),q.setState({beforeClose:!1})):(q.props.shouldFocusAfterRender&&(y.setupScopedFocus(q.node),y.markForFocusLater()),q.setState({isOpen:!0},function(){q.openAnimationFrame=requestAnimationFrame(function(){q.setState({afterOpen:!0}),q.props.isOpen&&q.props.onAfterOpen&&q.props.onAfterOpen({overlayEl:q.overlay,contentEl:q.content})})}))},q.close=function(){q.props.closeTimeoutMS>0?q.closeWithTimeout():q.closeWithoutTimeout()},q.focusContent=function(){return q.content&&!q.contentHasFocus()&&q.content.focus({preventScroll:!0})},q.closeWithTimeout=function(){var G=Date.now()+q.props.closeTimeoutMS;q.setState({beforeClose:!0,closesAt:G},function(){q.closeTimer=setTimeout(q.closeWithoutTimeout,q.state.closesAt-Date.now())})},q.closeWithoutTimeout=function(){q.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},q.afterClose)},q.handleKeyDown=function(G){D(G)&&(0,w.default)(q.content,G),q.props.shouldCloseOnEsc&&x(G)&&(G.stopPropagation(),q.requestClose(G))},q.handleOverlayOnClick=function(G){q.shouldClose===null&&(q.shouldClose=!0),q.shouldClose&&q.props.shouldCloseOnOverlayClick&&(q.ownerHandlesClose()?q.requestClose(G):q.focusContent()),q.shouldClose=null},q.handleContentOnMouseUp=function(){q.shouldClose=!1},q.handleOverlayOnMouseDown=function(G){!q.props.shouldCloseOnOverlayClick&&G.target==q.overlay&&G.preventDefault()},q.handleContentOnClick=function(){q.shouldClose=!1},q.handleContentOnMouseDown=function(){q.shouldClose=!1},q.requestClose=function(G){return q.ownerHandlesClose()&&q.props.onRequestClose(G)},q.ownerHandlesClose=function(){return q.props.onRequestClose},q.shouldBeClosed=function(){return!q.state.isOpen&&!q.state.beforeClose},q.contentHasFocus=function(){return document.activeElement===q.content||q.content.contains(document.activeElement)},q.buildClassName=function(G,fe){var oe=(typeof fe>"u"?"undefined":o(fe))==="object"?fe:{base:A[G],afterOpen:A[G]+"--after-open",beforeClose:A[G]+"--before-close"},M=oe.base;return q.state.afterOpen&&(M=M+" "+oe.afterOpen),q.state.beforeClose&&(M=M+" "+oe.beforeClose),typeof fe=="string"&&fe?M+" "+fe:M},q.attributesFromObject=function(G,fe){return Object.keys(fe).reduce(function(oe,M){return oe[G+"-"+M]=fe[M],oe},{})},q.state={afterOpen:!1,beforeClose:!1},q.shouldClose=null,q.moveFromContentToOverlay=null,q}return s(te,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(q,G){this.props.isOpen&&!q.isOpen?this.open():!this.props.isOpen&&q.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!G.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var q=this.props,G=q.appElement,fe=q.ariaHideApp,oe=q.htmlOpenClassName,M=q.bodyOpenClassName,J=q.parentSelector,ye=J&&J().ownerDocument||document;M&&U.add(ye.body,M),oe&&U.add(ye.getElementsByTagName("html")[0],oe),fe&&(k+=1,I.hide(G)),ie.default.register(this)}},{key:"render",value:function(){var q=this.props,G=q.id,fe=q.className,oe=q.overlayClassName,M=q.defaultStyles,J=q.children,ye=fe?{}:M.content,Le=oe?{}:M.overlay;if(this.shouldBeClosed())return null;var Me={ref:this.setOverlayRef,className:this.buildClassName("overlay",oe),style:n({},Le,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},$e=n({id:G,ref:this.setContentRef,style:n({},ye,this.props.style.content),className:this.buildClassName("content",fe),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),We=this.props.contentElement($e,J);return this.props.overlayElement(Me,We)}}]),te}(l.Component);C.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},C.propTypes={isOpen:h.default.bool.isRequired,defaultStyles:h.default.shape({content:h.default.object,overlay:h.default.object}),style:h.default.shape({content:h.default.object,overlay:h.default.object}),className:h.default.oneOfType([h.default.string,h.default.object]),overlayClassName:h.default.oneOfType([h.default.string,h.default.object]),parentSelector:h.default.func,bodyOpenClassName:h.default.string,htmlOpenClassName:h.default.string,ariaHideApp:h.default.bool,appElement:h.default.oneOfType([h.default.instanceOf(H.default),h.default.instanceOf(F.SafeHTMLCollection),h.default.instanceOf(F.SafeNodeList),h.default.arrayOf(h.default.instanceOf(H.default))]),onAfterOpen:h.default.func,onAfterClose:h.default.func,onRequestClose:h.default.func,closeTimeoutMS:h.default.number,shouldFocusAfterRender:h.default.bool,shouldCloseOnOverlayClick:h.default.bool,shouldReturnFocusAfterClose:h.default.bool,preventScroll:h.default.bool,role:h.default.string,contentLabel:h.default.string,aria:h.default.object,data:h.default.object,children:h.default.node,shouldCloseOnEsc:h.default.bool,overlayRef:h.default.func,contentRef:h.default.func,id:h.default.string,overlayElement:h.default.func,contentElement:h.default.func,testId:h.default.string},e.default=C,r.exports=e.default}(su,su.exports)),su.exports}function wy(){var r=this.constructor.getDerivedStateFromProps(this.props,this.state);r!=null&&this.setState(r)}function Ty(r){function e(n){var o=this.constructor.getDerivedStateFromProps(r,n);return o??null}this.setState(e.bind(this))}function Sy(r,e){try{var n=this.props,o=this.state;this.props=r,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}wy.__suppressDeprecationWarning=!0;Ty.__suppressDeprecationWarning=!0;Sy.__suppressDeprecationWarning=!0;function CT(r){var e=r.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof r.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return r;var n=null,o=null,s=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?o="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(o="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?s="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),n!==null||o!==null||s!==null){var l=r.displayName||r.name,f=typeof r.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+l+" uses "+f+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(o!==null?`
  `+o:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof r.getDerivedStateFromProps=="function"&&(e.componentWillMount=wy,e.componentWillReceiveProps=Ty),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=Sy;var h=e.componentDidUpdate;e.componentDidUpdate=function(y,_,w){var T=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:w;h.call(this,y,_,T)}}return r}const AT=Object.freeze(Object.defineProperty({__proto__:null,polyfill:CT},Symbol.toStringTag,{value:"Module"})),PT=iE(AT);var rg;function xT(){if(rg)return $i;rg=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.bodyOpenClassName=$i.portalClassName=void 0;var r=Object.assign||function(x){for(var k=1;k<arguments.length;k++){var C=arguments[k];for(var le in C)Object.prototype.hasOwnProperty.call(C,le)&&(x[le]=C[le])}return x},e=function(){function x(k,C){for(var le=0;le<C.length;le++){var te=C[le];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(k,te.key,te)}}return function(k,C,le){return C&&x(k.prototype,C),le&&x(k,le),k}}(),n=za(),o=F(n),s=Eh(),l=F(s),f=yy(),h=F(f),g=IT(),y=F(g),_=_y(),w=U(_),T=Nh(),I=F(T),N=PT;function U(x){if(x&&x.__esModule)return x;var k={};if(x!=null)for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(k[C]=x[C]);return k.default=x,k}function F(x){return x&&x.__esModule?x:{default:x}}function H(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function ne(x,k){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:x}function ie(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(x,k):x.__proto__=k)}var me=$i.portalClassName="ReactModalPortal",z=$i.bodyOpenClassName="ReactModal__Body--open",de=T.canUseDOM&&l.default.createPortal!==void 0,V=function(k){return document.createElement(k)},R=function(){return de?l.default.createPortal:l.default.unstable_renderSubtreeIntoContainer};function A(x){return x()}var D=function(x){ie(k,x);function k(){var C,le,te,xe;H(this,k);for(var q=arguments.length,G=Array(q),fe=0;fe<q;fe++)G[fe]=arguments[fe];return xe=(le=(te=ne(this,(C=k.__proto__||Object.getPrototypeOf(k)).call.apply(C,[this].concat(G))),te),te.removePortal=function(){!de&&l.default.unmountComponentAtNode(te.node);var oe=A(te.props.parentSelector);oe&&oe.contains(te.node)?oe.removeChild(te.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},te.portalRef=function(oe){te.portal=oe},te.renderPortal=function(oe){var M=R(),J=M(te,o.default.createElement(y.default,r({defaultStyles:k.defaultStyles},oe)),te.node);te.portalRef(J)},le),ne(te,xe)}return e(k,[{key:"componentDidMount",value:function(){if(T.canUseDOM){de||(this.node=V("div")),this.node.className=this.props.portalClassName;var le=A(this.props.parentSelector);le.appendChild(this.node),!de&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(le){var te=A(le.parentSelector),xe=A(this.props.parentSelector);return{prevParent:te,nextParent:xe}}},{key:"componentDidUpdate",value:function(le,te,xe){if(T.canUseDOM){var q=this.props,G=q.isOpen,fe=q.portalClassName;le.portalClassName!==fe&&(this.node.className=fe);var oe=xe.prevParent,M=xe.nextParent;M!==oe&&(oe.removeChild(this.node),M.appendChild(this.node)),!(!le.isOpen&&!G)&&!de&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!T.canUseDOM||!this.node||!this.portal)){var le=this.portal.state,te=Date.now(),xe=le.isOpen&&this.props.closeTimeoutMS&&(le.closesAt||te+this.props.closeTimeoutMS);xe?(le.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,xe-te)):this.removePortal()}}},{key:"render",value:function(){if(!T.canUseDOM||!de)return null;!this.node&&de&&(this.node=V("div"));var le=R();return le(o.default.createElement(y.default,r({ref:this.portalRef,defaultStyles:k.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(le){w.setElement(le)}}]),k}(n.Component);return D.propTypes={isOpen:h.default.bool.isRequired,style:h.default.shape({content:h.default.object,overlay:h.default.object}),portalClassName:h.default.string,bodyOpenClassName:h.default.string,htmlOpenClassName:h.default.string,className:h.default.oneOfType([h.default.string,h.default.shape({base:h.default.string.isRequired,afterOpen:h.default.string.isRequired,beforeClose:h.default.string.isRequired})]),overlayClassName:h.default.oneOfType([h.default.string,h.default.shape({base:h.default.string.isRequired,afterOpen:h.default.string.isRequired,beforeClose:h.default.string.isRequired})]),appElement:h.default.oneOfType([h.default.instanceOf(I.default),h.default.instanceOf(T.SafeHTMLCollection),h.default.instanceOf(T.SafeNodeList),h.default.arrayOf(h.default.instanceOf(I.default))]),onAfterOpen:h.default.func,onRequestClose:h.default.func,closeTimeoutMS:h.default.number,ariaHideApp:h.default.bool,shouldFocusAfterRender:h.default.bool,shouldCloseOnOverlayClick:h.default.bool,shouldReturnFocusAfterClose:h.default.bool,preventScroll:h.default.bool,parentSelector:h.default.func,aria:h.default.object,data:h.default.object,role:h.default.string,contentLabel:h.default.string,shouldCloseOnEsc:h.default.bool,overlayRef:h.default.func,contentRef:h.default.func,id:h.default.string,overlayElement:h.default.func,contentElement:h.default.func},D.defaultProps={isOpen:!1,portalClassName:me,bodyOpenClassName:z,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(k,C){return o.default.createElement("div",k,C)},contentElement:function(k,C){return o.default.createElement("div",k,C)}},D.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,N.polyfill)(D),$i.default=D,$i}var ig;function kT(){return ig||(ig=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var n=xT(),o=s(n);function s(l){return l&&l.__esModule?l:{default:l}}e.default=o.default,r.exports=e.default}(ou,ou.exports)),ou.exports}var DT=kT();const Ry=rE(DT);var og={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=function(r){const e=[];let n=0;for(let o=0;o<r.length;o++){let s=r.charCodeAt(o);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&o+1<r.length&&(r.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++o)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},NT=function(r){const e=[];let n=0,o=0;for(;n<r.length;){const s=r[n++];if(s<128)e[o++]=String.fromCharCode(s);else if(s>191&&s<224){const l=r[n++];e[o++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=r[n++],f=r[n++],h=r[n++],g=((s&7)<<18|(l&63)<<12|(f&63)<<6|h&63)-65536;e[o++]=String.fromCharCode(55296+(g>>10)),e[o++]=String.fromCharCode(56320+(g&1023))}else{const l=r[n++],f=r[n++];e[o++]=String.fromCharCode((s&15)<<12|(l&63)<<6|f&63)}}return e.join("")},Cy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<r.length;s+=3){const l=r[s],f=s+1<r.length,h=f?r[s+1]:0,g=s+2<r.length,y=g?r[s+2]:0,_=l>>2,w=(l&3)<<4|h>>4;let T=(h&15)<<2|y>>6,I=y&63;g||(I=64,f||(T=64)),o.push(n[_],n[w],n[T],n[I])}return o.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Iy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):NT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<r.length;){const l=n[r.charAt(s++)],h=s<r.length?n[r.charAt(s)]:0;++s;const y=s<r.length?n[r.charAt(s)]:64;++s;const w=s<r.length?n[r.charAt(s)]:64;if(++s,l==null||h==null||y==null||w==null)throw new VT;const T=l<<2|h>>4;if(o.push(T),y!==64){const I=h<<4&240|y>>2;if(o.push(I),w!==64){const N=y<<6&192|w;o.push(N)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class VT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LT=function(r){const e=Iy(r);return Cy.encodeByteArray(e,!0)},Au=function(r){return LT(r).replace(/\./g,"")},OT=function(r){try{return Cy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=()=>MT().__FIREBASE_DEFAULTS__,FT=()=>{if(typeof process>"u"||typeof og>"u")return;const r=og.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},UT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&OT(r[1]);return e&&JSON.parse(e)},Vh=()=>{try{return bT()||FT()||UT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zT=r=>{var e,n;return(n=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},jT=r=>{const e=zT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),o]:[e.substring(0,n),o]},Ay=()=>{var r;return(r=Vh())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=e||"demo-project",s=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Au(JSON.stringify(n)),Au(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qT(){var r;const e=(r=Vh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WT(){return!qT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KT(){try{return typeof indexedDB=="object"}catch{return!1}}function QT(){return new Promise((r,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(o),r(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="FirebaseError";class Os extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=GT,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Py.prototype.create)}}class Py{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},s=`${this.service}/${e}`,l=this.errors[e],f=l?YT(l,o):"Error",h=`${this.serviceName}: ${f} (${s}).`;return new Os(s,h,o)}}function YT(r,e){return r.replace(XT,(n,o)=>{const s=e[o];return s!=null?String(s):`<${o}?>`})}const XT=/\{\$([^}]+)}/g;function eh(r,e){if(r===e)return!0;const n=Object.keys(r),o=Object.keys(e);for(const s of n){if(!o.includes(s))return!1;const l=r[s],f=e[s];if(sg(l)&&sg(f)){if(!eh(l,f))return!1}else if(l!==f)return!1}for(const s of o)if(!n.includes(s))return!1;return!0}function sg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(r){return r&&r._delegate?r._delegate:r}class Va{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const o=new BT;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e0(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});o.resolve(l)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[l,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);o===h&&f.resolve(s)}return s}onInit(e,n){var o;const s=this.normalizeInstanceIdentifier(n),l=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;l.add(e),this.onInitCallbacks.set(s,l);const f=this.instances.get(s);return f&&e(f,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const o=this.onInitCallbacks.get(n);if(o)for(const s of o)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:ZT(e),options:n}),this.instances.set(e,o),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZT(r){return r===Po?void 0:r}function e0(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(et||(et={}));const n0={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},r0=et.INFO,i0={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},o0=(r,e,...n)=>{if(e<r.logLevel)return;const o=new Date().toISOString(),s=i0[e];if(s)console[s](`[${o}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xy{constructor(e){this.name=e,this._logLevel=r0,this._logHandler=o0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const s0=(r,e)=>e.some(n=>r instanceof n);let ag,lg;function a0(){return ag||(ag=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l0(){return lg||(lg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ky=new WeakMap,th=new WeakMap,Dy=new WeakMap,$f=new WeakMap,Lh=new WeakMap;function u0(r){const e=new Promise((n,o)=>{const s=()=>{r.removeEventListener("success",l),r.removeEventListener("error",f)},l=()=>{n(Ki(r.result)),s()},f=()=>{o(r.error),s()};r.addEventListener("success",l),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&ky.set(n,r)}).catch(()=>{}),Lh.set(e,r),e}function c0(r){if(th.has(r))return;const e=new Promise((n,o)=>{const s=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",f),r.removeEventListener("abort",f)},l=()=>{n(),s()},f=()=>{o(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",l),r.addEventListener("error",f),r.addEventListener("abort",f)});th.set(r,e)}let nh={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return th.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Dy.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function f0(r){nh=r(nh)}function h0(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=r.call(Hf(this),e,...n);return Dy.set(o,e.sort?e.sort():[e]),Ki(o)}:l0().includes(r)?function(...e){return r.apply(Hf(this),e),Ki(ky.get(this))}:function(...e){return Ki(r.apply(Hf(this),e))}}function d0(r){return typeof r=="function"?h0(r):(r instanceof IDBTransaction&&c0(r),s0(r,a0())?new Proxy(r,nh):r)}function Ki(r){if(r instanceof IDBRequest)return u0(r);if($f.has(r))return $f.get(r);const e=d0(r);return e!==r&&($f.set(r,e),Lh.set(e,r)),e}const Hf=r=>Lh.get(r);function p0(r,e,{blocked:n,upgrade:o,blocking:s,terminated:l}={}){const f=indexedDB.open(r,e),h=Ki(f);return o&&f.addEventListener("upgradeneeded",g=>{o(Ki(f.result),g.oldVersion,g.newVersion,Ki(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),h.then(g=>{l&&g.addEventListener("close",()=>l()),s&&g.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const m0=["get","getKey","getAll","getAllKeys","count"],g0=["put","add","delete","clear"],qf=new Map;function ug(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qf.get(e))return qf.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,s=g0.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(s||m0.includes(n)))return;const l=async function(f,...h){const g=this.transaction(f,s?"readwrite":"readonly");let y=g.store;return o&&(y=y.index(h.shift())),(await Promise.all([y[n](...h),s&&g.done]))[0]};return qf.set(e,l),l}f0(r=>({...r,get:(e,n,o)=>ug(e,n)||r.get(e,n,o),has:(e,n)=>!!ug(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v0(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function v0(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rh="@firebase/app",cg="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new xy("@firebase/app"),_0="@firebase/app-compat",E0="@firebase/analytics-compat",w0="@firebase/analytics",T0="@firebase/app-check-compat",S0="@firebase/app-check",R0="@firebase/auth",I0="@firebase/auth-compat",C0="@firebase/database",A0="@firebase/data-connect",P0="@firebase/database-compat",x0="@firebase/functions",k0="@firebase/functions-compat",D0="@firebase/installations",N0="@firebase/installations-compat",V0="@firebase/messaging",L0="@firebase/messaging-compat",O0="@firebase/performance",M0="@firebase/performance-compat",b0="@firebase/remote-config",F0="@firebase/remote-config-compat",U0="@firebase/storage",z0="@firebase/storage-compat",j0="@firebase/firestore",B0="@firebase/vertexai",$0="@firebase/firestore-compat",H0="firebase",q0="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="[DEFAULT]",W0={[rh]:"fire-core",[_0]:"fire-core-compat",[w0]:"fire-analytics",[E0]:"fire-analytics-compat",[S0]:"fire-app-check",[T0]:"fire-app-check-compat",[R0]:"fire-auth",[I0]:"fire-auth-compat",[C0]:"fire-rtdb",[A0]:"fire-data-connect",[P0]:"fire-rtdb-compat",[x0]:"fire-fn",[k0]:"fire-fn-compat",[D0]:"fire-iid",[N0]:"fire-iid-compat",[V0]:"fire-fcm",[L0]:"fire-fcm-compat",[O0]:"fire-perf",[M0]:"fire-perf-compat",[b0]:"fire-rc",[F0]:"fire-rc-compat",[U0]:"fire-gcs",[z0]:"fire-gcs-compat",[j0]:"fire-fst",[$0]:"fire-fst-compat",[B0]:"fire-vertex","fire-js":"fire-js",[H0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,K0=new Map,oh=new Map;function fg(r,e){try{r.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function xu(r){const e=r.name;if(oh.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;oh.set(e,r);for(const n of Pu.values())fg(n,r);for(const n of K0.values())fg(n,r);return!0}function Q0(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new Py("app","Firebase",G0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=q0;function Ny(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const o=Object.assign({name:ih,automaticDataCollectionEnabled:!1},e),s=o.name;if(typeof s!="string"||!s)throw Qi.create("bad-app-name",{appName:String(s)});if(n||(n=Ay()),!n)throw Qi.create("no-options");const l=Pu.get(s);if(l){if(eh(n,l.options)&&eh(o,l.config))return l;throw Qi.create("duplicate-app",{appName:s})}const f=new t0(s);for(const g of oh.values())f.addComponent(g);const h=new Y0(n,o,f);return Pu.set(s,h),h}function J0(r=ih){const e=Pu.get(r);if(!e&&r===ih&&Ay())return Ny();if(!e)throw Qi.create("no-app",{appName:r});return e}function Cs(r,e,n){var o;let s=(o=W0[r])!==null&&o!==void 0?o:r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),f=e.match(/\s|\//);if(l||f){const h=[`Unable to register library "${s}" with version "${e}":`];l&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(h.join(" "));return}xu(new Va(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="firebase-heartbeat-database",eS=1,La="firebase-heartbeat-store";let Wf=null;function Vy(){return Wf||(Wf=p0(Z0,eS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(La)}catch(n){console.warn(n)}}}}).catch(r=>{throw Qi.create("idb-open",{originalErrorMessage:r.message})})),Wf}async function tS(r){try{const n=(await Vy()).transaction(La),o=await n.objectStore(La).get(Ly(r));return await n.done,o}catch(e){if(e instanceof Os)li.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});li.warn(n.message)}}}async function hg(r,e){try{const o=(await Vy()).transaction(La,"readwrite");await o.objectStore(La).put(e,Ly(r)),await o.done}catch(n){if(n instanceof Os)li.warn(n.message);else{const o=Qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});li.warn(o.message)}}}function Ly(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=1024,rS=30*24*60*60*1e3;class iS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sS(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=dg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(f=>f.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const h=new Date(f.date).valueOf();return Date.now()-h<=rS}),this._storage.overwrite(this._heartbeatsCache))}catch(o){li.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dg(),{heartbeatsToSend:o,unsentEntries:s}=oS(this._heartbeatsCache.heartbeats),l=Au(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return li.warn(n),""}}}function dg(){return new Date().toISOString().substring(0,10)}function oS(r,e=nS){const n=[];let o=r.slice();for(const s of r){const l=n.find(f=>f.agent===s.agent);if(l){if(l.dates.push(s.date),pg(n)>e){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),pg(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class sS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KT()?QT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function pg(r){return Au(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(r){xu(new Va("platform-logger",e=>new y0(e),"PRIVATE")),xu(new Va("heartbeat",e=>new iS(e),"PRIVATE")),Cs(rh,cg,r),Cs(rh,cg,"esm2017"),Cs("fire-js","")}aS("");var lS="firebase",uS="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(lS,uS,"app");var mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,Oy;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,R){function A(){}A.prototype=R.prototype,V.D=R.prototype,V.prototype=new A,V.prototype.constructor=V,V.C=function(D,x,k){for(var C=Array(arguments.length-2),le=2;le<arguments.length;le++)C[le-2]=arguments[le];return R.prototype[x].apply(D,C)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,R,A){A||(A=0);var D=Array(16);if(typeof R=="string")for(var x=0;16>x;++x)D[x]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(x=0;16>x;++x)D[x]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=V.g[0],A=V.g[1],x=V.g[2];var k=V.g[3],C=R+(k^A&(x^k))+D[0]+3614090360&4294967295;R=A+(C<<7&4294967295|C>>>25),C=k+(x^R&(A^x))+D[1]+3905402710&4294967295,k=R+(C<<12&4294967295|C>>>20),C=x+(A^k&(R^A))+D[2]+606105819&4294967295,x=k+(C<<17&4294967295|C>>>15),C=A+(R^x&(k^R))+D[3]+3250441966&4294967295,A=x+(C<<22&4294967295|C>>>10),C=R+(k^A&(x^k))+D[4]+4118548399&4294967295,R=A+(C<<7&4294967295|C>>>25),C=k+(x^R&(A^x))+D[5]+1200080426&4294967295,k=R+(C<<12&4294967295|C>>>20),C=x+(A^k&(R^A))+D[6]+2821735955&4294967295,x=k+(C<<17&4294967295|C>>>15),C=A+(R^x&(k^R))+D[7]+4249261313&4294967295,A=x+(C<<22&4294967295|C>>>10),C=R+(k^A&(x^k))+D[8]+1770035416&4294967295,R=A+(C<<7&4294967295|C>>>25),C=k+(x^R&(A^x))+D[9]+2336552879&4294967295,k=R+(C<<12&4294967295|C>>>20),C=x+(A^k&(R^A))+D[10]+4294925233&4294967295,x=k+(C<<17&4294967295|C>>>15),C=A+(R^x&(k^R))+D[11]+2304563134&4294967295,A=x+(C<<22&4294967295|C>>>10),C=R+(k^A&(x^k))+D[12]+1804603682&4294967295,R=A+(C<<7&4294967295|C>>>25),C=k+(x^R&(A^x))+D[13]+4254626195&4294967295,k=R+(C<<12&4294967295|C>>>20),C=x+(A^k&(R^A))+D[14]+2792965006&4294967295,x=k+(C<<17&4294967295|C>>>15),C=A+(R^x&(k^R))+D[15]+1236535329&4294967295,A=x+(C<<22&4294967295|C>>>10),C=R+(x^k&(A^x))+D[1]+4129170786&4294967295,R=A+(C<<5&4294967295|C>>>27),C=k+(A^x&(R^A))+D[6]+3225465664&4294967295,k=R+(C<<9&4294967295|C>>>23),C=x+(R^A&(k^R))+D[11]+643717713&4294967295,x=k+(C<<14&4294967295|C>>>18),C=A+(k^R&(x^k))+D[0]+3921069994&4294967295,A=x+(C<<20&4294967295|C>>>12),C=R+(x^k&(A^x))+D[5]+3593408605&4294967295,R=A+(C<<5&4294967295|C>>>27),C=k+(A^x&(R^A))+D[10]+38016083&4294967295,k=R+(C<<9&4294967295|C>>>23),C=x+(R^A&(k^R))+D[15]+3634488961&4294967295,x=k+(C<<14&4294967295|C>>>18),C=A+(k^R&(x^k))+D[4]+3889429448&4294967295,A=x+(C<<20&4294967295|C>>>12),C=R+(x^k&(A^x))+D[9]+568446438&4294967295,R=A+(C<<5&4294967295|C>>>27),C=k+(A^x&(R^A))+D[14]+3275163606&4294967295,k=R+(C<<9&4294967295|C>>>23),C=x+(R^A&(k^R))+D[3]+4107603335&4294967295,x=k+(C<<14&4294967295|C>>>18),C=A+(k^R&(x^k))+D[8]+1163531501&4294967295,A=x+(C<<20&4294967295|C>>>12),C=R+(x^k&(A^x))+D[13]+2850285829&4294967295,R=A+(C<<5&4294967295|C>>>27),C=k+(A^x&(R^A))+D[2]+4243563512&4294967295,k=R+(C<<9&4294967295|C>>>23),C=x+(R^A&(k^R))+D[7]+1735328473&4294967295,x=k+(C<<14&4294967295|C>>>18),C=A+(k^R&(x^k))+D[12]+2368359562&4294967295,A=x+(C<<20&4294967295|C>>>12),C=R+(A^x^k)+D[5]+4294588738&4294967295,R=A+(C<<4&4294967295|C>>>28),C=k+(R^A^x)+D[8]+2272392833&4294967295,k=R+(C<<11&4294967295|C>>>21),C=x+(k^R^A)+D[11]+1839030562&4294967295,x=k+(C<<16&4294967295|C>>>16),C=A+(x^k^R)+D[14]+4259657740&4294967295,A=x+(C<<23&4294967295|C>>>9),C=R+(A^x^k)+D[1]+2763975236&4294967295,R=A+(C<<4&4294967295|C>>>28),C=k+(R^A^x)+D[4]+1272893353&4294967295,k=R+(C<<11&4294967295|C>>>21),C=x+(k^R^A)+D[7]+4139469664&4294967295,x=k+(C<<16&4294967295|C>>>16),C=A+(x^k^R)+D[10]+3200236656&4294967295,A=x+(C<<23&4294967295|C>>>9),C=R+(A^x^k)+D[13]+681279174&4294967295,R=A+(C<<4&4294967295|C>>>28),C=k+(R^A^x)+D[0]+3936430074&4294967295,k=R+(C<<11&4294967295|C>>>21),C=x+(k^R^A)+D[3]+3572445317&4294967295,x=k+(C<<16&4294967295|C>>>16),C=A+(x^k^R)+D[6]+76029189&4294967295,A=x+(C<<23&4294967295|C>>>9),C=R+(A^x^k)+D[9]+3654602809&4294967295,R=A+(C<<4&4294967295|C>>>28),C=k+(R^A^x)+D[12]+3873151461&4294967295,k=R+(C<<11&4294967295|C>>>21),C=x+(k^R^A)+D[15]+530742520&4294967295,x=k+(C<<16&4294967295|C>>>16),C=A+(x^k^R)+D[2]+3299628645&4294967295,A=x+(C<<23&4294967295|C>>>9),C=R+(x^(A|~k))+D[0]+4096336452&4294967295,R=A+(C<<6&4294967295|C>>>26),C=k+(A^(R|~x))+D[7]+1126891415&4294967295,k=R+(C<<10&4294967295|C>>>22),C=x+(R^(k|~A))+D[14]+2878612391&4294967295,x=k+(C<<15&4294967295|C>>>17),C=A+(k^(x|~R))+D[5]+4237533241&4294967295,A=x+(C<<21&4294967295|C>>>11),C=R+(x^(A|~k))+D[12]+1700485571&4294967295,R=A+(C<<6&4294967295|C>>>26),C=k+(A^(R|~x))+D[3]+2399980690&4294967295,k=R+(C<<10&4294967295|C>>>22),C=x+(R^(k|~A))+D[10]+4293915773&4294967295,x=k+(C<<15&4294967295|C>>>17),C=A+(k^(x|~R))+D[1]+2240044497&4294967295,A=x+(C<<21&4294967295|C>>>11),C=R+(x^(A|~k))+D[8]+1873313359&4294967295,R=A+(C<<6&4294967295|C>>>26),C=k+(A^(R|~x))+D[15]+4264355552&4294967295,k=R+(C<<10&4294967295|C>>>22),C=x+(R^(k|~A))+D[6]+2734768916&4294967295,x=k+(C<<15&4294967295|C>>>17),C=A+(k^(x|~R))+D[13]+1309151649&4294967295,A=x+(C<<21&4294967295|C>>>11),C=R+(x^(A|~k))+D[4]+4149444226&4294967295,R=A+(C<<6&4294967295|C>>>26),C=k+(A^(R|~x))+D[11]+3174756917&4294967295,k=R+(C<<10&4294967295|C>>>22),C=x+(R^(k|~A))+D[2]+718787259&4294967295,x=k+(C<<15&4294967295|C>>>17),C=A+(k^(x|~R))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+x&4294967295,V.g[3]=V.g[3]+k&4294967295}o.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var A=R-this.blockSize,D=this.B,x=this.h,k=0;k<R;){if(x==0)for(;k<=A;)s(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<R;)if(D[x++]=V.charCodeAt(k++),x==this.blockSize){s(this,D),x=0;break}}else for(;k<R;)if(D[x++]=V[k++],x==this.blockSize){s(this,D),x=0;break}}this.h=x,this.o+=R},o.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var A=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=A&255,A/=256;for(this.u(V),V=Array(16),R=A=0;4>R;++R)for(var D=0;32>D;D+=8)V[A++]=this.g[R]>>>D&255;return V};function l(V,R){var A=h;return Object.prototype.hasOwnProperty.call(A,V)?A[V]:A[V]=R(V)}function f(V,R){this.h=R;for(var A=[],D=!0,x=V.length-1;0<=x;x--){var k=V[x]|0;D&&k==R||(A[x]=k,D=!1)}this.g=A}var h={};function g(V){return-128<=V&&128>V?l(V,function(R){return new f([R|0],0>R?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return F(y(-V));for(var R=[],A=1,D=0;V>=A;D++)R[D]=V/A|0,A*=4294967296;return new f(R,0)}function _(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return F(_(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(R,8)),D=w,x=0;x<V.length;x+=8){var k=Math.min(8,V.length-x),C=parseInt(V.substring(x,x+k),R);8>k?(k=y(Math.pow(R,k)),D=D.j(k).add(y(C))):(D=D.j(A),D=D.add(y(C)))}return D}var w=g(0),T=g(1),I=g(16777216);r=f.prototype,r.m=function(){if(U(this))return-F(this).m();for(var V=0,R=1,A=0;A<this.g.length;A++){var D=this.i(A);V+=(0<=D?D:4294967296+D)*R,R*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(N(this))return"0";if(U(this))return"-"+F(this).toString(V);for(var R=y(Math.pow(V,6)),A=this,D="";;){var x=me(A,R).g;A=H(A,x.j(R));var k=((0<A.g.length?A.g[0]:A.h)>>>0).toString(V);if(A=x,N(A))return k+D;for(;6>k.length;)k="0"+k;D=k+D}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function N(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function U(V){return V.h==-1}r.l=function(V){return V=H(this,V),U(V)?-1:N(V)?0:1};function F(V){for(var R=V.g.length,A=[],D=0;D<R;D++)A[D]=~V.g[D];return new f(A,~V.h).add(T)}r.abs=function(){return U(this)?F(this):this},r.add=function(V){for(var R=Math.max(this.g.length,V.g.length),A=[],D=0,x=0;x<=R;x++){var k=D+(this.i(x)&65535)+(V.i(x)&65535),C=(k>>>16)+(this.i(x)>>>16)+(V.i(x)>>>16);D=C>>>16,k&=65535,C&=65535,A[x]=C<<16|k}return new f(A,A[A.length-1]&-2147483648?-1:0)};function H(V,R){return V.add(F(R))}r.j=function(V){if(N(this)||N(V))return w;if(U(this))return U(V)?F(this).j(F(V)):F(F(this).j(V));if(U(V))return F(this.j(F(V)));if(0>this.l(I)&&0>V.l(I))return y(this.m()*V.m());for(var R=this.g.length+V.g.length,A=[],D=0;D<2*R;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var x=0;x<V.g.length;x++){var k=this.i(D)>>>16,C=this.i(D)&65535,le=V.i(x)>>>16,te=V.i(x)&65535;A[2*D+2*x]+=C*te,ne(A,2*D+2*x),A[2*D+2*x+1]+=k*te,ne(A,2*D+2*x+1),A[2*D+2*x+1]+=C*le,ne(A,2*D+2*x+1),A[2*D+2*x+2]+=k*le,ne(A,2*D+2*x+2)}for(D=0;D<R;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=R;D<2*R;D++)A[D]=0;return new f(A,0)};function ne(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function ie(V,R){this.g=V,this.h=R}function me(V,R){if(N(R))throw Error("division by zero");if(N(V))return new ie(w,w);if(U(V))return R=me(F(V),R),new ie(F(R.g),F(R.h));if(U(R))return R=me(V,F(R)),new ie(F(R.g),R.h);if(30<V.g.length){if(U(V)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var A=T,D=R;0>=D.l(V);)A=z(A),D=z(D);var x=de(A,1),k=de(D,1);for(D=de(D,2),A=de(A,2);!N(D);){var C=k.add(D);0>=C.l(V)&&(x=x.add(A),k=C),D=de(D,1),A=de(A,1)}return R=H(V,x.j(R)),new ie(x,R)}for(x=w;0<=V.l(R);){for(A=Math.max(1,Math.floor(V.m()/R.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),k=y(A),C=k.j(R);U(C)||0<C.l(V);)A-=D,k=y(A),C=k.j(R);N(k)&&(k=T),x=x.add(k),V=H(V,C)}return new ie(x,V)}r.A=function(V){return me(this,V).h},r.and=function(V){for(var R=Math.max(this.g.length,V.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)&V.i(D);return new f(A,this.h&V.h)},r.or=function(V){for(var R=Math.max(this.g.length,V.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)|V.i(D);return new f(A,this.h|V.h)},r.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)^V.i(D);return new f(A,this.h^V.h)};function z(V){for(var R=V.g.length+1,A=[],D=0;D<R;D++)A[D]=V.i(D)<<1|V.i(D-1)>>>31;return new f(A,V.h)}function de(V,R){var A=R>>5;R%=32;for(var D=V.g.length-A,x=[],k=0;k<D;k++)x[k]=0<R?V.i(k+A)>>>R|V.i(k+A+1)<<32-R:V.i(k+A);return new f(x,V.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Oy=o,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=_,Gi=f}).apply(typeof mg<"u"?mg:typeof self<"u"?self:typeof window<"u"?window:{});var uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var My,Ra,by,vu,sh,Fy,Uy,zy;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof uu=="object"&&uu];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var o=n(this);function s(u,p){if(p)e:{var v=o;u=u.split(".");for(var S=0;S<u.length-1;S++){var B=u[S];if(!(B in v))break e;v=v[B]}u=u[u.length-1],S=v[u],p=p(S),p!=S&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var v=0,S=!1,B={next:function(){if(!S&&v<u.length){var Y=v++;return{value:p(Y,u[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(u){return u||function(){return l(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},h=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function _(u,p,v){return u.call.apply(u.bind,arguments)}function w(u,p,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),u.apply(p,B)}}return function(){return u.apply(p,arguments)}}function T(u,p,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function I(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function N(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,B,Y){for(var pe=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)pe[ct-2]=arguments[ct];return p.prototype[B].apply(S,pe)}}function U(u){const p=u.length;if(0<p){const v=Array(p);for(let S=0;S<p;S++)v[S]=u[S];return v}return[]}function F(u,p){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const B=u.length||0,Y=S.length||0;u.length=B+Y;for(let pe=0;pe<Y;pe++)u[B+pe]=S[pe]}else u.push(S)}}class H{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ne(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function me(u){return me[" "](u),u}me[" "]=function(){};var z=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function de(u,p,v){for(const S in u)p.call(v,u[S],S,u)}function V(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function R(u){const p={};for(const v in u)p[v]=u[v];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,p){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)u[v]=S[v];for(let Y=0;Y<A.length;Y++)v=A[Y],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function x(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function k(u){h.setTimeout(()=>{throw u},0)}function C(){var u=fe;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class le{constructor(){this.h=this.g=null}add(p,v){const S=te.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new H(()=>new xe,u=>u.reset());class xe{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let q,G=!1,fe=new le,oe=()=>{const u=h.Promise.resolve(void 0);q=()=>{u.then(M)}};var M=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){k(v)}var p=te;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}G=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,p),h.removeEventListener("test",v,p)}catch{}return u}();function Me(u,p){if(ye.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(z){e:{try{me(p.nodeName);var B=!0;break e}catch{}B=!1}B||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:$e[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Me.aa.h.call(this)}}N(Me,ye);var $e={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),tt=0;function je(u,p,v,S,B){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=B,this.key=++tt,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Fn(u){this.src=u,this.g={},this.h=0}Fn.prototype.add=function(u,p,v,S,B){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var pe=tn(u,p,S,B);return-1<pe?(p=u[pe],v||(p.fa=!1)):(p=new je(p,this.src,Y,!!S,B),p.fa=v,u.push(p)),p};function di(u,p){var v=p.type;if(v in u.g){var S=u.g[v],B=Array.prototype.indexOf.call(S,p,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(S,B,1),Y&&(dt(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function tn(u,p,v,S){for(var B=0;B<u.length;++B){var Y=u[B];if(!Y.da&&Y.listener==p&&Y.capture==!!v&&Y.ha==S)return B}return-1}var Br="closure_lm_"+(1e6*Math.random()|0),pi={};function mi(u,p,v,S,B){if(Array.isArray(p)){for(var Y=0;Y<p.length;Y++)mi(u,p[Y],v,S,B);return null}return v=yn(v),u&&u[We]?u.K(p,v,y(S)?!!S.capture:!1,B):io(u,p,v,!1,S,B)}function io(u,p,v,S,B,Y){if(!p)throw Error("Invalid event type");var pe=y(B)?!!B.capture:!!B,ct=$r(u);if(ct||(u[Br]=ct=new Fn(u)),v=ct.add(p,v,S,pe,Y),v.proxy)return v;if(S=Uo(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)Le||(B=pe),B===void 0&&(B=!1),u.addEventListener(p.toString(),S,B);else if(u.attachEvent)u.attachEvent(Ht(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Uo(){function u(v){return p.call(u.src,u.listener,v)}const p=Xn;return u}function gi(u,p,v,S,B){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)gi(u,p[Y],v,S,B);else S=y(S)?!!S.capture:!!S,v=yn(v),u&&u[We]?(u=u.i,p=String(p).toString(),p in u.g&&(Y=u.g[p],v=tn(Y,v,S,B),-1<v&&(dt(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete u.g[p],u.h--)))):u&&(u=$r(u))&&(p=u.g[p.toString()],u=-1,p&&(u=tn(p,v,S,B)),(v=-1<u?p[u]:null)&&Yn(v))}function Yn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[We])di(p.i,u);else{var v=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(v,S,u.capture):p.detachEvent?p.detachEvent(Ht(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=$r(p))?(di(v,u),v.h==0&&(v.src=null,p[Br]=null)):dt(u)}}}function Ht(u){return u in pi?pi[u]:pi[u]="on"+u}function Xn(u,p){if(u.da)u=!0;else{p=new Me(p,this);var v=u.listener,S=u.ha||u.src;u.fa&&Yn(u),u=v.call(S,p)}return u}function $r(u){return u=u[Br],u instanceof Fn?u:null}var Er="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(u){return typeof u=="function"?u:(u[Er]||(u[Er]=function(p){return u.handleEvent(p)}),u[Er])}function ut(){J.call(this),this.i=new Fn(this),this.M=this,this.F=null}N(ut,J),ut.prototype[We]=!0,ut.prototype.removeEventListener=function(u,p,v,S){gi(this,u,p,v,S)};function Rt(u,p){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new ye(p,u);else if(p instanceof ye)p.target=p.target||u;else{var B=p;p=new ye(S,u),D(p,B)}if(B=!0,v)for(var Y=v.length-1;0<=Y;Y--){var pe=p.g=v[Y];B=xn(pe,S,!0,p)&&B}if(pe=p.g=u,B=xn(pe,S,!0,p)&&B,B=xn(pe,S,!1,p)&&B,v)for(Y=0;Y<v.length;Y++)pe=p.g=v[Y],B=xn(pe,S,!1,p)&&B}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],S=0;S<v.length;S++)dt(v[S]);delete u.g[p],u.h--}}this.F=null},ut.prototype.K=function(u,p,v,S){return this.i.add(String(u),p,!1,v,S)},ut.prototype.L=function(u,p,v,S){return this.i.add(String(u),p,!0,v,S)};function xn(u,p,v,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var B=!0,Y=0;Y<p.length;++Y){var pe=p[Y];if(pe&&!pe.da&&pe.capture==v){var ct=pe.listener,Nt=pe.ha||pe.src;pe.fa&&di(u.i,pe),B=ct.call(Nt,S)!==!1&&B}}return B&&!S.defaultPrevented}function oo(u,p,v){if(typeof u=="function")v&&(u=T(u,v));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:h.setTimeout(u,p||0)}function qt(u){u.g=oo(()=>{u.g=null,u.i&&(u.i=!1,qt(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class wr extends J{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(u){J.call(this),this.h=u,this.g={}}N(Tr,J);var yi=[];function so(u){de(u.g,function(p,v){this.g.hasOwnProperty(v)&&Yn(p)},u),u.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),so(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vi=h.JSON.stringify,Sr=h.JSON.parse,_i=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Jn(){}Jn.prototype.h=null;function Ei(u){return u.h||(u.h=u.i())}function Hr(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){ye.call(this,"d")}N(kn,ye);function Zn(){ye.call(this,"c")}N(Zn,ye);var hn={},ao=null;function qr(){return ao=ao||new ut}hn.La="serverreachability";function O(u){ye.call(this,hn.La,u)}N(O,ye);function j(u){const p=qr();Rt(p,new O(p))}hn.STAT_EVENT="statevent";function Q(u,p){ye.call(this,hn.STAT_EVENT,u),this.stat=p}N(Q,ye);function Z(u){const p=qr();Rt(p,new Q(p,u))}hn.Ma="timingevent";function ge(u,p){ye.call(this,hn.Ma,u),this.size=p}N(ge,ye);function we(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},p)}function ke(){this.g=!0}ke.prototype.xa=function(){this.g=!1};function ve(u,p,v,S,B,Y){u.info(function(){if(u.g)if(Y)for(var pe="",ct=Y.split("&"),Nt=0;Nt<ct.length;Nt++){var Je=ct[Nt].split("=");if(1<Je.length){var Ft=Je[0];Je=Je[1];var xt=Ft.split("_");pe=2<=xt.length&&xt[1]=="type"?pe+(Ft+"="+Je+"&"):pe+(Ft+"=redacted&")}}else pe=null;else pe=Y;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+p+`
`+v+`
`+pe})}function Se(u,p,v,S,B,Y,pe){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+p+`
`+v+`
`+Y+" "+pe})}function he(u,p,v,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Be(u,v)+(S?" "+S:"")})}function Oe(u,p){u.info(function(){return"TIMEOUT: "+p})}ke.prototype.info=function(){};function Be(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var pe=1;pe<B.length;pe++)B[pe]=""}}}}return vi(v)}catch{return p}}var ot={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},It={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ke;function nt(){}N(nt,Jn),nt.prototype.g=function(){return new XMLHttpRequest},nt.prototype.i=function(){return{}},Ke=new nt;function st(u,p,v,S){this.j=u,this.i=p,this.l=v,this.R=S||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new er}function er(){this.i=null,this.g="",this.h=!1}var tr={},nn={};function Wt(u,p,v){u.L=1,u.v=Ri(Dn(p)),u.m=v,u.P=!0,Wr(u,null)}function Wr(u,p){u.F=Date.now(),at(u),u.A=Dn(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Ci(v.i,"t",S),u.C=0,v=u.j.J,u.h=new er,u.g=al(u.j,v?p:null,!u.m),0<u.O&&(u.M=new wr(T(u.Y,u,u.g),u.O)),p=u.U,v=u.g,S=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(yi[0]=B.toString()),B=yi);for(var Y=0;Y<B.length;Y++){var pe=mi(v,B[Y],S||p.handleEvent,!1,p.h||p);if(!pe)break;p.g[pe.key]=pe}p=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),j(),ve(u.i,u.u,u.A,u.l,u.R,u.m)}st.prototype.ca=function(u){u=u.target;const p=this.M;p&&wn(u)==3?p.j():this.Y(u)},st.prototype.Y=function(u){try{if(u==this.g)e:{const xt=wn(this.g);var p=this.g.Ba();const zn=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Hs(this.g)))){this.J||xt!=4||p==7||(p==8||0>=zn?j(3):j(2)),Xe(this);var v=this.g.Z();this.X=v;t:if(Rr(this)){var S=Hs(this.g);u="";var B=S.length,Y=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),pt(this);var pe="";break t}this.h.i=new h.TextDecoder}for(p=0;p<B;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(Y&&p==B-1)});S.length=0,this.h.g+=u,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=v==200,Se(this.i,this.u,this.A,this.l,this.R,xt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,Nt=this.g;if((ct=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(ct)){var Je=ct;break t}}Je=null}if(v=Je)he(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rr(this,v);else{this.o=!1,this.s=3,Z(12),Kt(this),pt(this);break e}}if(this.P){v=!0;let Vn;for(;!this.J&&this.C<pe.length;)if(Vn=nr(this,pe),Vn==nn){xt==4&&(this.s=4,Z(14),v=!1),he(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==tr){this.s=4,Z(15),he(this.i,this.l,pe,"[Invalid Chunk]"),v=!1;break}else he(this.i,this.l,Vn,null),rr(this,Vn);if(Rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||pe.length!=0||this.h.h||(this.s=1,Z(16),v=!1),this.o=this.o&&v,!v)he(this.i,this.l,pe,"[Invalid Chunked Response]"),Kt(this),pt(this);else if(0<pe.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Ws(Ft),Ft.M=!0,Z(11))}}else he(this.i,this.l,pe,null),rr(this,pe);xt==4&&Kt(this),this.o&&!this.J&&(xt==4?Xo(this.j,this):(this.o=!1,at(this)))}else Wo(this.g),v==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),Kt(this),pt(this)}}}catch{}finally{}};function Rr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function nr(u,p){var v=u.C,S=p.indexOf(`
`,v);return S==-1?nn:(v=Number(p.substring(v,S)),isNaN(v)?tr:(S+=1,S+v>p.length?nn:(p=p.slice(S,S+v),u.C=S+v,p)))}st.prototype.cancel=function(){this.J=!0,Kt(this)};function at(u){u.S=Date.now()+u.I,Kr(u,u.I)}function Kr(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=we(T(u.ba,u),p)}function Xe(u){u.B&&(h.clearTimeout(u.B),u.B=null)}st.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Oe(this.i,this.A),this.L!=2&&(j(),Z(17)),Kt(this),this.s=2,pt(this)):Kr(this,this.S-u)};function pt(u){u.j.G==0||u.J||Xo(u.j,u)}function Kt(u){Xe(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,so(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function rr(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||dn(v.h,u))){if(!u.K&&dn(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Yo(v),lr(v);else break e;Go(v),Z(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=we(T(v.Za,v),6e3));if(1>=zo(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Jr(v,11)}else if((u.K||v.g==u)&&Yo(v),!ne(p))for(B=v.Da.g.parse(p),p=0;p<B.length;p++){let Je=B[p];if(v.T=Je[0],Je=Je[1],v.G==2)if(Je[0]=="c"){v.K=Je[1],v.ia=Je[2];const Ft=Je[3];Ft!=null&&(v.la=Ft,v.j.info("VER="+v.la));const xt=Je[4];xt!=null&&(v.Aa=xt,v.j.info("SVER="+v.Aa));const zn=Je[5];zn!=null&&typeof zn=="number"&&0<zn&&(S=1.5*zn,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Vn=u.g;if(Vn){const po=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var Y=S.h;Y.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(zs(Y,Y.h),Y.h=null))}if(S.D){const Zo=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(S.ya=Zo,ft(S.I,S.D,Zo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var pe=u;if(S.qa=sl(S,S.J?S.ia:null,S.W),pe.K){Qa(S.h,pe);var ct=pe,Nt=S.L;Nt&&(ct.I=Nt),ct.B&&(Xe(ct),at(ct)),S.g=pe}else ho(S);0<v.i.length&&Pr(v)}else Je[0]!="stop"&&Je[0]!="close"||Jr(v,7);else v.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Jr(v,7):Gt(v):Je[0]!="noop"&&v.l&&v.l.ta(Je),v.v=0)}}j(4)}catch{}}var mt=class{constructor(u,p){this.g=u,this.map=p}};function _n(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zo(u){return u.h?1:u.g?u.g.size:0}function dn(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function zs(u,p){u.g?u.g.add(p):u.h=p}function Qa(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}_n.prototype.cancel=function(){if(this.i=Ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ga(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return U(u.i)}function jo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],v=u.length,S=0;S<v;S++)p.push(u[S]);return p}p=[],v=0;for(S in u)p[v++]=u[S];return p}function Bo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const S in u)p[v++]=S;return p}}}function wi(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=Bo(u),S=jo(u),B=S.length,Y=0;Y<B;Y++)p.call(void 0,S[Y],v&&v[Y],u)}var lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ic(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),B=null;if(0<=S){var Y=u[v].substring(0,S);B=u[v].substring(S+1)}else Y=u[v];p(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Qr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Qr){this.h=u.h,uo(this,u.j),this.o=u.o,this.g=u.g,Ti(this,u.s),this.l=u.l;var p=u.i,v=new Ir;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Si(this,v),this.m=u.m}else u&&(p=String(u).match(lo))?(this.h=!1,uo(this,p[1]||"",!0),this.o=Qe(p[2]||""),this.g=Qe(p[3]||"",!0),Ti(this,p[4]),this.l=Qe(p[5]||"",!0),Si(this,p[6]||"",!0),this.m=Qe(p[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}Qr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Ii(p,$o,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Ii(p,$o,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ii(v,v.charAt(0)=="/"?Ja:Xa,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ii(v,js)),u.join("")};function Dn(u){return new Qr(u)}function uo(u,p,v){u.j=v?Qe(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ti(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Si(u,p,v){p instanceof Ir?(u.i=p,Cr(u.i,u.h)):(v||(p=Ii(p,Za)),u.i=new Ir(p,u.h))}function ft(u,p,v){u.i.set(p,v)}function Ri(u){return ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Qe(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ii(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,Ya),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ya(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $o=/[#\/\?@]/g,Xa=/[#\?:]/g,Ja=/[#\?]/g,Za=/[#\?@]/g,js=/#/g;function Ir(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Qt(u){u.g||(u.g=new Map,u.h=0,u.i&&ic(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=Ir.prototype,r.add=function(u,p){Qt(this),this.i=null,u=Un(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function ir(u,p){Qt(u),p=Un(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function or(u,p){return Qt(u),p=Un(u,p),u.g.has(p)}r.forEach=function(u,p){Qt(this),this.g.forEach(function(v,S){v.forEach(function(B){u.call(p,B,S,this)},this)},this)},r.na=function(){Qt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let S=0;S<p.length;S++){const B=u[S];for(let Y=0;Y<B.length;Y++)v.push(p[S])}return v},r.V=function(u){Qt(this);let p=[];if(typeof u=="string")or(this,u)&&(p=p.concat(this.g.get(Un(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},r.set=function(u,p){return Qt(this),this.i=null,u=Un(this,u),or(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Ci(u,p,v){ir(u,p),0<v.length&&(u.i=null,u.g.set(Un(u,p),U(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var S=p[v];const Y=encodeURIComponent(String(S)),pe=this.V(S);for(S=0;S<pe.length;S++){var B=Y;pe[S]!==""&&(B+="="+encodeURIComponent(String(pe[S]))),u.push(B)}}return this.i=u.join("&")};function Un(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Cr(u,p){p&&!u.j&&(Qt(u),u.i=null,u.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(ir(this,S),Ci(this,B,v))},u)),u.j=p}function oc(u,p){const v=new ke;if(h.Image){const S=new Image;S.onload=I(En,v,"TestLoadImage: loaded",!0,p,S),S.onerror=I(En,v,"TestLoadImage: error",!1,p,S),S.onabort=I(En,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=I(En,v,"TestLoadImage: timeout",!1,p,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function el(u,p){const v=new ke,S=new AbortController,B=setTimeout(()=>{S.abort(),En(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(Y=>{clearTimeout(B),Y.ok?En(v,"TestPingServer: ok",!0,p):En(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(B),En(v,"TestPingServer: error",!1,p)})}function En(u,p,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function sc(){this.g=new _i}function tl(u,p,v){const S=v||"";try{wi(u,function(B,Y){let pe=B;y(B)&&(pe=vi(B)),p.push(S+Y+"="+encodeURIComponent(pe))})}catch(B){throw p.push(S+"type="+encodeURIComponent("_badmap")),B}}function Gr(u){this.l=u.Ub||null,this.j=u.eb||!1}N(Gr,Jn),Gr.prototype.g=function(){return new co(this.l,this.j)},Gr.prototype.i=function(u){return function(){return u}}({});function co(u,p){ut.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(co,ut),r=co.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,ar(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||h).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?sr(this):ar(this),this.readyState==3&&nl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,sr(this))},r.Qa=function(u){this.g&&(this.response=u,sr(this))},r.ga=function(){this.g&&sr(this)};function sr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ar(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yr(u){let p="";return de(u,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Ai(u,p,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Yr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ft(u,p,v))}function vt(u){ut.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(vt,ut);var ac=/^https?$/i,Bs=["POST","PUT"];r=vt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ke.g(),this.v=this.o?Ei(this.o):Ei(Ke),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(Y){fo(this,Y);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())v.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Bs,p,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,pe]of v)this.g.setRequestHeader(Y,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qo(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){fo(this,Y)}};function fo(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Ho(u),Nn(u)}function Ho(u){u.A||(u.A=!0,Rt(u,"complete"),Rt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Rt(this,"complete"),Rt(this,"abort"),Nn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),vt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?$s(this):this.bb())},r.bb=function(){$s(this)};function $s(u){if(u.h&&typeof f<"u"&&(!u.v[1]||wn(u)!=4||u.Z()!=2)){if(u.u&&wn(u)==4)oo(u.Ea,0,u);else if(Rt(u,"readystatechange"),wn(u)==4){u.h=!1;try{const pe=u.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var S;if(S=pe===0){var B=String(u.D).match(lo)[1]||null;!B&&h.self&&h.self.location&&(B=h.self.location.protocol.slice(0,-1)),S=!ac.test(B?B.toLowerCase():"")}v=S}if(v)Rt(u,"complete"),Rt(u,"success");else{u.m=6;try{var Y=2<wn(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",Ho(u)}}finally{Nn(u)}}}}function Nn(u,p){if(u.g){qo(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Rt(u,"ready");try{v.onreadystatechange=S}catch{}}}function qo(u){u.I&&(h.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function wn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Sr(p)}};function Hs(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wo(u){const p={};u=(u.g&&2<=wn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(ne(u[S]))continue;var v=x(u[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=p[B]||[];p[B]=Y,Y.push(v)}V(p,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ar(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function qs(u){this.Aa=0,this.i=[],this.j=new ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ar("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ar("baseRetryDelayMs",5e3,u),this.cb=Ar("retryDelaySeedMs",1e4,u),this.Wa=Ar("forwardChannelMaxRetries",2,u),this.wa=Ar("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _n(u&&u.concurrentRequestLimit),this.Da=new sc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=qs.prototype,r.la=8,r.G=1,r.connect=function(u,p,v,S){Z(0),this.W=u,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=sl(this,null,this.W),Pr(this)};function Gt(u){if(Ko(u),u.G==3){var p=u.U++,v=Dn(u.I);if(ft(v,"SID",u.K),ft(v,"RID",p),ft(v,"TYPE","terminate"),Xr(u,v),p=new st(u,u.j,p),p.L=2,p.v=Ri(Dn(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=p.v,v=!0),v||(p.g=al(p.j,null),p.g.ea(p.v)),p.F=Date.now(),at(p)}ol(u)}function lr(u){u.g&&(Ws(u),u.g.cancel(),u.g=null)}function Ko(u){lr(u),u.u&&(h.clearTimeout(u.u),u.u=null),Yo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Pr(u){if(!rn(u.h)&&!u.s){u.s=!0;var p=u.Ga;q||oe(),G||(q(),G=!0),fe.add(p,u),u.B=0}}function lc(u,p){return zo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=we(T(u.Ga,u,p),il(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new st(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=R(Y),D(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Pi(this,B,p),v=Dn(this.I),ft(v,"RID",u),ft(v,"CVER",22),this.D&&ft(v,"X-HTTP-Session-Id",this.D),Xr(this,v),Y&&(this.O?p="headers="+encodeURIComponent(String(Yr(Y)))+"&"+p:this.m&&Ai(v,this.m,Y)),zs(this.h,B),this.Ua&&ft(v,"TYPE","init"),this.P?(ft(v,"$req",p),ft(v,"SID","null"),B.T=!0,Wt(B,v,null)):Wt(B,v,p),this.G=2}}else this.G==3&&(u?Qo(this,u):this.i.length==0||rn(this.h)||Qo(this))};function Qo(u,p){var v;p?v=p.l:v=u.U++;const S=Dn(u.I);ft(S,"SID",u.K),ft(S,"RID",v),ft(S,"AID",u.T),Xr(u,S),u.m&&u.o&&Ai(S,u.m,u.o),v=new st(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Pi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),zs(u.h,v),Wt(v,S,p)}function Xr(u,p){u.H&&de(u.H,function(v,S){ft(p,S,v)}),u.l&&wi({},function(v,S){ft(p,S,v)})}function Pi(u,p,v){v=Math.min(u.i.length,v);var S=u.l?T(u.l.Na,u.l,u):null;e:{var B=u.i;let Y=-1;for(;;){const pe=["count="+v];Y==-1?0<v?(Y=B[0].g,pe.push("ofs="+Y)):Y=0:pe.push("ofs="+Y);let ct=!0;for(let Nt=0;Nt<v;Nt++){let Je=B[Nt].g;const Ft=B[Nt].map;if(Je-=Y,0>Je)Y=Math.max(0,B[Nt].g-100),ct=!1;else try{tl(Ft,pe,"req"+Je+"_")}catch{S&&S(Ft)}}if(ct){S=pe.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,S}function ho(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;q||oe(),G||(q(),G=!0),fe.add(p,u),u.v=0}}function Go(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=we(T(u.Fa,u),il(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,rl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=we(T(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),lr(this),rl(this))};function Ws(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function rl(u){u.g=new st(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Dn(u.qa);ft(p,"RID","rpc"),ft(p,"SID",u.K),ft(p,"AID",u.T),ft(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&ft(p,"TO",u.ja),ft(p,"TYPE","xmlhttp"),Xr(u,p),u.m&&u.o&&Ai(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ri(Dn(p)),v.m=null,v.P=!0,Wr(v,u)}r.Za=function(){this.C!=null&&(this.C=null,lr(this),Go(this),Z(19))};function Yo(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Xo(u,p){var v=null;if(u.g==p){Yo(u),Ws(u),u.g=null;var S=2}else if(dn(u.h,p))v=p.D,Qa(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var B=u.B;S=qr(),Rt(S,new ge(S,v)),Pr(u)}else ho(u);else if(B=p.s,B==3||B==0&&0<p.X||!(S==1&&lc(u,p)||S==2&&Go(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),B){case 1:Jr(u,5);break;case 4:Jr(u,10);break;case 3:Jr(u,6);break;default:Jr(u,2)}}}function il(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function Jr(u,p){if(u.j.info("Error code "+p),p==2){var v=T(u.fb,u),S=u.Xa;const B=!S;S=new Qr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||uo(S,"https"),Ri(S),B?oc(S.toString(),v):el(S.toString(),v)}else Z(2);u.G=0,u.l&&u.l.sa(p),ol(u),Ko(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function ol(u){if(u.G=0,u.ka=[],u.l){const p=Ga(u.h);(p.length!=0||u.i.length!=0)&&(F(u.ka,p),F(u.ka,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.ra()}}function sl(u,p,v){var S=v instanceof Qr?Dn(v):new Qr(v);if(S.g!="")p&&(S.g=p+"."+S.g),Ti(S,S.s);else{var B=h.location;S=B.protocol,p=p?p+"."+B.hostname:B.hostname,B=+B.port;var Y=new Qr(null);S&&uo(Y,S),p&&(Y.g=p),B&&Ti(Y,B),v&&(Y.l=v),S=Y}return v=u.D,p=u.ya,v&&p&&ft(S,v,p),ft(S,"VER",u.la),Xr(u,S),S}function al(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new vt(new Gr({eb:v})):new vt(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ks(){}r=Ks.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Jo(){}Jo.prototype.g=function(u,p){return new pn(u,p)};function pn(u,p){ut.call(this),this.g=new qs(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!ne(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ne(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new xr(this)}N(pn,ut),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Gt(this.g)},pn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=vi(u),u=v);p.i.push(new mt(p.Ya++,u)),p.G==3&&Pr(p)},pn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,pn.aa.N.call(this)};function ll(u){kn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}N(ll,kn);function ul(){Zn.call(this),this.status=1}N(ul,Zn);function xr(u){this.g=u}N(xr,Ks),xr.prototype.ua=function(){Rt(this.g,"a")},xr.prototype.ta=function(u){Rt(this.g,new ll(u))},xr.prototype.sa=function(u){Rt(this.g,new ul)},xr.prototype.ra=function(){Rt(this.g,"b")},Jo.prototype.createWebChannel=Jo.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,zy=function(){return new Jo},Uy=function(){return qr()},Fy=hn,sh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,vu=ot,It.COMPLETE="complete",by=It,Hr.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Ra=Hr,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,My=vt}).apply(typeof uu<"u"?uu:typeof self<"u"?self:typeof window<"u"?window:{});const gg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new xy("@firebase/firestore");function Ts(){return No.logLevel}function Ee(r,...e){if(No.logLevel<=et.DEBUG){const n=e.map(Oh);No.debug(`Firestore (${Ms}): ${r}`,...n)}}function ui(r,...e){if(No.logLevel<=et.ERROR){const n=e.map(Oh);No.error(`Firestore (${Ms}): ${r}`,...n)}}function Ps(r,...e){if(No.logLevel<=et.WARN){const n=e.map(Oh);No.warn(`Firestore (${Ms}): ${r}`,...n)}}function Oh(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(r="Unexpected state"){const e=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: `+r;throw ui(e),new Error(e)}function lt(r,e){r||Fe()}function ze(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class fS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hS{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0);let o=this.i;const s=g=>this.i!==o?(o=this.i,n(g)):Promise.resolve();let l=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yi,e.enqueueRetryable(()=>s(this.currentUser))};const f=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await s(this.currentUser)})},h=g=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>h(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?h(g):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(lt(typeof o.accessToken=="string"),new jy(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new cn(e)}}class dS{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class pS{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new dS(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){lt(this.o===void 0);const o=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.R;return this.R=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const s=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(lt(typeof n.token=="string"),this.R=n.token,new mS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let o=0;o<r;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const s=yS(40);for(let l=0;l<s.length;++l)o.length<20&&s[l]<n&&(o+=e.charAt(s[l]%e.length))}return o}}function Ge(r,e){return r<e?-1:r>e?1:0}function xs(r,e,n){return r.length===e.length&&r.every((o,s)=>n(o,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Mt(n,o)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Mt(0,0))}static max(){return new Ue(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,o){n===void 0?n=0:n>e.length&&Fe(),o===void 0?o=e.length-n:o>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let s=0;s<o;s++){const l=Or.compareSegments(e.get(s),n.get(s));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const o=Or.isNumericId(e),s=Or.isNumericId(n);return o&&!s?-1:!o&&s?1:o&&s?Or.extractNumericId(e).compare(Or.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class Et extends Or{construct(e,n,o){return new Et(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Pe(ae.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(s=>s.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const vS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Or{construct(e,n,o){return new Zt(e,n,o)}static isValidIdentifier(e){return vS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let o="",s=0;const l=()=>{if(o.length===0)throw new Pe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new Pe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[s+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Pe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=g,s+=2}else h==="`"?(f=!f,s++):h!=="."||f?(o+=h,s++):(l(),s++)}if(l(),f)throw new Pe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Et.fromString(e))}static fromName(e){return new Ve(Et.fromString(e).popFirst(5))}static empty(){return new Ve(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Et(e.slice()))}}function _S(r,e){const n=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,s=Ue.fromTimestamp(o===1e9?new Mt(n+1,0):new Mt(n,o));return new Zi(s,Ve.empty(),e)}function ES(r){return new Zi(r.readTime,r.key,-1)}class Zi{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Zi(Ue.min(),Ve.empty(),-1)}static max(){return new Zi(Ue.max(),Ve.empty(),-1)}}function wS(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(r.documentKey,e.documentKey),n!==0?n:Ge(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==TS)throw r;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((o,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,o)=>{n(e)})}static reject(e){return new ee((n,o)=>{o(e)})}static waitFor(e){return new ee((n,o)=>{let s=0,l=0,f=!1;e.forEach(h=>{++s,h.next(()=>{++l,f&&l===s&&n()},g=>o(g))}),f=!0,l===s&&n()})}static or(e){let n=ee.resolve(!1);for(const o of e)n=n.next(s=>s?ee.resolve(s):o());return n}static forEach(e,n){const o=[];return e.forEach((s,l)=>{o.push(n.call(this,s,l))}),this.waitFor(o)}static mapArray(e,n){return new ee((o,s)=>{const l=e.length,f=new Array(l);let h=0;for(let g=0;g<l;g++){const y=g;n(e[y]).next(_=>{f[y]=_,++h,h===l&&o(f)},_=>s(_))}})}static doWhile(e,n){return new ee((o,s)=>{const l=()=>{e()===!0?n().next(()=>{l()},s):o()};l()})}}function RS(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ie(o),this.se=o=>n.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Hu.oe=-1;function qu(r){return r==null}function ku(r){return r===0&&1/r==-1/0}function IS(r){return typeof r=="number"&&Number.isInteger(r)&&!ku(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=yg(e)),e=AS(r.get(n),e);return yg(e)}function AS(r,e){let n=e;const o=r.length;for(let s=0;s<o;s++){const l=r.charAt(s);switch(l){case"\0":n+="";break;case"":n+="";break;default:n+=l}}return n}function yg(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Oo(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function $y(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const s=this.comparator(e,o.key);if(s===0)return n+o.left.size;s<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cu(this.root,e,this.comparator,!0)}}class cu{constructor(e,n,o,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,o,s,l){this.key=e,this.value=n,this.color=o??Jt.RED,this.left=s??Jt.EMPTY,this.right=l??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,s,l){return new Jt(e??this.key,n??this.value,o??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let s=this;const l=o(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,n,o),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,o)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Jt.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,n,o,s,l){return this}insert(e,n,o){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const s=o.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let o;for(o=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _g(this.data.getIterator())}getIteratorFrom(e){return new _g(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=o.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class _g{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new yr([])}unionWith(e){let n=new bt(Zt.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xs(this.fields,e.fields,(n,o)=>n.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Hy("Invalid base64 string: "+l):l}}(e);return new en(n)}static fromUint8Array(e){const n=function(s){let l="";for(let f=0;f<s.length;++f)l+=String.fromCharCode(s[f]);return l}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let s=0;s<n.length;s++)o[s]=n.charCodeAt(s);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const PS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eo(r){if(lt(!!r),typeof r=="string"){let e=0;const n=PS.exec(r);if(lt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Pt(r.seconds),nanos:Pt(r.nanos)}}function Pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function to(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wu(r){const e=r.mapValue.fields.__previous_value__;return Mh(e)?Wu(e):e}function Oa(r){const e=eo(r.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,o,s,l,f,h,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=s,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=h,this.longPollingOptions=g,this.useFetchStreams=y}}class Ma{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ma("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ma&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function no(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mh(r)?4:DS(r)?9007199254740991:kS(r)?10:11:Fe()}function Ur(r,e){if(r===e)return!0;const n=no(r);if(n!==no(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Oa(r).isEqual(Oa(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const f=eo(s.timestampValue),h=eo(l.timestampValue);return f.seconds===h.seconds&&f.nanos===h.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,l){return to(s.bytesValue).isEqual(to(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,l){return Pt(s.geoPointValue.latitude)===Pt(l.geoPointValue.latitude)&&Pt(s.geoPointValue.longitude)===Pt(l.geoPointValue.longitude)}(r,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Pt(s.integerValue)===Pt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const f=Pt(s.doubleValue),h=Pt(l.doubleValue);return f===h?ku(f)===ku(h):isNaN(f)&&isNaN(h)}return!1}(r,e);case 9:return xs(r.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(s,l){const f=s.mapValue.fields||{},h=l.mapValue.fields||{};if(vg(f)!==vg(h))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(h[g]===void 0||!Ur(f[g],h[g])))return!1;return!0}(r,e);default:return Fe()}}function ba(r,e){return(r.values||[]).find(n=>Ur(n,e))!==void 0}function ks(r,e){if(r===e)return 0;const n=no(r),o=no(e);if(n!==o)return Ge(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(r.booleanValue,e.booleanValue);case 2:return function(l,f){const h=Pt(l.integerValue||l.doubleValue),g=Pt(f.integerValue||f.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(r,e);case 3:return Eg(r.timestampValue,e.timestampValue);case 4:return Eg(Oa(r),Oa(e));case 5:return Ge(r.stringValue,e.stringValue);case 6:return function(l,f){const h=to(l),g=to(f);return h.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(l,f){const h=l.split("/"),g=f.split("/");for(let y=0;y<h.length&&y<g.length;y++){const _=Ge(h[y],g[y]);if(_!==0)return _}return Ge(h.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,f){const h=Ge(Pt(l.latitude),Pt(f.latitude));return h!==0?h:Ge(Pt(l.longitude),Pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return wg(r.arrayValue,e.arrayValue);case 10:return function(l,f){var h,g,y,_;const w=l.fields||{},T=f.fields||{},I=(h=w.value)===null||h===void 0?void 0:h.arrayValue,N=(g=T.value)===null||g===void 0?void 0:g.arrayValue,U=Ge(((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return U!==0?U:wg(I,N)}(r.mapValue,e.mapValue);case 11:return function(l,f){if(l===fu.mapValue&&f===fu.mapValue)return 0;if(l===fu.mapValue)return 1;if(f===fu.mapValue)return-1;const h=l.fields||{},g=Object.keys(h),y=f.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let w=0;w<g.length&&w<_.length;++w){const T=Ge(g[w],_[w]);if(T!==0)return T;const I=ks(h[g[w]],y[_[w]]);if(I!==0)return I}return Ge(g.length,_.length)}(r.mapValue,e.mapValue);default:throw Fe()}}function Eg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ge(r,e);const n=eo(r),o=eo(e),s=Ge(n.seconds,o.seconds);return s!==0?s:Ge(n.nanos,o.nanos)}function wg(r,e){const n=r.values||[],o=e.values||[];for(let s=0;s<n.length&&s<o.length;++s){const l=ks(n[s],o[s]);if(l)return l}return Ge(n.length,o.length)}function Ds(r){return ah(r)}function ah(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const o=eo(n);return`time(${o.seconds},${o.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return to(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ve.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let o="[",s=!0;for(const l of n.values||[])s?s=!1:o+=",",o+=ah(l);return o+"]"}(r.arrayValue):"mapValue"in r?function(n){const o=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const f of o)l?l=!1:s+=",",s+=`${f}:${ah(n.fields[f])}`;return s+"}"}(r.mapValue):Fe()}function _u(r){switch(no(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wu(r);return e?16+_u(e):16;case 5:return 2*r.stringValue.length;case 6:return to(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((s,l)=>s+_u(l),0)}(r.arrayValue);case 10:case 11:return function(o){let s=0;return Oo(o.fields,(l,f)=>{s+=l.length+_u(f)}),s}(r.mapValue);default:throw Fe()}}function lh(r){return!!r&&"integerValue"in r}function bh(r){return!!r&&"arrayValue"in r}function Tg(r){return!!r&&"nullValue"in r}function Sg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Eu(r){return!!r&&"mapValue"in r}function kS(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Aa(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Oo(r.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Aa(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Aa(r.arrayValue.values[n]);return e}return Object.assign({},r)}function DS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Eu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Aa(n)}setAll(e){let n=Zt.emptyPath(),o={},s=[];e.forEach((f,h)=>{if(!n.isImmediateParentOf(h)){const g=this.getFieldsMap(n);this.applyChanges(g,o,s),o={},s=[],n=h.popLast()}f?o[h.lastSegment()]=Aa(f):s.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,s)}delete(e){const n=this.field(e.popLast());Eu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let s=n.mapValue.fields[e.get(o)];Eu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,o){Oo(n,(s,l)=>e[s]=l);for(const s of o)delete e[s]}clone(){return new Gn(Aa(this.value))}}function qy(r){const e=[];return Oo(r.fields,(n,o)=>{const s=new Zt([n]);if(Eu(o)){const l=qy(o.mapValue).fields;if(l.length===0)e.push(s);else for(const f of l)e.push(s.child(f))}else e.push(s)}),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,o,s,l,f,h){this.key=e,this.documentType=n,this.version=o,this.readTime=s,this.createTime=l,this.data=f,this.documentState=h}static newInvalidDocument(e){return new fn(e,0,Ue.min(),Ue.min(),Ue.min(),Gn.empty(),0)}static newFoundDocument(e,n,o,s){return new fn(e,1,n,Ue.min(),o,s,0)}static newNoDocument(e,n){return new fn(e,2,n,Ue.min(),Ue.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Ue.min(),Ue.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.position=e,this.inclusive=n}}function Rg(r,e,n){let o=0;for(let s=0;s<r.position.length;s++){const l=e[s],f=r.position[s];if(l.field.isKeyField()?o=Ve.comparator(Ve.fromName(f.referenceValue),n.key):o=ks(f,n.data.field(l.field)),l.dir==="desc"&&(o*=-1),o!==0)break}return o}function Ig(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ur(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function NS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{}class Ot extends Wy{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,o):new LS(e,n,o):n==="array-contains"?new bS(e,o):n==="in"?new FS(e,o):n==="not-in"?new US(e,o):n==="array-contains-any"?new zS(e,o):new Ot(e,n,o)}static createKeyFieldInFilter(e,n,o){return n==="in"?new OS(e,o):new MS(e,o)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ks(n,this.value)):n!==null&&no(this.value)===no(n)&&this.matchesComparison(ks(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends Wy{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new zr(e,n)}matches(e){return Ky(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ky(r){return r.op==="and"}function Qy(r){return VS(r)&&Ky(r)}function VS(r){for(const e of r.filters)if(e instanceof zr)return!1;return!0}function uh(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+Ds(r.value);if(Qy(r))return r.filters.map(e=>uh(e)).join(",");{const e=r.filters.map(n=>uh(n)).join(",");return`${r.op}(${e})`}}function Gy(r,e){return r instanceof Ot?function(o,s){return s instanceof Ot&&o.op===s.op&&o.field.isEqual(s.field)&&Ur(o.value,s.value)}(r,e):r instanceof zr?function(o,s){return s instanceof zr&&o.op===s.op&&o.filters.length===s.filters.length?o.filters.reduce((l,f,h)=>l&&Gy(f,s.filters[h]),!0):!1}(r,e):void Fe()}function Yy(r){return r instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Ds(n.value)}`}(r):r instanceof zr?function(n){return n.op.toString()+" {"+n.getFilters().map(Yy).join(" ,")+"}"}(r):"Filter"}class LS extends Ot{constructor(e,n,o){super(e,n,o),this.key=Ve.fromName(o.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class OS extends Ot{constructor(e,n){super(e,"in",n),this.keys=Xy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MS extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=Xy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Xy(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(o=>Ve.fromName(o.referenceValue))}class bS extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bh(n)&&ba(n.arrayValue,this.value)}}class FS extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ba(this.value.arrayValue,n)}}class US extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ba(this.value.arrayValue,n)}}class zS extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>ba(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n=null,o=[],s=[],l=null,f=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=s,this.limit=l,this.startAt=f,this.endAt=h,this.ue=null}}function Cg(r,e=null,n=[],o=[],s=null,l=null,f=null){return new jS(r,e,n,o,s,l,f)}function Fh(r){const e=ze(r);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>uh(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>function(l){return l.field.canonicalString()+l.dir}(o)).join(","),qu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Ds(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Ds(o)).join(",")),e.ue=n}return e.ue}function Uh(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!NS(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Gy(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ig(r.startAt,e.startAt)&&Ig(r.endAt,e.endAt)}function ch(r){return Ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n=null,o=[],s=[],l=null,f="F",h=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=s,this.limit=l,this.limitType=f,this.startAt=h,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BS(r,e,n,o,s,l,f,h){return new Ku(r,e,n,o,s,l,f,h)}function Jy(r){return new Ku(r)}function Ag(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $S(r){return r.collectionGroup!==null}function Pa(r){const e=ze(r);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let h=new bt(Zt.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(h=h.add(y.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Nu(l,o))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new Nu(Zt.keyField(),o))}return e.ce}function br(r){const e=ze(r);return e.le||(e.le=HS(e,Pa(r))),e.le}function HS(r,e){if(r.limitType==="F")return Cg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Nu(s.field,l)});const n=r.endAt?new Du(r.endAt.position,r.endAt.inclusive):null,o=r.startAt?new Du(r.startAt.position,r.startAt.inclusive):null;return Cg(r.path,r.collectionGroup,e,r.filters,r.limit,n,o)}}function fh(r,e,n){return new Ku(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Qu(r,e){return Uh(br(r),br(e))&&r.limitType===e.limitType}function Zy(r){return`${Fh(br(r))}|lt:${r.limitType}`}function Ss(r){return`Query(target=${function(n){let o=n.path.canonicalString();return n.collectionGroup!==null&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(s=>Yy(s)).join(", ")}]`),qu(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(s=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(s)).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(s=>Ds(s)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(s=>Ds(s)).join(",")),`Target(${o})`}(br(r))}; limitType=${r.limitType})`}function Gu(r,e){return e.isFoundDocument()&&function(o,s){const l=s.key.path;return o.collectionGroup!==null?s.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):Ve.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(r,e)&&function(o,s){for(const l of Pa(o))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(r,e)&&function(o,s){for(const l of o.filters)if(!l.matches(s))return!1;return!0}(r,e)&&function(o,s){return!(o.startAt&&!function(f,h,g){const y=Rg(f,h,g);return f.inclusive?y<=0:y<0}(o.startAt,Pa(o),s)||o.endAt&&!function(f,h,g){const y=Rg(f,h,g);return f.inclusive?y>=0:y>0}(o.endAt,Pa(o),s))}(r,e)}function qS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ev(r){return(e,n)=>{let o=!1;for(const s of Pa(r)){const l=WS(s,e,n);if(l!==0)return l;o=o||s.field.isKeyField()}return 0}}function WS(r,e,n){const o=r.field.isKeyField()?Ve.comparator(e.key,n.key):function(l,f,h){const g=f.data.field(l),y=h.data.field(l);return g!==null&&y!==null?ks(g,y):Fe()}(r.field,e,n);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o!==void 0){for(const[s,l]of o)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const o=this.mapKeyFn(e),s=this.inner[o];if(s===void 0)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return!1;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return o.length===1?delete this.inner[n]:o.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(n,o)=>{for(const[s,l]of o)e(s,l)})}isEmpty(){return $y(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new St(Ve.comparator);function ci(){return KS}const tv=new St(Ve.comparator);function Ia(...r){let e=tv;for(const n of r)e=e.insert(n.key,n);return e}function nv(r){let e=tv;return r.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Do(){return xa()}function rv(){return xa()}function xa(){return new Mo(r=>r.toString(),(r,e)=>r.isEqual(e))}const QS=new St(Ve.comparator),GS=new bt(Ve.comparator);function qe(...r){let e=GS;for(const n of r)e=e.add(n);return e}const YS=new bt(Ge);function XS(){return YS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ku(e)?"-0":e}}function iv(r){return{integerValue:""+r}}function JS(r,e){return IS(e)?iv(e):zh(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this._=void 0}}function ZS(r,e,n){return r instanceof Vu?function(s,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Mh(l)&&(l=Wu(l)),l&&(f.fields.__previous_value__=l),{mapValue:f}}(n,e):r instanceof Fa?sv(r,e):r instanceof Ua?av(r,e):function(s,l){const f=ov(s,l),h=Pg(f)+Pg(s.Pe);return lh(f)&&lh(s.Pe)?iv(h):zh(s.serializer,h)}(r,e)}function eR(r,e,n){return r instanceof Fa?sv(r,e):r instanceof Ua?av(r,e):n}function ov(r,e){return r instanceof Lu?function(o){return lh(o)||function(l){return!!l&&"doubleValue"in l}(o)}(e)?e:{integerValue:0}:null}class Vu extends Yu{}class Fa extends Yu{constructor(e){super(),this.elements=e}}function sv(r,e){const n=lv(e);for(const o of r.elements)n.some(s=>Ur(s,o))||n.push(o);return{arrayValue:{values:n}}}class Ua extends Yu{constructor(e){super(),this.elements=e}}function av(r,e){let n=lv(e);for(const o of r.elements)n=n.filter(s=>!Ur(s,o));return{arrayValue:{values:n}}}class Lu extends Yu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Pg(r){return Pt(r.integerValue||r.doubleValue)}function lv(r){return bh(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function tR(r,e){return r.field.isEqual(e.field)&&function(o,s){return o instanceof Fa&&s instanceof Fa||o instanceof Ua&&s instanceof Ua?xs(o.elements,s.elements,Ur):o instanceof Lu&&s instanceof Lu?Ur(o.Pe,s.Pe):o instanceof Vu&&s instanceof Vu}(r.transform,e.transform)}class nR{constructor(e,n){this.version=e,this.transformResults=n}}class ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Xu{}function uv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new fv(r.key,ai.none()):new Ha(r.key,r.data,ai.none());{const n=r.data,o=Gn.empty();let s=new bt(Zt.comparator);for(let l of e.fields)if(!s.has(l)){let f=n.field(l);f===null&&l.length>1&&(l=l.popLast(),f=n.field(l)),f===null?o.delete(l):o.set(l,f),s=s.add(l)}return new bo(r.key,o,new yr(s.toArray()),ai.none())}}function rR(r,e,n){r instanceof Ha?function(s,l,f){const h=s.value.clone(),g=kg(s.fieldTransforms,l,f.transformResults);h.setAll(g),l.convertToFoundDocument(f.version,h).setHasCommittedMutations()}(r,e,n):r instanceof bo?function(s,l,f){if(!wu(s.precondition,l))return void l.convertToUnknownDocument(f.version);const h=kg(s.fieldTransforms,l,f.transformResults),g=l.data;g.setAll(cv(s)),g.setAll(h),l.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(s,l,f){l.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ka(r,e,n,o){return r instanceof Ha?function(l,f,h,g){if(!wu(l.precondition,f))return h;const y=l.value.clone(),_=Dg(l.fieldTransforms,g,f);return y.setAll(_),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,o):r instanceof bo?function(l,f,h,g){if(!wu(l.precondition,f))return h;const y=Dg(l.fieldTransforms,g,f),_=f.data;return _.setAll(cv(l)),_.setAll(y),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(r,e,n,o):function(l,f,h){return wu(l.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):h}(r,e,n)}function iR(r,e){let n=null;for(const o of r.fieldTransforms){const s=e.data.field(o.field),l=ov(o.transform,s||null);l!=null&&(n===null&&(n=Gn.empty()),n.set(o.field,l))}return n||null}function xg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(o,s){return o===void 0&&s===void 0||!(!o||!s)&&xs(o,s,(l,f)=>tR(l,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ha extends Xu{constructor(e,n,o,s=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class bo extends Xu{constructor(e,n,o,s,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cv(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=r.data.field(n);e.set(n,o)}}),e}function kg(r,e,n){const o=new Map;lt(r.length===n.length);for(let s=0;s<n.length;s++){const l=r[s],f=l.transform,h=e.data.field(l.field);o.set(l.field,eR(f,h,n[s]))}return o}function Dg(r,e,n){const o=new Map;for(const s of r){const l=s.transform,f=n.data.field(s.field);o.set(s.field,ZS(l,f,e))}return o}class fv extends Xu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oR extends Xu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,o,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=s}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&rR(l,e,o[s])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=ka(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=ka(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=rv();return this.mutations.forEach(s=>{const l=e.get(s.key),f=l.overlayedDocument;let h=this.applyToLocalView(f,l.mutatedFields);h=n.has(s.key)?null:h;const g=uv(f,h);g!==null&&o.set(s.key,g),f.isValidDocument()||f.convertToNoDocument(Ue.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&xs(this.mutations,e.mutations,(n,o)=>xg(n,o))&&xs(this.baseMutations,e.baseMutations,(n,o)=>xg(n,o))}}class jh{constructor(e,n,o,s){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=s}static from(e,n,o){lt(e.mutations.length===o.length);let s=function(){return QS}();const l=e.mutations;for(let f=0;f<l.length;f++)s=s.insert(l[f].key,o[f].version);return new jh(e,n,o,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Ze;function uR(r){switch(r){default:return Fe();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function hv(r){if(r===void 0)return ui("GRPC error has no .code"),ae.UNKNOWN;switch(r){case Dt.OK:return ae.OK;case Dt.CANCELLED:return ae.CANCELLED;case Dt.UNKNOWN:return ae.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ae.INTERNAL;case Dt.UNAVAILABLE:return ae.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ae.NOT_FOUND;case Dt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Dt.ABORTED:return ae.ABORTED;case Dt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Dt.DATA_LOSS:return ae.DATA_LOSS;default:return Fe()}}(Ze=Dt||(Dt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new Gi([4294967295,4294967295],0);function Ng(r){const e=cR().encode(r),n=new Oy;return n.update(e),new Uint8Array(n.digest())}function Vg(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gi([n,o],0),new Gi([s,l],0)]}class Bh{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Ca(`Invalid padding: ${n}`);if(o<0)throw new Ca(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new Ca(`Invalid hash count: ${o}`);if(e.length===0&&n!==0)throw new Ca(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Gi.fromNumber(this.Te)}de(e,n,o){let s=e.add(n.multiply(Gi.fromNumber(o)));return s.compare(fR)===1&&(s=new Gi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Ng(e),[o,s]=Vg(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,s,l);if(!this.Ee(f))return!1}return!0}static create(e,n,o){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Bh(l,s,n);return o.forEach(h=>f.insert(h)),f}insert(e){if(this.Te===0)return;const n=Ng(e),[o,s]=Vg(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,s,l);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),o=e%8;this.bitmap[n]|=1<<o}}class Ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,o,s,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const s=new Map;return s.set(e,qa.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Ju(Ue.min(),s,new St(Ge),ci(),qe())}}class qa{constructor(e,n,o,s,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new qa(o,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,o,s){this.Re=e,this.removedTargetIds=n,this.key=o,this.Ve=s}}class dv{constructor(e,n){this.targetId=e,this.me=n}}class pv{constructor(e,n,o=en.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=s}}class Lg{constructor(){this.fe=0,this.ge=Og(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=qe(),n=qe(),o=qe();return this.ge.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:o=o.add(s);break;default:Fe()}}),new qa(this.pe,this.ye,e,n,o)}Ce(){this.we=!1,this.ge=Og()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,lt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hR{constructor(e){this.Be=e,this.Le=new Map,this.ke=ci(),this.qe=hu(),this.Qe=hu(),this.Ke=new St(Ge)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(n);break;case 3:this.je(n)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.De(e.resumeToken));break;default:Fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((o,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,o=e.me.count,s=this.Ye(n);if(s){const l=s.target;if(ch(l))if(o===0){const f=new Ve(l.path);this.We(n,f,fn.newNoDocument(f,Ue.min()))}else lt(o===1);else{const f=this.Ze(n);if(f!==o){const h=this.Xe(e),g=h?this.et(h,e,f):1;if(g!==0){this.He(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:s=0},hashCount:l=0}=n;let f,h;try{f=to(o).toUint8Array()}catch(g){if(g instanceof Hy)return Ps("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{h=new Bh(f,s,l)}catch(g){return Ps(g instanceof Ca?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return h.Te===0?null:h}et(e,n,o){return n.me.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Be.getRemoteKeysForTarget(n);let s=0;return o.forEach(l=>{const f=this.Be.nt(),h=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.We(n,l,null),s++)}),s}it(e){const n=new Map;this.Le.forEach((l,f)=>{const h=this.Ye(f);if(h){if(l.current&&ch(h.target)){const g=new Ve(h.target.path);this.st(g).has(f)||this.ot(f,g)||this.We(f,g,fn.newNoDocument(g,e))}l.be&&(n.set(f,l.ve()),l.Ce())}});let o=qe();this.Qe.forEach((l,f)=>{let h=!0;f.forEachWhile(g=>{const y=this.Ye(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(o=o.add(l))}),this.ke.forEach((l,f)=>f.setReadTime(e));const s=new Ju(e,n,this.Ke,this.ke,o);return this.ke=ci(),this.qe=hu(),this.Qe=hu(),this.Ke=new St(Ge),s}Ue(e,n){if(!this.je(e))return;const o=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,o),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),o&&(this.ke=this.ke.insert(n,o))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new Lg,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new bt(Ge),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new bt(Ge),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Lg),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function hu(){return new St(Ve.comparator)}function Og(){return new St(Ve.comparator)}const dR={asc:"ASCENDING",desc:"DESCENDING"},pR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mR={and:"AND",or:"OR"};class gR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hh(r,e){return r.useProto3Json||qu(e)?e:{value:e}}function Ou(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function yR(r,e){return Ou(r,e.toTimestamp())}function Fr(r){return lt(!!r),Ue.fromTimestamp(function(n){const o=eo(n);return new Mt(o.seconds,o.nanos)}(r))}function $h(r,e){return dh(r,e).canonicalString()}function dh(r,e){const n=function(s){return new Et(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?n:n.child(e)}function gv(r){const e=Et.fromString(r);return lt(wv(e)),e}function ph(r,e){return $h(r.databaseId,e.path)}function Kf(r,e){const n=gv(e);if(n.get(1)!==r.databaseId.projectId)throw new Pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ve(vv(n))}function yv(r,e){return $h(r.databaseId,e)}function vR(r){const e=gv(r);return e.length===4?Et.emptyPath():vv(e)}function mh(r){return new Et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vv(r){return lt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Mg(r,e,n){return{name:ph(r,e),fields:n.value.mapValue.fields}}function _R(r,e){let n;if("targetChange"in e){e.targetChange;const o=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(lt(_===void 0||typeof _=="string"),en.fromBase64String(_||"")):(lt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),en.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,h=f&&function(y){const _=y.code===void 0?ae.UNKNOWN:hv(y.code);return new Pe(_,y.message||"")}(f);n=new pv(o,s,l,h||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const s=Kf(r,o.document.name),l=Fr(o.document.updateTime),f=o.document.createTime?Fr(o.document.createTime):Ue.min(),h=new Gn({mapValue:{fields:o.document.fields}}),g=fn.newFoundDocument(s,l,f,h),y=o.targetIds||[],_=o.removedTargetIds||[];n=new Tu(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const s=Kf(r,o.document),l=o.readTime?Fr(o.readTime):Ue.min(),f=fn.newNoDocument(s,l),h=o.removedTargetIds||[];n=new Tu([],h,f.key,f)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const s=Kf(r,o.document),l=o.removedTargetIds||[];n=new Tu([],l,s,null)}else{if(!("filter"in e))return Fe();{e.filter;const o=e.filter;o.targetId;const{count:s=0,unchangedNames:l}=o,f=new lR(s,l),h=o.targetId;n=new dv(h,f)}}return n}function ER(r,e){let n;if(e instanceof Ha)n={update:Mg(r,e.key,e.value)};else if(e instanceof fv)n={delete:ph(r,e.key)};else if(e instanceof bo)n={update:Mg(r,e.key,e.data),updateMask:xR(e.fieldMask)};else{if(!(e instanceof oR))return Fe();n={verify:ph(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,f){const h=f.transform;if(h instanceof Vu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fa)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ua)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Lu)return{fieldPath:f.field.canonicalString(),increment:h.Pe};throw Fe()}(0,o))),e.precondition.isNone||(n.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:yR(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Fe()}(r,e.precondition)),n}function wR(r,e){return r&&r.length>0?(lt(e!==void 0),r.map(n=>function(s,l){let f=s.updateTime?Fr(s.updateTime):Fr(l);return f.isEqual(Ue.min())&&(f=Fr(l)),new nR(f,s.transformResults||[])}(n,e))):[]}function TR(r,e){return{documents:[yv(r,e.path)]}}function SR(r,e){const n={structuredQuery:{}},o=e.path;let s;e.collectionGroup!==null?(s=o,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=o.popLast(),n.structuredQuery.from=[{collectionId:o.lastSegment()}]),n.parent=yv(r,s);const l=function(y){if(y.length!==0)return Ev(zr.create(y,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const f=function(y){if(y.length!==0)return y.map(_=>function(T){return{field:Rs(T.field),direction:CR(T.dir)}}(_))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const h=hh(r,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:n,parent:s}}function RR(r){let e=vR(r.parent);const n=r.structuredQuery,o=n.from?n.from.length:0;let s=null;if(o>0){lt(o===1);const _=n.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=function(w){const T=_v(w);return T instanceof zr&&Qy(T)?T.getFilters():[T]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(T=>function(N){return new Nu(Is(N.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(T))}(n.orderBy));let h=null;n.limit&&(h=function(w){let T;return T=typeof w=="object"?w.value:w,qu(T)?null:T}(n.limit));let g=null;n.startAt&&(g=function(w){const T=!!w.before,I=w.values||[];return new Du(I,T)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const T=!w.before,I=w.values||[];return new Du(I,T)}(n.endAt)),BS(e,s,f,l,h,"F",g,y)}function IR(r,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _v(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Is(n.unaryFilter.field);return Ot.create(o,"==",{doubleValue:NaN});case"IS_NULL":const s=Is(n.unaryFilter.field);return Ot.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Is(n.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Is(n.unaryFilter.field);return Ot.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(r):r.fieldFilter!==void 0?function(n){return Ot.create(Is(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return zr.create(n.compositeFilter.filters.map(o=>_v(o)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Fe()}}(n.compositeFilter.op))}(r):Fe()}function CR(r){return dR[r]}function AR(r){return pR[r]}function PR(r){return mR[r]}function Rs(r){return{fieldPath:r.canonicalString()}}function Is(r){return Zt.fromServerFormat(r.fieldPath)}function Ev(r){return r instanceof Ot?function(n){if(n.op==="=="){if(Sg(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NAN"}};if(Tg(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sg(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NAN"}};if(Tg(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(n.field),op:AR(n.op),value:n.value}}}(r):r instanceof zr?function(n){const o=n.getFilters().map(s=>Ev(s));return o.length===1?o[0]:{compositeFilter:{op:PR(n.op),filters:o}}}(r):Fe()}function xR(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,o,s,l=Ue.min(),f=Ue.min(),h=en.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=h,this.expectedCount=g}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.ht=e}}function DR(r){const e=RR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.ln=new VR}addToCollectionParentIndex(e,n){return this.ln.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Zi.min())}updateCollectionGroup(e,n,o){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class VR{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),s=this.index[n]||new bt(Et.comparator),l=!s.has(o);return this.index[n]=s.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),s=this.index[n];return s&&s.has(o)}getEntries(e){return(this.index[e]||new bt(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ns(0)}static Qn(){return new Ns(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg([r,e],[n,o]){const s=Ge(r,n);return s===0?Ge(e,o):s}class LR{constructor(e){this.Gn=e,this.buffer=new bt(Fg),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();Fg(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OR{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fs(n)?Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await bs(n)}await this.Yn(3e5)})}}class MR{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Hu.oe);const o=new LR(n);return this.Zn.forEachTarget(e,s=>o.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>o.Hn(s))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.Zn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(bg)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bg):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let o,s,l,f,h,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,f=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(o=w,h=Date.now(),this.removeTargets(e,o,n))).next(w=>(l=w,g=Date.now(),this.removeOrphanedDocuments(e,o))).next(w=>(y=Date.now(),Ts()<=et.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${s} in `+(h-f)+`ms
	Removed ${l} targets in `+(g-h)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:w})))}}function bR(r,e){return new MR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.changes=new Mo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return o!==void 0?ee.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,o,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=s}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(o=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(o!==null&&ka(o.mutation,s,yr.empty(),Mt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,qe()).next(()=>o))}getLocalViewOfDocuments(e,n,o=qe()){const s=Do();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,o).next(l=>{let f=Ia();return l.forEach((h,g)=>{f=f.insert(h,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=Do();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,qe()))}populateOverlays(e,n,o){const s=[];return o.forEach(l=>{n.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((f,h)=>{n.set(f,h)})})}computeViews(e,n,o,s){let l=ci();const f=xa(),h=function(){return xa()}();return n.forEach((g,y)=>{const _=o.get(y.key);s.has(y.key)&&(_===void 0||_.mutation instanceof bo)?l=l.insert(y.key,y):_!==void 0?(f.set(y.key,_.mutation.getFieldMask()),ka(_.mutation,y,_.mutation.getFieldMask(),Mt.now())):f.set(y.key,yr.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((y,_)=>f.set(y,_)),n.forEach((y,_)=>{var w;return h.set(y,new UR(_,(w=f.get(y))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,n){const o=xa();let s=new St((f,h)=>f-h),l=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const h of f)h.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let _=o.get(g)||yr.empty();_=h.applyToLocalView(y,_),o.set(g,_);const w=(s.get(h.batchId)||qe()).add(g);s=s.insert(h.batchId,w)})}).next(()=>{const f=[],h=s.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),y=g.key,_=g.value,w=rv();_.forEach(T=>{if(!l.has(T)){const I=uv(n.get(T),o.get(T));I!==null&&w.set(T,I),l=l.add(T)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ee.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,s){return function(f){return Ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$S(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,s):this.getDocumentsMatchingCollectionQuery(e,n,o,s)}getNextDocuments(e,n,o,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,s).next(l=>{const f=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,s-l.size):ee.resolve(Do());let h=-1,g=l;return f.next(y=>ee.forEach(y,(_,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),l.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{g=g.insert(_,T)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,g,y,qe())).next(_=>({batchId:h,changes:nv(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next(o=>{let s=Ia();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,o,s){const l=n.collectionGroup;let f=Ia();return this.indexManager.getCollectionParents(e,l).next(h=>ee.forEach(h,g=>{const y=function(w,T){return new Ku(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,o,s).next(_=>{_.forEach((w,T)=>{f=f.insert(w,T)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,o,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,l,s))).next(f=>{l.forEach((g,y)=>{const _=y.getKey();f.get(_)===null&&(f=f.insert(_,fn.newInvalidDocument(_)))});let h=Ia();return f.forEach((g,y)=>{const _=l.get(g);_!==void 0&&ka(_.mutation,y,yr.empty(),Mt.now()),Gu(n,y)&&(h=h.insert(g,y))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return ee.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Fr(s.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:DR(s.bundledQuery),readTime:Fr(s.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.overlays=new St(Ve.comparator),this.dr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Do();return ee.forEach(n,s=>this.getOverlay(e,s).next(l=>{l!==null&&o.set(s,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((s,l)=>{this.Tt(e,n,l)}),ee.resolve()}removeOverlaysForBatchId(e,n,o){const s=this.dr.get(o);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(o)),ee.resolve()}getOverlaysForCollection(e,n,o){const s=Do(),l=n.length+1,f=new Ve(n.child("")),h=this.overlays.getIteratorFrom(f);for(;h.hasNext();){const g=h.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===l&&g.largestBatchId>o&&s.set(g.getKey(),g)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,n,o,s){let l=new St((y,_)=>y-_);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>o){let _=l.get(y.largestBatchId);_===null&&(_=Do(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const h=Do(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,_)=>h.set(y,_)),!(h.size()>=s)););return ee.resolve(h)}Tt(e,n,o){const s=this.overlays.get(o.key);if(s!==null){const f=this.dr.get(s.largestBatchId).delete(o.key);this.dr.set(s.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new aR(n,o));let l=this.dr.get(n);l===void 0&&(l=qe(),this.dr.set(n,l)),this.dr.set(n,l.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this.Er=new bt(Bt.Ar),this.Rr=new bt(Bt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const o=new Bt(e,n);this.Er=this.Er.add(o),this.Rr=this.Rr.add(o)}mr(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.gr(new Bt(e,n))}pr(e,n){e.forEach(o=>this.removeReference(o,n))}yr(e){const n=new Ve(new Et([])),o=new Bt(n,e),s=new Bt(n,e+1),l=[];return this.Rr.forEachInRange([o,s],f=>{this.gr(f),l.push(f.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Ve(new Et([])),o=new Bt(n,e),s=new Bt(n,e+1);let l=qe();return this.Rr.forEachInRange([o,s],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new Bt(e,0),o=this.Er.firstAfterOrEqual(n);return o!==null&&e.isEqual(o.key)}}class Bt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Ve.comparator(e.key,n.key)||Ge(e.br,n.br)}static Vr(e,n){return Ge(e.br,n.br)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new bt(Bt.Ar)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,o,s){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new sR(l,n,o,s);this.mutationQueue.push(f);for(const h of s)this.vr=this.vr.add(new Bt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const o=n+1,s=this.Fr(o),l=s<0?0:s;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Bt(n,0),s=new Bt(n,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([o,s],f=>{const h=this.Cr(f.br);l.push(h)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new bt(Ge);return n.forEach(s=>{const l=new Bt(s,0),f=new Bt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,f],h=>{o=o.add(h.br)})}),ee.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,s=o.length+1;let l=o;Ve.isDocumentKey(l)||(l=l.child(""));const f=new Bt(new Ve(l),0);let h=new bt(Ge);return this.vr.forEachWhile(g=>{const y=g.key.path;return!!o.isPrefixOf(y)&&(y.length===s&&(h=h.add(g.br)),!0)},f),ee.resolve(this.Mr(h))}Mr(e){const n=[];return e.forEach(o=>{const s=this.Cr(o);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){lt(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return ee.forEach(n.mutations,s=>{const l=new Bt(s.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=o})}Bn(e){}containsKey(e,n){const o=new Bt(n,0),s=this.vr.firstAfterOrEqual(o);return ee.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.Nr=e,this.docs=function(){return new St(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,s=this.docs.get(o),l=s?s.size:0,f=this.Nr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return ee.resolve(o?o.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let o=ci();return n.forEach(s=>{const l=this.docs.get(s);o=o.insert(s,l?l.document.mutableCopy():fn.newInvalidDocument(s))}),ee.resolve(o)}getDocumentsMatchingQuery(e,n,o,s){let l=ci();const f=n.path,h=new Ve(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||wS(ES(_),o)<=0||(s.has(_.key)||Gu(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,n,o,s){Fe()}Br(e,n){return ee.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new WR(this)}getSize(e){return ee.resolve(this.size)}}class WR extends FR{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((o,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(o)}),ee.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.persistence=e,this.Lr=new Mo(n=>Fh(n),Uh),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.kr=0,this.qr=new Hh,this.targetCount=0,this.Qr=Ns.qn()}forEachTarget(e,n){return this.Lr.forEach((o,s)=>n(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.kr&&(this.kr=n),ee.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Ns(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Un(n),ee.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,o){let s=0;const l=[];return this.Lr.forEach((f,h)=>{h.sequenceNumber<=n&&o.get(h.targetId)===null&&(this.Lr.delete(f),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),ee.waitFor(l).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const o=this.Lr.get(n)||null;return ee.resolve(o)}addMatchingKeys(e,n,o){return this.qr.mr(n,o),ee.resolve()}removeMatchingKeys(e,n,o){this.qr.pr(n,o);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach(f=>{l.push(s.markPotentiallyOrphaned(e,f))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const o=this.qr.Sr(n);return ee.resolve(o)}containsKey(e,n){return ee.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Hu(0),this.Ur=!1,this.Ur=!0,this.Wr=new $R,this.referenceDelegate=e(this),this.Gr=new KR(this),this.indexManager=new NR,this.remoteDocumentCache=function(s){return new qR(s)}(o=>this.referenceDelegate.zr(o)),this.serializer=new kR(n),this.jr=new jR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Kr[e.toKey()];return o||(o=new HR(n,this.referenceDelegate),this.Kr[e.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,o){Ee("MemoryPersistence","Starting transaction:",e);const s=new QR(this.$r.next());return this.referenceDelegate.Hr(),o(s).next(l=>this.referenceDelegate.Jr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Yr(e,n){return ee.or(Object.values(this.Kr).map(o=>()=>o.containsKey(e,n)))}}class QR extends SS{constructor(e){super(),this.currentSequenceNumber=e}}class qh{constructor(e){this.persistence=e,this.Zr=new Hh,this.Xr=null}static ei(e){return new qh(e)}get ti(){if(this.Xr)return this.Xr;throw Fe()}addReference(e,n,o){return this.Zr.addReference(o,n),this.ti.delete(o.toString()),ee.resolve()}removeReference(e,n,o){return this.Zr.removeReference(o,n),this.ti.add(o.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(l=>this.ti.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ti,o=>{const s=Ve.fromPath(o);return this.ni(e,s).next(l=>{l||n.removeEntry(s,Ue.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(o=>{o?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return ee.or([()=>ee.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Mu{constructor(e,n){this.persistence=e,this.ri=new Mo(o=>CS(o.path),(o,s)=>o.isEqual(s)),this.garbageCollector=bR(this,n)}static ei(e,n){return new Mu(e,n)}Hr(){}Jr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>n.next(s=>o+s))}nr(e){let n=0;return this.er(e,o=>{n++}).next(()=>n)}er(e,n){return ee.forEach(this.ri,(o,s)=>this.ir(e,o,s).next(l=>l?ee.resolve():n(s)))}removeTargets(e,n,o){return this.persistence.getTargetCache().removeTargets(e,n,o)}removeOrphanedDocuments(e,n){let o=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.Br(e,f=>this.ir(e,f,n).next(h=>{h||(o++,l.removeEntry(f,Ue.min()))})).next(()=>l.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,n,o){return this.ri.set(o,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,o){return this.ri.set(o,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),ee.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_u(e.data.value)),n}ir(e,n,o){return ee.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return ee.resolve(s!==void 0&&s>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,o,s){this.targetId=e,this.fromCache=n,this.Wi=o,this.Gi=s}static zi(e,n){let o=qe(),s=qe();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Wh(e,n.fromCache,o,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return WT()?8:RS(HT())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,o,s){const l={result:null};return this.Xi(e,n).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.es(e,n,s,o).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new GR;return this.ts(e,n,f).next(h=>{if(l.result=h,this.Hi)return this.ns(e,n,f,h.size)})}).next(()=>l.result)}ns(e,n,o,s){return o.documentReadCount<this.Ji?(Ts()<=et.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ee.resolve()):(Ts()<=et.DEBUG&&Ee("QueryEngine","Query:",Ss(n),"scans",o.documentReadCount,"local documents and returns",s,"documents as results."),o.documentReadCount>this.Yi*s?(Ts()<=et.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):ee.resolve())}Xi(e,n){if(Ag(n))return ee.resolve(null);let o=br(n);return this.indexManager.getIndexType(e,o).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=fh(n,null,"F"),o=br(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=qe(...l);return this.Zi.getDocuments(e,f).next(h=>this.indexManager.getMinOffset(e,o).next(g=>{const y=this.rs(n,h);return this.ss(n,y,f,g.readTime)?this.Xi(e,fh(n,null,"F")):this.os(e,y,n,g)}))})))}es(e,n,o,s){return Ag(n)||s.isEqual(Ue.min())?ee.resolve(null):this.Zi.getDocuments(e,o).next(l=>{const f=this.rs(n,l);return this.ss(n,f,o,s)?ee.resolve(null):(Ts()<=et.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ss(n)),this.os(e,f,n,_S(s,-1)).next(h=>h))})}rs(e,n){let o=new bt(ev(e));return n.forEach((s,l)=>{Gu(e,l)&&(o=o.add(l))}),o}ss(e,n,o,s){if(e.limit===null)return!1;if(o.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ts(e,n,o){return Ts()<=et.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Ss(n)),this.Zi.getDocumentsMatchingQuery(e,n,Zi.min(),o)}os(e,n,o,s){return this.Zi.getDocumentsMatchingQuery(e,o,s).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,o,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new St(Ge),this.cs=new Mo(l=>Fh(l),Uh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(o)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zR(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function JR(r,e,n,o){return new XR(r,e,n,o)}async function Sv(r,e){const n=ze(r);return await n.persistence.runTransaction("Handle user change","readonly",o=>{let s;return n.mutationQueue.getAllMutationBatches(o).next(l=>(s=l,n.Ps(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],h=[];let g=qe();for(const y of s){f.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of l){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(o,g).next(y=>({Ts:y,removedBatchIds:f,addedBatchIds:h}))})})}function ZR(r,e){const n=ze(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const s=e.batch.keys(),l=n.hs.newChangeBuffer({trackRemovals:!0});return function(h,g,y,_){const w=y.batch,T=w.keys();let I=ee.resolve();return T.forEach(N=>{I=I.next(()=>_.getEntry(g,N)).next(U=>{const F=y.docVersions.get(N);lt(F!==null),U.version.compareTo(F)<0&&(w.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),_.addEntry(U)))})}),I.next(()=>h.mutationQueue.removeMutationBatch(g,w))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(h){let g=qe();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(g=g.add(h.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(o,s))})}function Rv(r){const e=ze(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function eI(r,e){const n=ze(r),o=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const h=[];e.targetChanges.forEach((_,w)=>{const T=s.get(w);if(!T)return;h.push(n.Gr.removeMatchingKeys(l,_.removedDocuments,w).next(()=>n.Gr.addMatchingKeys(l,_.addedDocuments,w)));let I=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(en.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,o)),s=s.insert(w,I),function(U,F,H){return U.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,I,_)&&h.push(n.Gr.updateTargetData(l,I))});let g=ci(),y=qe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))}),h.push(tI(l,f,e.documentUpdates).next(_=>{g=_.Is,y=_.ds})),!o.isEqual(Ue.min())){const _=n.Gr.getLastRemoteSnapshotVersion(l).next(w=>n.Gr.setTargetsMetadata(l,l.currentSequenceNumber,o));h.push(_)}return ee.waitFor(h).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,g,y)).next(()=>g)}).then(l=>(n.us=s,l))}function tI(r,e,n){let o=qe(),s=qe();return n.forEach(l=>o=o.add(l)),e.getEntries(r,o).next(l=>{let f=ci();return n.forEach((h,g)=>{const y=l.get(h);g.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(h)),g.isNoDocument()&&g.version.isEqual(Ue.min())?(e.removeEntry(h,g.readTime),f=f.insert(h,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(h,g)):Ee("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",g.version)}),{Is:f,ds:s}})}function nI(r,e){const n=ze(r);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function rI(r,e){const n=ze(r);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let s;return n.Gr.getTargetData(o,e).next(l=>l?(s=l,ee.resolve(s)):n.Gr.allocateTargetId(o).next(f=>(s=new Wi(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Gr.addTargetData(o,s).next(()=>s))))}).then(o=>{const s=n.us.get(o.targetId);return(s===null||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(o.targetId,o),n.cs.set(e,o.targetId)),o})}async function gh(r,e,n){const o=ze(r),s=o.us.get(e),l=n?"readwrite":"readwrite-primary";try{n||await o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,s))}catch(f){if(!Fs(f))throw f;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.us=o.us.remove(e),o.cs.delete(s.target)}function Ug(r,e,n){const o=ze(r);let s=Ue.min(),l=qe();return o.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,_){const w=ze(g),T=w.cs.get(_);return T!==void 0?ee.resolve(w.us.get(T)):w.Gr.getTargetData(y,_)}(o,f,br(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(f,h.targetId).next(g=>{l=g})}).next(()=>o._s.getDocumentsMatchingQuery(f,e,n?s:Ue.min(),n?l:qe())).next(h=>(iI(o,qS(e),h),{documents:h,Es:l})))}function iI(r,e,n){let o=r.ls.get(e)||Ue.min();n.forEach((s,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),r.ls.set(e,o)}class zg{constructor(){this.activeTargetIds=XS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oI{constructor(){this._o=new zg,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,o){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new zg,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=null;function Qf(){return du===null?du=function(){return 268435456+Math.round(2147483648*Math.random())}():du++,"0x"+du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class uI extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+n.host,this.Mo=`projects/${s}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Oo(n,o,s,l,f){const h=Qf(),g=this.No(n,o.toUriEncodedString());Ee("RestConnection",`Sending RPC '${n}' ${h}:`,g,s);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(y,l,f),this.Lo(n,g,y,s).then(_=>(Ee("RestConnection",`Received RPC '${n}' ${h}: `,_),_),_=>{throw Ps("RestConnection",`RPC '${n}' ${h} failed with error: `,_,"url: ",g,"request:",s),_})}ko(n,o,s,l,f,h){return this.Oo(n,o,s,l,f)}Bo(n,o,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ms}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((l,f)=>n[f]=l),s&&s.headers.forEach((l,f)=>n[f]=l)}No(n,o){const s=aI[n];return`${this.Fo}/v1/${o}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,o,s){const l=Qf();return new Promise((f,h)=>{const g=new My;g.setWithCredentials(!0),g.listenOnce(by.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case vu.NO_ERROR:const _=g.getResponseJson();Ee(un,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),f(_);break;case vu.TIMEOUT:Ee(un,`RPC '${e}' ${l} timed out`),h(new Pe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case vu.HTTP_ERROR:const w=g.getStatus();if(Ee(un,`RPC '${e}' ${l} failed with status:`,w,"response text:",g.getResponseText()),w>0){let T=g.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T==null?void 0:T.error;if(I&&I.status&&I.message){const N=function(F){const H=F.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(H)>=0?H:ae.UNKNOWN}(I.status);h(new Pe(N,I.message))}else h(new Pe(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new Pe(ae.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{Ee(un,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(s);Ee(un,`RPC '${e}' ${l} sending request:`,s),g.send(n,"POST",y,o,15)})}qo(e,n,o){const s=Qf(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=zy(),h=Uy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Bo(g.initMessageHeaders,n,o),g.encodeInitMessageHeaders=!0;const _=l.join("");Ee(un,`Creating RPC '${e}' stream ${s}: ${_}`,g);const w=f.createWebChannel(_,g);let T=!1,I=!1;const N=new lI({Eo:F=>{I?Ee(un,`Not sending because RPC '${e}' stream ${s} is closed:`,F):(T||(Ee(un,`Opening RPC '${e}' stream ${s} transport.`),w.open(),T=!0),Ee(un,`RPC '${e}' stream ${s} sending:`,F),w.send(F))},Ao:()=>w.close()}),U=(F,H,ne)=>{F.listen(H,ie=>{try{ne(ie)}catch(me){setTimeout(()=>{throw me},0)}})};return U(w,Ra.EventType.OPEN,()=>{I||(Ee(un,`RPC '${e}' stream ${s} transport opened.`),N.So())}),U(w,Ra.EventType.CLOSE,()=>{I||(I=!0,Ee(un,`RPC '${e}' stream ${s} transport closed`),N.Do())}),U(w,Ra.EventType.ERROR,F=>{I||(I=!0,Ps(un,`RPC '${e}' stream ${s} transport errored:`,F),N.Do(new Pe(ae.UNAVAILABLE,"The operation could not be completed")))}),U(w,Ra.EventType.MESSAGE,F=>{var H;if(!I){const ne=F.data[0];lt(!!ne);const ie=ne,me=(ie==null?void 0:ie.error)||((H=ie[0])===null||H===void 0?void 0:H.error);if(me){Ee(un,`RPC '${e}' stream ${s} received error:`,me);const z=me.status;let de=function(A){const D=Dt[A];if(D!==void 0)return hv(D)}(z),V=me.message;de===void 0&&(de=ae.INTERNAL,V="Unknown error status: "+z+" with message "+me.message),I=!0,N.Do(new Pe(de,V)),w.close()}else Ee(un,`RPC '${e}' stream ${s} received:`,ne),N.vo(ne)}}),U(h,Fy.STAT_EVENT,F=>{F.stat===sh.PROXY?Ee(un,`RPC '${e}' stream ${s} detected buffering proxy`):F.stat===sh.NOPROXY&&Ee(un,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{N.bo()},0),N}}function Gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(r){return new gR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n,o=1e3,s=1.5,l=6e4){this.li=e,this.timerId=n,this.Qo=o,this.Ko=s,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-o);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,o,s,l,f,h,g){this.li=e,this.Yo=o,this.Zo=s,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Iv(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,s])=>{this.Xo===n&&this.I_(o,s)},o=>{e(()=>{const s=new Pe(ae.UNKNOWN,"Fetching auth token failed: "+o.message);return this.d_(s)})})}I_(e,n){const o=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{o(()=>this.d_(s))}),this.stream.onMessage(s=>{o(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cI extends Cv{constructor(e,n,o,s,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,s,f),this.serializer=l}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=_R(this.serializer,e),o=function(l){if(!("targetChange"in l))return Ue.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?Ue.min():f.readTime?Fr(f.readTime):Ue.min()}(e);return this.listener.R_(n,o)}V_(e){const n={};n.database=mh(this.serializer),n.addTarget=function(l,f){let h;const g=f.target;if(h=ch(g)?{documents:TR(l,g)}:{query:SR(l,g).ct},h.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){h.resumeToken=mv(l,f.resumeToken);const y=hh(l,f.expectedCount);y!==null&&(h.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ue.min())>0){h.readTime=Ou(l,f.snapshotVersion.toTimestamp());const y=hh(l,f.expectedCount);y!==null&&(h.expectedCount=y)}return h}(this.serializer,e);const o=IR(this.serializer,e);o&&(n.labels=o),this.c_(n)}m_(e){const n={};n.database=mh(this.serializer),n.removeTarget=e,this.c_(n)}}class fI extends Cv{constructor(e,n,o,s,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,s,f),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=wR(e.writeResults,e.commitTime),o=Fr(e.commitTime);return this.listener.y_(o,n)}w_(){const e={};e.database=mh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>ER(this.serializer,o))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI extends class{}{constructor(e,n,o,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new Pe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,o,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.Oo(e,dh(n,o),s,l,f)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pe(ae.UNKNOWN,l.toString())})}ko(e,n,o,s,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,h])=>this.connection.ko(e,dh(n,o),s,f,h,l)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Pe(ae.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class dI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ui(n),this.C_=!1):Ee("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,o,s,l){this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(f=>{o.enqueueAndForget(async()=>{Fo(this)&&(Ee("RemoteStore","Restarting streams for network reachability change."),await async function(g){const y=ze(g);y.k_.add(4),await Wa(y),y.K_.set("Unknown"),y.k_.delete(4),await ec(y)}(this))})}),this.K_=new dI(o,s)}}async function ec(r){if(Fo(r))for(const e of r.q_)await e(!0)}async function Wa(r){for(const e of r.q_)await e(!1)}function Av(r,e){const n=ze(r);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),Yh(n)?Gh(n):Us(n).s_()&&Qh(n,e))}function Kh(r,e){const n=ze(r),o=Us(n);n.L_.delete(e),o.s_()&&Pv(n,e),n.L_.size===0&&(o.s_()?o.a_():Fo(n)&&n.K_.set("Unknown"))}function Qh(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Us(r).V_(e)}function Pv(r,e){r.U_.xe(e),Us(r).m_(e)}function Gh(r){r.U_=new hR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.L_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Us(r).start(),r.K_.F_()}function Yh(r){return Fo(r)&&!Us(r).i_()&&r.L_.size>0}function Fo(r){return ze(r).k_.size===0}function xv(r){r.U_=void 0}async function mI(r){r.K_.set("Online")}async function gI(r){r.L_.forEach((e,n)=>{Qh(r,e)})}async function yI(r,e){xv(r),Yh(r)?(r.K_.O_(e),Gh(r)):r.K_.set("Unknown")}async function vI(r,e,n){if(r.K_.set("Online"),e instanceof pv&&e.state===2&&e.cause)try{await async function(s,l){const f=l.cause;for(const h of l.targetIds)s.L_.has(h)&&(await s.remoteSyncer.rejectListen(h,f),s.L_.delete(h),s.U_.removeTarget(h))}(r,e)}catch(o){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await bu(r,o)}else if(e instanceof Tu?r.U_.$e(e):e instanceof dv?r.U_.Je(e):r.U_.Ge(e),!n.isEqual(Ue.min()))try{const o=await Rv(r.localStore);n.compareTo(o)>=0&&await function(l,f){const h=l.U_.it(f);return h.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=l.L_.get(y);_&&l.L_.set(y,_.withResumeToken(g.resumeToken,f))}}),h.targetMismatches.forEach((g,y)=>{const _=l.L_.get(g);if(!_)return;l.L_.set(g,_.withResumeToken(en.EMPTY_BYTE_STRING,_.snapshotVersion)),Pv(l,g);const w=new Wi(_.target,g,y,_.sequenceNumber);Qh(l,w)}),l.remoteSyncer.applyRemoteEvent(h)}(r,n)}catch(o){Ee("RemoteStore","Failed to raise snapshot:",o),await bu(r,o)}}async function bu(r,e,n){if(!Fs(e))throw e;r.k_.add(1),await Wa(r),r.K_.set("Offline"),n||(n=()=>Rv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ee("RemoteStore","Retrying IndexedDB access"),await n(),r.k_.delete(1),await ec(r)})}function kv(r,e){return e().catch(n=>bu(r,n,e))}async function tc(r){const e=ze(r),n=ro(e);let o=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;_I(e);)try{const s=await nI(e.localStore,o);if(s===null){e.B_.length===0&&n.a_();break}o=s.batchId,EI(e,s)}catch(s){await bu(e,s)}Dv(e)&&Nv(e)}function _I(r){return Fo(r)&&r.B_.length<10}function EI(r,e){r.B_.push(e);const n=ro(r);n.s_()&&n.f_&&n.g_(e.mutations)}function Dv(r){return Fo(r)&&!ro(r).i_()&&r.B_.length>0}function Nv(r){ro(r).start()}async function wI(r){ro(r).w_()}async function TI(r){const e=ro(r);for(const n of r.B_)e.g_(n.mutations)}async function SI(r,e,n){const o=r.B_.shift(),s=jh.from(o,e,n);await kv(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await tc(r)}async function RI(r,e){e&&ro(r).f_&&await async function(o,s){if(function(f){return uR(f)&&f!==ae.ABORTED}(s.code)){const l=o.B_.shift();ro(o).__(),await kv(o,()=>o.remoteSyncer.rejectFailedWrite(l.batchId,s)),await tc(o)}}(r,e),Dv(r)&&Nv(r)}async function Bg(r,e){const n=ze(r);n.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const o=Fo(n);n.k_.add(3),await Wa(n),o&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await ec(n)}async function II(r,e){const n=ze(r);e?(n.k_.delete(2),await ec(n)):e||(n.k_.add(2),await Wa(n),n.K_.set("Unknown"))}function Us(r){return r.W_||(r.W_=function(n,o,s){const l=ze(n);return l.b_(),new cI(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(r.datastore,r.asyncQueue,{Ro:mI.bind(null,r),mo:gI.bind(null,r),po:yI.bind(null,r),R_:vI.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),Yh(r)?Gh(r):r.K_.set("Unknown")):(await r.W_.stop(),xv(r))})),r.W_}function ro(r){return r.G_||(r.G_=function(n,o,s){const l=ze(n);return l.b_(),new fI(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:wI.bind(null,r),po:RI.bind(null,r),p_:TI.bind(null,r),y_:SI.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await tc(r)):(await r.G_.stop(),r.B_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${r.B_.length} pending writes`),r.B_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,o,s,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=s,this.removalCallback=l,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,s,l){const f=Date.now()+o,h=new Xh(e,n,f,s,l);return h.start(o),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jh(r,e){if(ui("AsyncQueue",`${e}: ${r}`),Fs(r))return new Pe(ae.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{static emptySet(e){return new As(e.comparator)}constructor(e){this.comparator=e?(n,o)=>e(n,o)||Ve.comparator(n.key,o.key):(n,o)=>Ve.comparator(n.key,o.key),this.keyedMap=Ia(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=o.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const o=new As;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.z_=new St(Ve.comparator)}track(e){const n=e.doc.key,o=this.z_.get(n);o?e.type!==0&&o.type===3?this.z_=this.z_.insert(n,e):e.type===3&&o.type!==1?this.z_=this.z_.insert(n,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.z_=this.z_.remove(n):e.type===1&&o.type===2?this.z_=this.z_.insert(n,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Fe():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,o)=>{e.push(o)}),e}}class Vs{constructor(e,n,o,s,l,f,h,g,y){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,o,s,l){const f=[];return n.forEach(h=>{f.push({type:0,doc:h})}),new Vs(e,n,As.emptySet(n),f,o,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==o[s].type||!n[s].doc.isEqual(o[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class AI{constructor(){this.queries=Hg(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,o){const s=ze(n),l=s.queries;s.queries=Hg(),l.forEach((f,h)=>{for(const g of h.J_)g.onError(o)})})(this,new Pe(ae.ABORTED,"Firestore shutting down"))}}function Hg(){return new Mo(r=>Zy(r),Qu)}async function PI(r,e){const n=ze(r);let o=3;const s=e.query;let l=n.queries.get(s);l?!l.Y_()&&e.Z_()&&(o=2):(l=new CI,o=e.Z_()?0:1);try{switch(o){case 0:l.H_=await n.onListen(s,!0);break;case 1:l.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(f){const h=Jh(f,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,l),l.J_.push(e),e.ea(n.onlineState),l.H_&&e.ta(l.H_)&&Zh(n)}async function xI(r,e){const n=ze(r),o=e.query;let s=3;const l=n.queries.get(o);if(l){const f=l.J_.indexOf(e);f>=0&&(l.J_.splice(f,1),l.J_.length===0?s=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(o),n.onUnlisten(o,!0);case 1:return n.queries.delete(o),n.onUnlisten(o,!1);case 2:return n.onLastRemoteStoreUnlisten(o);default:return}}function kI(r,e){const n=ze(r);let o=!1;for(const s of e){const l=s.query,f=n.queries.get(l);if(f){for(const h of f.J_)h.ta(s)&&(o=!0);f.H_=s}}o&&Zh(n)}function DI(r,e,n){const o=ze(r),s=o.queries.get(e);if(s)for(const l of s.J_)l.onError(n);o.queries.delete(e)}function Zh(r){r.X_.forEach(e=>{e.next()})}var yh,qg;(qg=yh||(yh={})).na="default",qg.Cache="cache";class NI{constructor(e,n,o){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(e){if(!this.options.includeMetadataChanges){const o=[];for(const s of e.docChanges)s.type!==3&&o.push(s);e=new Vs(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const o=n!=="Offline";return(!this.options.ua||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==yh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.key=e}}class Lv{constructor(e){this.key=e}}class VI{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=qe(),this.mutatedKeys=qe(),this.Va=ev(e),this.ma=new As(this.Va)}get fa(){return this.Ea}ga(e,n){const o=n?n.pa:new $g,s=n?n.ma:this.ma;let l=n?n.mutatedKeys:this.mutatedKeys,f=s,h=!1;const g=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,w)=>{const T=s.get(_),I=Gu(this.query,w)?w:null,N=!!T&&this.mutatedKeys.has(T.key),U=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let F=!1;T&&I?T.data.isEqual(I.data)?N!==U&&(o.track({type:3,doc:I}),F=!0):this.ya(T,I)||(o.track({type:2,doc:I}),F=!0,(g&&this.Va(I,g)>0||y&&this.Va(I,y)<0)&&(h=!0)):!T&&I?(o.track({type:0,doc:I}),F=!0):T&&!I&&(o.track({type:1,doc:T}),F=!0,(g||y)&&(h=!0)),F&&(I?(f=f.add(I),l=U?l.add(_):l.delete(_)):(f=f.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),l=l.delete(_.key),o.track({type:1,doc:_})}return{ma:f,pa:o,ss:h,mutatedKeys:l}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o,s){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((_,w)=>function(I,N){const U=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return U(I)-U(N)}(_.type,w.type)||this.Va(_.doc,w.doc)),this.wa(o),s=s!=null&&s;const h=n&&!s?this.Sa():[],g=this.Ra.size===0&&this.current&&!s?1:0,y=g!==this.Aa;return this.Aa=g,f.length!==0||y?{snapshot:new Vs(this.query,e.ma,l,f,e.mutatedKeys,g===0,y,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new $g,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=qe(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const n=[];return e.forEach(o=>{this.Ra.has(o)||n.push(new Lv(o))}),this.Ra.forEach(o=>{e.has(o)||n.push(new Vv(o))}),n}va(e){this.Ea=e.Es,this.Ra=qe();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Vs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class LI{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class OI{constructor(e){this.key=e,this.Fa=!1}}class MI{constructor(e,n,o,s,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Mo(h=>Zy(h),Qu),this.Oa=new Map,this.Na=new Set,this.Ba=new St(Ve.comparator),this.La=new Map,this.ka=new Hh,this.qa={},this.Qa=new Map,this.Ka=Ns.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function bI(r,e,n=!0){const o=zv(r);let s;const l=o.xa.get(e);return l?(o.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Ca()):s=await Ov(o,e,n,!0),s}async function FI(r,e){const n=zv(r);await Ov(n,e,!0,!1)}async function Ov(r,e,n,o){const s=await rI(r.localStore,br(e)),l=s.targetId,f=r.sharedClientState.addLocalQueryTarget(l,n);let h;return o&&(h=await UI(r,e,l,f==="current",s.resumeToken)),r.isPrimaryClient&&n&&Av(r.remoteStore,s),h}async function UI(r,e,n,o,s){r.Ua=(w,T,I)=>async function(U,F,H,ne){let ie=F.view.ga(H);ie.ss&&(ie=await Ug(U.localStore,F.query,!1).then(({documents:V})=>F.view.ga(V,ie)));const me=ne&&ne.targetChanges.get(F.targetId),z=ne&&ne.targetMismatches.get(F.targetId)!=null,de=F.view.applyChanges(ie,U.isPrimaryClient,me,z);return Kg(U,F.targetId,de.ba),de.snapshot}(r,w,T,I);const l=await Ug(r.localStore,e,!0),f=new VI(e,l.Es),h=f.ga(l.documents),g=qa.createSynthesizedTargetChangeForCurrentChange(n,o&&r.onlineState!=="Offline",s),y=f.applyChanges(h,r.isPrimaryClient,g);Kg(r,n,y.ba);const _=new LI(e,n,f);return r.xa.set(e,_),r.Oa.has(n)?r.Oa.get(n).push(e):r.Oa.set(n,[e]),y.snapshot}async function zI(r,e,n){const o=ze(r),s=o.xa.get(e),l=o.Oa.get(s.targetId);if(l.length>1)return o.Oa.set(s.targetId,l.filter(f=>!Qu(f,e))),void o.xa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(s.targetId),o.sharedClientState.isActiveQueryTarget(s.targetId)||await gh(o.localStore,s.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(s.targetId),n&&Kh(o.remoteStore,s.targetId),vh(o,s.targetId)}).catch(bs)):(vh(o,s.targetId),await gh(o.localStore,s.targetId,!0))}async function jI(r,e){const n=ze(r),o=n.xa.get(e),s=n.Oa.get(o.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(o.targetId),Kh(n.remoteStore,o.targetId))}async function BI(r,e,n){const o=GI(r);try{const s=await function(f,h){const g=ze(f),y=Mt.now(),_=h.reduce((I,N)=>I.add(N.key),qe());let w,T;return g.persistence.runTransaction("Locally write mutations","readwrite",I=>{let N=ci(),U=qe();return g.hs.getEntries(I,_).next(F=>{N=F,N.forEach((H,ne)=>{ne.isValidDocument()||(U=U.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(I,N)).next(F=>{w=F;const H=[];for(const ne of h){const ie=iR(ne,w.get(ne.key).overlayedDocument);ie!=null&&H.push(new bo(ne.key,ie,qy(ie.value.mapValue),ai.exists(!0)))}return g.mutationQueue.addMutationBatch(I,y,H,h)}).next(F=>{T=F;const H=F.applyToLocalDocumentSet(w,U);return g.documentOverlayCache.saveOverlays(I,F.batchId,H)})}).then(()=>({batchId:T.batchId,changes:nv(w)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(s.batchId),function(f,h,g){let y=f.qa[f.currentUser.toKey()];y||(y=new St(Ge)),y=y.insert(h,g),f.qa[f.currentUser.toKey()]=y}(o,s.batchId,n),await Ka(o,s.changes),await tc(o.remoteStore)}catch(s){const l=Jh(s,"Failed to persist write");n.reject(l)}}async function Mv(r,e){const n=ze(r);try{const o=await eI(n.localStore,e);e.targetChanges.forEach((s,l)=>{const f=n.La.get(l);f&&(lt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?f.Fa=!0:s.modifiedDocuments.size>0?lt(f.Fa):s.removedDocuments.size>0&&(lt(f.Fa),f.Fa=!1))}),await Ka(n,o,e)}catch(o){await bs(o)}}function Wg(r,e,n){const o=ze(r);if(o.isPrimaryClient&&n===0||!o.isPrimaryClient&&n===1){const s=[];o.xa.forEach((l,f)=>{const h=f.view.ea(e);h.snapshot&&s.push(h.snapshot)}),function(f,h){const g=ze(f);g.onlineState=h;let y=!1;g.queries.forEach((_,w)=>{for(const T of w.J_)T.ea(h)&&(y=!0)}),y&&Zh(g)}(o.eventManager,e),s.length&&o.Ma.R_(s),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function $I(r,e,n){const o=ze(r);o.sharedClientState.updateQueryState(e,"rejected",n);const s=o.La.get(e),l=s&&s.key;if(l){let f=new St(Ve.comparator);f=f.insert(l,fn.newNoDocument(l,Ue.min()));const h=qe().add(l),g=new Ju(Ue.min(),new Map,new St(Ge),f,h);await Mv(o,g),o.Ba=o.Ba.remove(l),o.La.delete(e),ed(o)}else await gh(o.localStore,e,!1).then(()=>vh(o,e,n)).catch(bs)}async function HI(r,e){const n=ze(r),o=e.batch.batchId;try{const s=await ZR(n.localStore,e);Fv(n,o,null),bv(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),await Ka(n,s)}catch(s){await bs(s)}}async function qI(r,e,n){const o=ze(r);try{const s=await function(f,h){const g=ze(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return g.mutationQueue.lookupMutationBatch(y,h).next(w=>(lt(w!==null),_=w.keys(),g.mutationQueue.removeMutationBatch(y,w))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,h)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>g.localDocuments.getDocuments(y,_))})}(o.localStore,e);Fv(o,e,n),bv(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),await Ka(o,s)}catch(s){await bs(s)}}function bv(r,e){(r.Qa.get(e)||[]).forEach(n=>{n.resolve()}),r.Qa.delete(e)}function Fv(r,e,n){const o=ze(r);let s=o.qa[o.currentUser.toKey()];if(s){const l=s.get(e);l&&(n?l.reject(n):l.resolve(),s=s.remove(e)),o.qa[o.currentUser.toKey()]=s}}function vh(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.Oa.get(e))r.xa.delete(o),n&&r.Ma.Wa(o,n);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(o=>{r.ka.containsKey(o)||Uv(r,o)})}function Uv(r,e){r.Na.delete(e.path.canonicalString());const n=r.Ba.get(e);n!==null&&(Kh(r.remoteStore,n),r.Ba=r.Ba.remove(e),r.La.delete(n),ed(r))}function Kg(r,e,n){for(const o of n)o instanceof Vv?(r.ka.addReference(o.key,e),WI(r,o)):o instanceof Lv?(Ee("SyncEngine","Document no longer in limbo: "+o.key),r.ka.removeReference(o.key,e),r.ka.containsKey(o.key)||Uv(r,o.key)):Fe()}function WI(r,e){const n=e.key,o=n.path.canonicalString();r.Ba.get(n)||r.Na.has(o)||(Ee("SyncEngine","New document in limbo: "+n),r.Na.add(o),ed(r))}function ed(r){for(;r.Na.size>0&&r.Ba.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const n=new Ve(Et.fromString(e)),o=r.Ka.next();r.La.set(o,new OI(n)),r.Ba=r.Ba.insert(n,o),Av(r.remoteStore,new Wi(br(Jy(n.path)),o,"TargetPurposeLimboResolution",Hu.oe))}}async function Ka(r,e,n){const o=ze(r),s=[],l=[],f=[];o.xa.isEmpty()||(o.xa.forEach((h,g)=>{f.push(o.Ua(g,e,n).then(y=>{var _;if((y||n)&&o.isPrimaryClient){const w=y?!y.fromCache:(_=n==null?void 0:n.targetChanges.get(g.targetId))===null||_===void 0?void 0:_.current;o.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){s.push(y);const w=Wh.zi(g.targetId,y);l.push(w)}}))}),await Promise.all(f),o.Ma.R_(s),await async function(g,y){const _=ze(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ee.forEach(y,T=>ee.forEach(T.Wi,I=>_.persistence.referenceDelegate.addReference(w,T.targetId,I)).next(()=>ee.forEach(T.Gi,I=>_.persistence.referenceDelegate.removeReference(w,T.targetId,I)))))}catch(w){if(!Fs(w))throw w;Ee("LocalStore","Failed to update sequence numbers: "+w)}for(const w of y){const T=w.targetId;if(!w.fromCache){const I=_.us.get(T),N=I.snapshotVersion,U=I.withLastLimboFreeSnapshotVersion(N);_.us=_.us.insert(T,U)}}}(o.localStore,l))}async function KI(r,e){const n=ze(r);if(!n.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const o=await Sv(n.localStore,e);n.currentUser=e,function(l,f){l.Qa.forEach(h=>{h.forEach(g=>{g.reject(new Pe(ae.CANCELLED,f))})}),l.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await Ka(n,o.Ts)}}function QI(r,e){const n=ze(r),o=n.La.get(e);if(o&&o.Fa)return qe().add(o.key);{let s=qe();const l=n.Oa.get(e);if(!l)return s;for(const f of l){const h=n.xa.get(f);s=s.unionWith(h.view.fa)}return s}}function zv(r){const e=ze(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$I.bind(null,e),e.Ma.R_=kI.bind(null,e.eventManager),e.Ma.Wa=DI.bind(null,e.eventManager),e}function GI(r){const e=ze(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qI.bind(null,e),e}class Fu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return JR(this.persistence,new YR,e.initialUser,this.serializer)}ja(e){return new Tv(qh.ei,this.serializer)}za(e){return new oI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fu.provider={build:()=>new Fu};class YI extends Fu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){lt(this.persistence.referenceDelegate instanceof Mu);const o=this.persistence.referenceDelegate.garbageCollector;return new OR(o,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new Tv(o=>Mu.ei(o,n),this.serializer)}}class _h{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Wg(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=KI.bind(null,this.syncEngine),await II(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AI}()}createDatastore(e){const n=Zu(e.databaseInfo.databaseId),o=function(l){return new uI(l)}(e.databaseInfo);return function(l,f,h,g){return new hI(l,f,h,g)}(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return function(o,s,l,f,h){return new pI(o,s,l,f,h)}(this.localStore,this.datastore,e.asyncQueue,n=>Wg(this.syncEngine,n,0),function(){return jg.p()?new jg:new sI}())}createSyncEngine(e,n){return function(s,l,f,h,g,y,_){const w=new MI(s,l,f,h,g,y);return _&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const l=ze(s);Ee("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Wa(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_h.provider={build:()=>new _h};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,o,s,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=s,this.user=cn.UNAUTHENTICATED,this.clientId=By.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(o,async f=>{Ee("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(o,f=>(Ee("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const o=Jh(n,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function Yf(r,e){r.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let o=n.initialUser;r.setCredentialChangeListener(async s=>{o.isEqual(s)||(await Sv(e.localStore,s),o=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Qg(r,e){r.asyncQueue.verifyOperationInProgress();const n=await ZI(r);Ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(o=>Bg(e.remoteStore,o)),r.setAppCheckTokenChangeListener((o,s)=>Bg(e.remoteStore,s)),r._onlineComponents=e}async function ZI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yf(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ps("Error using user provided cache. Falling back to memory cache: "+n),await Yf(r,new Fu)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),await Yf(r,new YI(void 0));return r._offlineComponents}async function jv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),await Qg(r,r._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),await Qg(r,new _h))),r._onlineComponents}function eC(r){return jv(r).then(e=>e.syncEngine)}async function tC(r){const e=await jv(r),n=e.eventManager;return n.onListen=bI.bind(null,e.syncEngine),n.onUnlisten=zI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jI.bind(null,e.syncEngine),n}function nC(r,e,n={}){const o=new Yi;return r.asyncQueue.enqueueAndForget(async()=>function(l,f,h,g,y){const _=new XI({next:T=>{_.eu(),f.enqueueAndForget(()=>xI(l,w)),T.fromCache&&g.source==="server"?y.reject(new Pe(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),w=new NI(h,_,{includeMetadataChanges:!0,ua:!0});return PI(l,w)}(await tC(r),r.asyncQueue,e,n,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(r,e,n){if(!n)throw new Pe(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function rC(r,e,n,o){if(e===!0&&o===!0)throw new Pe(ae.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Yg(r){if(!Ve.isDocumentKey(r))throw new Pe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Xg(r){if(Ve.isDocumentKey(r))throw new Pe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function td(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Fe()}function Uu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Pe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=td(r);throw new Pe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){var n,o;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bv((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,s){return o.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nc{constructor(e,n,o,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jg(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new cS;switch(o.type){case"firstParty":return new pS(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Pe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=Gg.get(n);o&&(Ee("ComponentProvider","Removing Datastore"),Gg.delete(n),o.terminate())}(this),Promise.resolve()}}function iC(r,e,n,o={}){var s;const l=(r=Uu(r,nc))._getSettings(),f=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==f&&Ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let h,g;if(typeof o.mockUserToken=="string")h=o.mockUserToken,g=cn.MOCK_USER;else{h=$T(o.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);const y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!y)throw new Pe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new cn(y)}r._authCredentials=new fS(new jy(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new rc(this.firestore,e,this._query)}}class vr{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}}class Xi extends rc{constructor(e,n,o){super(e,n,Jy(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new Ve(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function oC(r,e,...n){if(r=Na(r),$v("collection","path",e),r instanceof nc){const o=Et.fromString(e,...n);return Xg(o),new Xi(r,null,o)}{if(!(r instanceof vr||r instanceof Xi))throw new Pe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Et.fromString(e,...n));return Xg(o),new Xi(r.firestore,null,o)}}function sC(r,e,...n){if(r=Na(r),arguments.length===1&&(e=By.newId()),$v("doc","path",e),r instanceof nc){const o=Et.fromString(e,...n);return Yg(o),new vr(r,null,new Ve(o))}{if(!(r instanceof vr||r instanceof Xi))throw new Pe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Et.fromString(e,...n));return Yg(o),new vr(r.firestore,r instanceof Xi?r.converter:null,new Ve(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Iv(this,"async_queue_retry"),this.fu=()=>{const o=Gf();o&&Ee("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=e;const n=Gf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=Gf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Yi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Fs(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(o=>{this.Au=o,this.Ru=!1;const s=function(f){let h=f.message||"";return f.stack&&(h=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),h}(o);throw ui("INTERNAL UNHANDLED ERROR: ",s),o}).then(o=>(this.Ru=!1,o))));return this.gu=n,n}enqueueAfterDelay(e,n,o){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=Xh.createAndSchedule(this,e,n,o,l=>this.Su(l));return this.Eu.push(s),s}pu(){this.Au&&Fe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class nd extends nc{constructor(e,n,o,s){super(e,n,o,s),this.type="firestore",this._queue=new Zg,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zg(e),this._firestoreClient=void 0,await e}}}function aC(r,e){const n=typeof r=="object"?r:J0(),o=typeof r=="string"?r:"(default)",s=Q0(n,"firestore").getImmediate({identifier:o});if(!s._initialized){const l=jT("firestore");l&&iC(s,...l)}return s}function Hv(r){if(r._terminated)throw new Pe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lC(r),r._firestoreClient}function lC(r){var e,n,o;const s=r._freezeSettings(),l=function(h,g,y,_){return new xS(h,g,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Bv(_.experimentalLongPollingOptions),_.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,s);r._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((o=s.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(r._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),r._firestoreClient=new JI(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(h){const g=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ls(en.fromBase64String(e))}catch(n){throw new Pe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ls(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,s){if(o.length!==s.length)return!1;for(let l=0;l<o.length;++l)if(o[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=/^__.*__$/;class cC{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return this.fieldMask!==null?new bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ha(e,this.data,n,this.fieldTransforms)}}function Wv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class sd{constructor(e,n,o,s,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=s,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new sd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const o=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:o,Nu:!1});return s.Bu(e),s}Lu(e){var n;const o=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:o,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return zu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Wv(this.Mu)&&uC.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class fC{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Zu(e)}$u(e,n,o,s=!1){return new sd({Mu:e,methodName:n,Ku:o,path:Zt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hC(r){const e=r._freezeSettings(),n=Zu(r._databaseId);return new fC(r._databaseId,!!e.ignoreUndefinedProperties,n)}function dC(r,e,n,o,s,l={}){const f=r.$u(l.merge||l.mergeFields?2:0,e,n,s);Yv("Data must be an object, but it was:",f,o);const h=Qv(o,f);let g,y;if(l.merge)g=new yr(f.fieldMask),y=f.fieldTransforms;else if(l.mergeFields){const _=[];for(const w of l.mergeFields){const T=pC(e,w,n);if(!f.contains(T))throw new Pe(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);gC(_,T)||_.push(T)}g=new yr(_),y=f.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,y=f.fieldTransforms;return new cC(new Gn(h),g,y)}function Kv(r,e){if(Gv(r=Na(r)))return Yv("Unsupported field value:",e,r),Qv(r,e);if(r instanceof qv)return function(o,s){if(!Wv(s.Mu))throw s.qu(`${o._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(o,s){const l=[];let f=0;for(const h of o){let g=Kv(h,s.ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),f++}return{arrayValue:{values:l}}}(r,e)}return function(o,s){if((o=Na(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return JS(s.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const l=Mt.fromDate(o);return{timestampValue:Ou(s.serializer,l)}}if(o instanceof Mt){const l=new Mt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Ou(s.serializer,l)}}if(o instanceof id)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Ls)return{bytesValue:mv(s.serializer,o._byteString)};if(o instanceof vr){const l=s.databaseId,f=o.firestore._databaseId;if(!f.isEqual(l))throw s.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$h(o.firestore._databaseId||s.databaseId,o._key.path)}}if(o instanceof od)return function(f,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw h.qu("VectorValues must only contain numeric values.");return zh(h.serializer,g)})}}}}}}(o,s);throw s.qu(`Unsupported field value: ${td(o)}`)}(r,e)}function Qv(r,e){const n={};return $y(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(r,(o,s)=>{const l=Kv(s,e.Ou(o));l!=null&&(n[o]=l)}),{mapValue:{fields:n}}}function Gv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Mt||r instanceof id||r instanceof Ls||r instanceof vr||r instanceof qv||r instanceof od)}function Yv(r,e,n){if(!Gv(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const o=td(n);throw o==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+o)}}function pC(r,e,n){if((e=Na(e))instanceof rd)return e._internalPath;if(typeof e=="string")return Xv(r,e);throw zu("Field path arguments must be of type string or ",r,!1,void 0,n)}const mC=new RegExp("[~\\*/\\[\\]]");function Xv(r,e,n){if(e.search(mC)>=0)throw zu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new rd(...e.split("."))._internalPath}catch{throw zu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function zu(r,e,n,o,s){const l=o&&!o.isEmpty(),f=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(l||f)&&(g+=" (found",l&&(g+=` in field ${o}`),f&&(g+=` in document ${s}`),g+=")"),new Pe(ae.INVALID_ARGUMENT,h+r+g)}function gC(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n,o,s,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yC extends Jv{data(){return super.data()}}function Zv(r,e){return typeof e=="string"?Xv(r,e):e instanceof rd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Pe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _C{convertValue(e,n="none"){switch(no(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(to(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Oo(e,(s,l)=>{o[s]=this.convertValue(l,n)}),o}convertVectorValue(e){var n,o,s;const l=(s=(o=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||o===void 0?void 0:o.values)===null||s===void 0?void 0:s.map(f=>Pt(f.doubleValue));return new od(l)}convertGeoPoint(e){return new id(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Wu(e);return o==null?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Oa(e));default:return null}}convertTimestamp(e){const n=eo(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Et.fromString(e);lt(wv(o));const s=new Ma(o.get(1),o.get(3)),l=new Ve(o.popFirst(5));return s.isEqual(n)||ui(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(r,e,n){let o;return o=r?r.toFirestore(e):e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wC extends Jv{constructor(e,n,o,s,l,f){super(e,n,o,s,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Zv("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Su extends wC{data(e={}){return super.data(e)}}class TC{constructor(e,n,o,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new pu(s.hasPendingWrites,s.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Su(this._firestore,this._userDataWriter,o.key,o,new pu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let f=0;return s._snapshot.docChanges.map(h=>{const g=new Su(s._firestore,s._userDataWriter,h.doc.key,h.doc,new pu(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const g=new Su(s._firestore,s._userDataWriter,h.doc.key,h.doc,new pu(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,_=-1;return h.type!==0&&(y=f.indexOf(h.doc.key),f=f.delete(h.doc.key)),h.type!==1&&(f=f.add(h.doc),_=f.indexOf(h.doc.key)),{type:SC(h.type),doc:g,oldIndex:y,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}class RC extends _C{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,n)}}function IC(r){r=Uu(r,rc);const e=Uu(r.firestore,nd),n=Hv(e),o=new RC(e);return vC(r._query),nC(n,r._query).then(s=>new TC(e,o,r,s))}function CC(r,e){const n=Uu(r.firestore,nd),o=sC(r),s=EC(r.converter,e);return AC(n,[dC(hC(r.firestore),"addDoc",o._key,s,r.converter!==null,{}).toMutation(o._key,ai.exists(!1))]).then(()=>o)}function AC(r,e){return function(o,s){const l=new Yi;return o.asyncQueue.enqueueAndForget(async()=>BI(await eC(o),s,l)),l.promise}(Hv(r),e)}(function(e,n=!0){(function(s){Ms=s})(X0),xu(new Va("firestore",(o,{instanceIdentifier:s,options:l})=>{const f=o.getProvider("app").getImmediate(),h=new nd(new hS(o.getProvider("auth-internal")),new gS(o.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Pe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(y.options.projectId,_)}(f,s),f);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Cs(gg,"4.7.6",e),Cs(gg,"4.7.6","esm2017")})();const PC={apiKey:"AIzaSyC6zIcLTjESolnaYSaU4rRU95A4fc1f6Yk",authDomain:"pgishonimfaker.firebaseapp.com",projectId:"pgishonimfaker",storageBucket:"pgishonimfaker.appspot.com",messagingSenderId:"841092949549",appId:"1:841092949549:web:7d113de78ac0535737faa4",measurementId:"G-DL0YJL3PWD"},xC=Ny(PC),kC=aC(xC),e_=oC(kC,"permits"),DC=async r=>{const e={name:r,time:Date.now()};console.log("Data to save:",e);try{await CC(e_,e)}catch(n){console.error("Error saving data:",n)}},NC=async()=>{try{return(await IC(e_)).docs.map(n=>n.data()).sort((n,o)=>o.time-n.time)}catch(r){console.error("Error fetching data:",r)}};Ry.setAppElement("#root");function VC(){const[r,e]=X.useState(!0),[n,o]=X.useState(""),s=T=>{T.preventDefault(),e(!1),DC(n)},l=new Date,f=`${String(l.getDate()).padStart(2,"0")}/${String(l.getMonth()+1).padStart(2,"0")}/${String(l.getFullYear()).slice(2)}`,g=new Date().getHours(),y=g+2,_=`${String(g).padStart(2,"0")}:00`,w=`${String(y).padStart(2,"0")}:00`;return Ae.jsxs(Ae.Fragment,{children:[Ae.jsx(Ry,{isOpen:r,onRequestClose:()=>e(!1),className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",overlayClassName:"",children:Ae.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 w-80",children:Ae.jsxs("form",{onSubmit:s,className:"space-y-4",children:[Ae.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Enter your name"}),Ae.jsx("input",{type:"text",id:"name",value:n,onChange:T=>o(T.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-indigo-300"}),Ae.jsx("button",{type:"submit",className:"w-full py-2 text-white bg-indigo-600 rounded-lg hover:bg-indigo-500 focus:outline-none",children:"Submit"})]})})}),Ae.jsx("div",{className:"absolute top-0 left-0 flex justify-center items-center w-screen h-screen bg-[#173fa1] ariel",children:Ae.jsxs("div",{className:"w-[90%] h-[95%] flex flex-col items-center gap-4 bg-[rgb(255,255,255,0.85)] rounded-[40px] overflow-hidden",children:[Ae.jsxs("div",{className:"h-[50px] w-full mt-2 flex justify-between items-center",children:[Ae.jsxs("div",{className:"flex justify-center items-center gap-3 ml-4",children:[Ae.jsx("img",{className:"w-10 rounded-lg",src:pT,alt:"Flag"}),Ae.jsx("h2",{className:"text-[17px] font-semibold",dir:"rtl",children:"שפה:"})]}),Ae.jsx("img",{className:"w-8 rounded-lg mr-4",src:mT,alt:"home"})]}),Ae.jsx("h2",{className:"text-[20px] font-bold",children:"הדפסת אישור יציאה"}),Ae.jsxs("div",{className:"text-[16px] font-bold flex justify-between flex-row-reverse w-[90%]",children:[Ae.jsxs("h2",{children:["תאריך: ",f]}),Ae.jsxs("h2",{children:["שעת השחרור: ",_," - ",w]})]}),Ae.jsxs("div",{className:"text-[16px] font-bold flex justify-between flex-row-reverse w-[90%]",children:[Ae.jsxs("h2",{children:["שם התלמיד: ",n]}),Ae.jsx("h2",{children:"כיתה : יב2"})]}),Ae.jsxs("div",{className:"text-[16px] font-bold flex justify-between flex-row-reverse w-[90%]",children:[Ae.jsx("h2",{children:"סיבה: חלון"}),Ae.jsxs("h2",{children:["סטטוס :"," ",Ae.jsx("span",{className:"bg-[#028851] text-[#fff] text-[14px] p-2 rounded-md",children:"אושר"})]})]}),Ae.jsx("div",{className:"text-[16px] font-bold flex justify-between flex-row-reverse w-[90%]",children:Ae.jsx("h2",{children:"מחזוריות: חד פעמי"})}),Ae.jsxs("div",{className:"text-[16px] font-bold flex justify-between flex-row-reverse w-[90%]",children:[Ae.jsx("h2",{children:"שעת יציאה: 00:00"}),Ae.jsx("h2",{children:"שעת חזרה: 00:00"})]}),Ae.jsx("div",{className:"w-[90%] h-[50px] bg-gradient-to-r from-[#01dbdd] to-[#193ea7] rounded-[15px] flex justify-center items-center",children:Ae.jsx("h1",{className:"text-white text-[18px] font-bold",dir:"rtl",children:"עדכון יציאה מבית הספר!"})}),Ae.jsx("div",{className:"h-[30%] flex justify-center items-center",children:Ae.jsx("img",{className:"w-[45vw]",src:gT,alt:""})}),Ae.jsx("div",{className:"text-[16px] font-bold ",children:Ae.jsx("h2",{children:"אושר על ידי: מחנכת כיתה"})})]})})]})}const LC=()=>{const[r,e]=X.useState([]);return X.useEffect(()=>{(async()=>{const o=await NC();e(o??[])})()},[]),Ae.jsxs(Ae.Fragment,{children:[Ae.jsxs("div",{className:"w-screen h-[40vh] flex flex-col justify-center items-center content-center",children:[Ae.jsx("h1",{className:"text-[3.5rem] text-gray-600 font-bold",children:":סטטיסטיקות"}),Ae.jsxs("h1",{className:"text-3xl text-gray-500 font-bold",children:["אישורים שנוצרו: ",r.length]})]}),Ae.jsx("div",{className:"w-screen flex flex-col justify-center items-center gap-4 mb-16",children:r.map(n=>Ae.jsxs("div",{className:"flex flex-row-reverse justify-between w-[80%] py-4 px-4 bg-gray-200 border-gray-300 border-[2px] rounded-xl",children:[Ae.jsx("p",{children:n.name}),Ae.jsx("p",{children:new Date(n.time).toLocaleString()})]},n.time))})]})},OC=()=>Ae.jsxs("div",{className:"w-screen h-screen flex flex-col justify-center items-center content-center",children:[Ae.jsx("h1",{className:"text-[5rem] text-red-600 font-bold",children:"404!"}),Ae.jsx("h1",{className:"text-3xl text-red-600 font-bold",children:"Page not found..."}),Ae.jsx(Dh,{to:"/",className:"mt-16",children:Ae.jsx("div",{className:"bg-gray-300 py-4 px-6 rounded-xl",children:"Go Back"})})]}),MC=eT([{path:"/",element:Ae.jsx(VC,{}),errorElement:Ae.jsx(OC,{})},{path:"/stats",element:Ae.jsx(LC,{})}]);hE.createRoot(document.getElementById("root")).render(Ae.jsx(X.StrictMode,{children:Ae.jsx(dT,{router:MC})}));
