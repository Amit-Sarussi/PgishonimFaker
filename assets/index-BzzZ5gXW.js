(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var gh={exports:{}},ha={},yh={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function yv(){if(Gp)return Ue;Gp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,$={};function j(O,Y,Ee){this.props=O,this.context=Y,this.refs=$,this.updater=Ee||P}j.prototype.isReactComponent={},j.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=j.prototype;function re(O,Y,Ee){this.props=O,this.context=Y,this.refs=$,this.updater=Ee||P}var ie=re.prototype=new K;ie.constructor=re,V(ie,j.prototype),ie.isPureReactComponent=!0;var me=Array.isArray,U=Object.prototype.hasOwnProperty,fe={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(O,Y,Ee){var Me,Ve={},je=null,Je=null;if(Y!=null)for(Me in Y.ref!==void 0&&(Je=Y.ref),Y.key!==void 0&&(je=""+Y.key),Y)U.call(Y,Me)&&!x.hasOwnProperty(Me)&&(Ve[Me]=Y[Me]);var Ze=arguments.length-2;if(Ze===1)Ve.children=Ee;else if(1<Ze){for(var Fe=Array(Ze),ft=0;ft<Ze;ft++)Fe[ft]=arguments[ft+2];Ve.children=Fe}if(O&&O.defaultProps)for(Me in Ze=O.defaultProps,Ze)Ve[Me]===void 0&&(Ve[Me]=Ze[Me]);return{$$typeof:i,type:O,key:je,ref:Je,props:Ve,_owner:fe.current}}function R(O,Y){return{$$typeof:i,type:O.type,key:Y,ref:O.ref,props:O.props,_owner:O._owner}}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Ee){return Y[Ee]})}var b=/\/+/g;function A(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function ct(O,Y,Ee,Me,Ve){var je=typeof O;(je==="undefined"||je==="boolean")&&(O=null);var Je=!1;if(O===null)Je=!0;else switch(je){case"string":case"number":Je=!0;break;case"object":switch(O.$$typeof){case i:case e:Je=!0}}if(Je)return Je=O,Ve=Ve(Je),O=Me===""?"."+A(Je,0):Me,me(Ve)?(Ee="",O!=null&&(Ee=O.replace(b,"$&/")+"/"),ct(Ve,Y,Ee,"",function(ft){return ft})):Ve!=null&&(k(Ve)&&(Ve=R(Ve,Ee+(!Ve.key||Je&&Je.key===Ve.key?"":(""+Ve.key).replace(b,"$&/")+"/")+O)),Y.push(Ve)),1;if(Je=0,Me=Me===""?".":Me+":",me(O))for(var Ze=0;Ze<O.length;Ze++){je=O[Ze];var Fe=Me+A(je,Ze);Je+=ct(je,Y,Ee,Fe,Ve)}else if(Fe=I(O),typeof Fe=="function")for(O=Fe.call(O),Ze=0;!(je=O.next()).done;)je=je.value,Fe=Me+A(je,Ze++),Je+=ct(je,Y,Ee,Fe,Ve);else if(je==="object")throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Je}function Be(O,Y,Ee){if(O==null)return O;var Me=[],Ve=0;return ct(O,Me,"","",function(je){return Y.call(Ee,je,Ve++)}),Me}function Ct(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(Ee){(O._status===0||O._status===-1)&&(O._status=1,O._result=Ee)},function(Ee){(O._status===0||O._status===-1)&&(O._status=2,O._result=Ee)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ke={current:null},oe={transition:null},Te={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:oe,ReactCurrentOwner:fe};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:Be,forEach:function(O,Y,Ee){Be(O,function(){Y.apply(this,arguments)},Ee)},count:function(O){var Y=0;return Be(O,function(){Y++}),Y},toArray:function(O){return Be(O,function(Y){return Y})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ue.Component=j,Ue.Fragment=n,Ue.Profiler=o,Ue.PureComponent=re,Ue.StrictMode=s,Ue.Suspense=g,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,Ue.act=ce,Ue.cloneElement=function(O,Y,Ee){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Me=V({},O.props),Ve=O.key,je=O.ref,Je=O._owner;if(Y!=null){if(Y.ref!==void 0&&(je=Y.ref,Je=fe.current),Y.key!==void 0&&(Ve=""+Y.key),O.type&&O.type.defaultProps)var Ze=O.type.defaultProps;for(Fe in Y)U.call(Y,Fe)&&!x.hasOwnProperty(Fe)&&(Me[Fe]=Y[Fe]===void 0&&Ze!==void 0?Ze[Fe]:Y[Fe])}var Fe=arguments.length-2;if(Fe===1)Me.children=Ee;else if(1<Fe){Ze=Array(Fe);for(var ft=0;ft<Fe;ft++)Ze[ft]=arguments[ft+2];Me.children=Ze}return{$$typeof:i,type:O.type,key:Ve,ref:je,props:Me,_owner:Je}},Ue.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},Ue.createElement=T,Ue.createFactory=function(O){var Y=T.bind(null,O);return Y.type=O,Y},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(O){return{$$typeof:d,render:O}},Ue.isValidElement=k,Ue.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:Ct}},Ue.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Ue.startTransition=function(O){var Y=oe.transition;oe.transition={};try{O()}finally{oe.transition=Y}},Ue.unstable_act=ce,Ue.useCallback=function(O,Y){return Ke.current.useCallback(O,Y)},Ue.useContext=function(O){return Ke.current.useContext(O)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(O){return Ke.current.useDeferredValue(O)},Ue.useEffect=function(O,Y){return Ke.current.useEffect(O,Y)},Ue.useId=function(){return Ke.current.useId()},Ue.useImperativeHandle=function(O,Y,Ee){return Ke.current.useImperativeHandle(O,Y,Ee)},Ue.useInsertionEffect=function(O,Y){return Ke.current.useInsertionEffect(O,Y)},Ue.useLayoutEffect=function(O,Y){return Ke.current.useLayoutEffect(O,Y)},Ue.useMemo=function(O,Y){return Ke.current.useMemo(O,Y)},Ue.useReducer=function(O,Y,Ee){return Ke.current.useReducer(O,Y,Ee)},Ue.useRef=function(O){return Ke.current.useRef(O)},Ue.useState=function(O){return Ke.current.useState(O)},Ue.useSyncExternalStore=function(O,Y,Ee){return Ke.current.useSyncExternalStore(O,Y,Ee)},Ue.useTransition=function(){return Ke.current.useTransition()},Ue.version="18.3.1",Ue}var Yp;function nf(){return Yp||(Yp=1,yh.exports=yv()),yh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function _v(){if(Xp)return ha;Xp=1;var i=nf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(d,g,y){var E,S={},I=null,P=null;y!==void 0&&(I=""+y),g.key!==void 0&&(I=""+g.key),g.ref!==void 0&&(P=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(S[E]=g[E]);if(d&&d.defaultProps)for(E in g=d.defaultProps,g)S[E]===void 0&&(S[E]=g[E]);return{$$typeof:e,type:d,key:I,ref:P,props:S,_owner:o.current}}return ha.Fragment=n,ha.jsx=h,ha.jsxs=h,ha}var Jp;function vv(){return Jp||(Jp=1,gh.exports=_v()),gh.exports}var ue=vv(),q=nf(),Ql={},_h={exports:{}},An={},vh={exports:{}},Eh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function Ev(){return Zp||(Zp=1,function(i){function e(oe,Te){var ce=oe.length;oe.push(Te);e:for(;0<ce;){var O=ce-1>>>1,Y=oe[O];if(0<o(Y,Te))oe[O]=Te,oe[ce]=Y,ce=O;else break e}}function n(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var Te=oe[0],ce=oe.pop();if(ce!==Te){oe[0]=ce;e:for(var O=0,Y=oe.length,Ee=Y>>>1;O<Ee;){var Me=2*(O+1)-1,Ve=oe[Me],je=Me+1,Je=oe[je];if(0>o(Ve,ce))je<Y&&0>o(Je,Ve)?(oe[O]=Je,oe[je]=ce,O=je):(oe[O]=Ve,oe[Me]=ce,O=Me);else if(je<Y&&0>o(Je,ce))oe[O]=Je,oe[je]=ce,O=je;else break e}}return Te}function o(oe,Te){var ce=oe.sortIndex-Te.sortIndex;return ce!==0?ce:oe.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var g=[],y=[],E=1,S=null,I=3,P=!1,V=!1,$=!1,j=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(oe){for(var Te=n(y);Te!==null;){if(Te.callback===null)s(y);else if(Te.startTime<=oe)s(y),Te.sortIndex=Te.expirationTime,e(g,Te);else break;Te=n(y)}}function me(oe){if($=!1,ie(oe),!V)if(n(g)!==null)V=!0,Ct(U);else{var Te=n(y);Te!==null&&Ke(me,Te.startTime-oe)}}function U(oe,Te){V=!1,$&&($=!1,K(T),T=-1),P=!0;var ce=I;try{for(ie(Te),S=n(g);S!==null&&(!(S.expirationTime>Te)||oe&&!L());){var O=S.callback;if(typeof O=="function"){S.callback=null,I=S.priorityLevel;var Y=O(S.expirationTime<=Te);Te=i.unstable_now(),typeof Y=="function"?S.callback=Y:S===n(g)&&s(g),ie(Te)}else s(g);S=n(g)}if(S!==null)var Ee=!0;else{var Me=n(y);Me!==null&&Ke(me,Me.startTime-Te),Ee=!1}return Ee}finally{S=null,I=ce,P=!1}}var fe=!1,x=null,T=-1,R=5,k=-1;function L(){return!(i.unstable_now()-k<R)}function b(){if(x!==null){var oe=i.unstable_now();k=oe;var Te=!0;try{Te=x(!0,oe)}finally{Te?A():(fe=!1,x=null)}}else fe=!1}var A;if(typeof re=="function")A=function(){re(b)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,Be=ct.port2;ct.port1.onmessage=b,A=function(){Be.postMessage(null)}}else A=function(){j(b,0)};function Ct(oe){x=oe,fe||(fe=!0,A())}function Ke(oe,Te){T=j(function(){oe(i.unstable_now())},Te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(oe){oe.callback=null},i.unstable_continueExecution=function(){V||P||(V=!0,Ct(U))},i.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<oe?Math.floor(1e3/oe):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(oe){switch(I){case 1:case 2:case 3:var Te=3;break;default:Te=I}var ce=I;I=Te;try{return oe()}finally{I=ce}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(oe,Te){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ce=I;I=oe;try{return Te()}finally{I=ce}},i.unstable_scheduleCallback=function(oe,Te,ce){var O=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?O+ce:O):ce=O,oe){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ce+Y,oe={id:E++,callback:Te,priorityLevel:oe,startTime:ce,expirationTime:Y,sortIndex:-1},ce>O?(oe.sortIndex=ce,e(y,oe),n(g)===null&&oe===n(y)&&($?(K(T),T=-1):$=!0,Ke(me,ce-O))):(oe.sortIndex=Y,e(g,oe),V||P||(V=!0,Ct(U))),oe},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(oe){var Te=I;return function(){var ce=I;I=Te;try{return oe.apply(this,arguments)}finally{I=ce}}}}(Eh)),Eh}var em;function wv(){return em||(em=1,vh.exports=Ev()),vh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function Tv(){if(tm)return An;tm=1;var i=nf(),e=wv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(o[t]=r,t=0;t<r.length;t++)s.add(r[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function I(t){return g.call(S,t)?!0:g.call(E,t)?!1:y.test(t)?S[t]=!0:(E[t]=!0,!1)}function P(t,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function V(t,r,a,c){if(r===null||typeof r>"u"||P(t,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $(t,r,a,c,f,m,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=v}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){j[t]=new $(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];j[r]=new $(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){j[t]=new $(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){j[t]=new $(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){j[t]=new $(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){j[t]=new $(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){j[t]=new $(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){j[t]=new $(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){j[t]=new $(t,5,!1,t.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function re(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(K,re);j[r]=new $(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(K,re);j[r]=new $(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(K,re);j[r]=new $(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){j[t]=new $(t,1,!1,t.toLowerCase(),null,!1,!1)}),j.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){j[t]=new $(t,1,!1,t.toLowerCase(),null,!0,!0)});function ie(t,r,a,c){var f=j.hasOwnProperty(r)?j[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(V(r,a,f,c)&&(a=null),c||f===null?I(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):f.mustUseProperty?t[f.propertyName]=a===null?f.type===3?!1:"":a:(r=f.attributeName,c=f.attributeNamespace,a===null?t.removeAttribute(r):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?t.setAttributeNS(c,r,a):t.setAttribute(r,a))))}var me=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),fe=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Ke=Symbol.for("react.offscreen"),oe=Symbol.iterator;function Te(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Object.assign,O;function Y(t){if(O===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+t}var Ee=!1;function Me(t,r){if(!t||Ee)return"";Ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(W){var c=W}Reflect.construct(t,[],r)}else{try{r.call()}catch(W){c=W}t.call(r.prototype)}else{try{throw Error()}catch(W){c=W}t()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),m=c.stack.split(`
`),v=f.length-1,C=m.length-1;1<=v&&0<=C&&f[v]!==m[C];)C--;for(;1<=v&&0<=C;v--,C--)if(f[v]!==m[C]){if(v!==1||C!==1)do if(v--,C--,0>C||f[v]!==m[C]){var D=`
`+f[v].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=v&&0<=C);break}}}finally{Ee=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?Y(t):""}function Ve(t){switch(t.tag){case 5:return Y(t.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return t=Me(t.type,!1),t;case 11:return t=Me(t.type.render,!1),t;case 1:return t=Me(t.type,!0),t;default:return""}}function je(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case fe:return"Portal";case R:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case ct:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case b:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Be:return r=t.displayName||null,r!==null?r:je(t.type)||"Memo";case Ct:r=t._payload,t=t._init;try{return je(t(r))}catch{}}return null}function Je(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ze(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fe(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ft(t){var r=Fe(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function bn(t){t._valueTracker||(t._valueTracker=ft(t))}function ci(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return t&&(c=Fe(t)?t.checked?"true":"false":t.value),t=c,t!==a?(r.setValue(t),!0):!1}function tn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ur(t,r){var a=r.checked;return ce({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function hi(t,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=Ze(r.value!=null?r.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function fi(t,r){r=r.checked,r!=null&&ie(t,"checked",r,!1)}function es(t,r){fi(t,r);var a=Ze(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?di(t,r.type,a):r.hasOwnProperty("defaultValue")&&di(t,r.type,Ze(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Vs(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function di(t,r,a){(r!=="number"||tn(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Gn=Array.isArray;function Ht(t,r,a,c){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Ze(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Yn(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jr(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(n(92));if(Gn(a)){if(1<a.length)throw Error(n(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:Ze(a)}}function _r(t,r){var a=Ze(r.value),c=Ze(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function yn(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?at(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xn,ts=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,f){MSApp.execUnsafeLocalFunction(function(){return t(r,a,c,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(xn=xn||document.createElement("div"),xn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=xn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function qt(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Er=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(t){Er.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),vr[r]=vr[t]})});function pi(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||vr.hasOwnProperty(t)&&vr[t]?(""+r).trim():r+"px"}function ns(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=pi(a,r[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,f):t[a]=f}}var mi=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wr(t,r){if(r){if(mi[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function gi(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xn=null;function yi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zr=null,_n=null,kn=null;function Jn(t){if(t=Yo(t)){if(typeof zr!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ul(r),zr(t.stateNode,t.type,r))}}function fn(t){_n?kn?kn.push(t):kn=[t]:_n=t}function rs(){if(_n){var t=_n,r=kn;if(kn=_n=null,Jn(t),r)for(t=0;t<r.length;t++)Jn(r[t])}}function Br(t,r){return t(r)}function N(){}var F=!1;function Q(t,r,a){if(F)return t(r,a);F=!0;try{return Br(t,r,a)}finally{F=!1,(_n!==null||kn!==null)&&(N(),rs())}}function X(t,r){var a=t.stateNode;if(a===null)return null;var c=ul(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(n(231,r,typeof a));return a}var he=!1;if(d)try{var ye={};Object.defineProperty(ye,"passive",{get:function(){he=!0}}),window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch{he=!1}function Ce(t,r,a,c,f,m,v,C,D){var W=Array.prototype.slice.call(arguments,3);try{r.apply(a,W)}catch(ee){this.onError(ee)}}var de=!1,ve=null,ae=!1,ke=null,be={onError:function(t){de=!0,ve=t}};function rt(t,r,a,c,f,m,v,C,D){de=!1,ve=null,Ce.apply(be,arguments)}function It(t,r,a,c,f,m,v,C,D){if(rt.apply(this,arguments),de){if(de){var W=ve;de=!1,ve=null}else throw Error(n(198));ae||(ae=!0,ke=W)}}function $e(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function et(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function it(t){if($e(t)!==t)throw Error(n(188))}function Zn(t){var r=t.alternate;if(!r){if(r=$e(t),r===null)throw Error(n(188));return r!==t?null:t}for(var a=t,c=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return it(f),t;if(m===c)return it(f),r;m=m.sibling}throw Error(n(188))}if(a.return!==c.return)a=f,c=m;else{for(var v=!1,C=f.child;C;){if(C===a){v=!0,a=f,c=m;break}if(C===c){v=!0,c=f,a=m;break}C=C.sibling}if(!v){for(C=m.child;C;){if(C===a){v=!0,a=m,c=f;break}if(C===c){v=!0,c=m,a=f;break}C=C.sibling}if(!v)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?t:r}function er(t){return t=Zn(t),t!==null?nn(t):null}function nn(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=nn(t);if(r!==null)return r;t=t.sibling}return null}var Wt=e.unstable_scheduleCallback,$r=e.unstable_cancelCallback,Tr=e.unstable_shouldYield,tr=e.unstable_requestPaint,st=e.unstable_now,Hr=e.unstable_getCurrentPriorityLevel,Qe=e.unstable_ImmediatePriority,dt=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,nr=e.unstable_LowPriority,pt=e.unstable_IdlePriority,vn=null,rn=null;function Ls(t){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(vn,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:za,Lo=Math.log,ja=Math.LN2;function za(t){return t>>>=0,t===0?32:31-(Lo(t)/ja|0)|0}var Ms=64,Os=4194304;function _i(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function is(t,r){var a=t.pendingLanes;if(a===0)return 0;var c=0,f=t.suspendedLanes,m=t.pingedLanes,v=a&268435455;if(v!==0){var C=v&~f;C!==0?c=_i(C):(m&=v,m!==0&&(c=_i(m)))}else v=a&~f,v!==0?c=_i(v):m!==0&&(c=_i(m));if(c===0)return 0;if(r!==0&&r!==c&&!(r&f)&&(f=c&-c,m=r&-r,f>=m||f===16&&(m&4194240)!==0))return r;if(c&4&&(c|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)a=31-dn(r),f=1<<a,c|=t[a],r&=~f;return c}function Wu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qr(t,r){for(var a=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes;0<m;){var v=31-dn(m),C=1<<v,D=f[v];D===-1?(!(C&a)||C&c)&&(f[v]=Wu(C,r)):D<=r&&(t.expiredLanes|=C),m&=~C}}function Dn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ss(){var t=Ms;return Ms<<=1,!(Ms&4194240)&&(Ms=64),t}function vi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ei(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-dn(r),t[r]=a}function ut(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var f=31-dn(a),m=1<<f;r[f]=0,c[f]=-1,t[f]=-1,a&=~m}}function wi(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var c=31-dn(a),f=1<<c;f&r|t[c]&r&&(t[c]|=r),a&=~f}}var He=0;function Ti(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ba,Fs,$a,Ha,qa,Mo=!1,Sr=[],Qt=null,rr=null,ir=null,Si=new Map,Un=new Map,Ir=[],Ku="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wa(t,r){switch(t){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Si.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(r.pointerId)}}function En(t,r,a,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Yo(r),r!==null&&Fs(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Qu(t,r,a,c,f){switch(r){case"focusin":return Qt=En(Qt,t,r,a,c,f),!0;case"dragenter":return rr=En(rr,t,r,a,c,f),!0;case"mouseover":return ir=En(ir,t,r,a,c,f),!0;case"pointerover":var m=f.pointerId;return Si.set(m,En(Si.get(m)||null,t,r,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Un.set(m,En(Un.get(m)||null,t,r,a,c,f)),!0}return!1}function Ka(t){var r=cs(t.target);if(r!==null){var a=$e(r);if(a!==null){if(r=a.tag,r===13){if(r=et(a),r!==null){t.blockedOn=r,qa(t.priority,function(){$a(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=bs(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Xn=c,a.target.dispatchEvent(c),Xn=null}else return r=Yo(a),r!==null&&Fs(r),t.blockedOn=a,!1;r.shift()}return!0}function os(t,r,a){Wr(t)&&a.delete(r)}function Qa(){Mo=!1,Qt!==null&&Wr(Qt)&&(Qt=null),rr!==null&&Wr(rr)&&(rr=null),ir!==null&&Wr(ir)&&(ir=null),Si.forEach(os),Un.forEach(os)}function sr(t,r){t.blockedOn===r&&(t.blockedOn=null,Mo||(Mo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qa)))}function or(t){function r(f){return sr(f,t)}if(0<Sr.length){sr(Sr[0],t);for(var a=1;a<Sr.length;a++){var c=Sr[a];c.blockedOn===t&&(c.blockedOn=null)}}for(Qt!==null&&sr(Qt,t),rr!==null&&sr(rr,t),ir!==null&&sr(ir,t),Si.forEach(r),Un.forEach(r),a=0;a<Ir.length;a++)c=Ir[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<Ir.length&&(a=Ir[0],a.blockedOn===null);)Ka(a),a.blockedOn===null&&Ir.shift()}var Kr=me.ReactCurrentBatchConfig,Ii=!0;function yt(t,r,a,c){var f=He,m=Kr.transition;Kr.transition=null;try{He=1,Oo(t,r,a,c)}finally{He=f,Kr.transition=m}}function Gu(t,r,a,c){var f=He,m=Kr.transition;Kr.transition=null;try{He=4,Oo(t,r,a,c)}finally{He=f,Kr.transition=m}}function Oo(t,r,a,c){if(Ii){var f=bs(t,r,a,c);if(f===null)oc(t,r,c,as,a),Wa(t,c);else if(Qu(f,t,r,a,c))c.stopPropagation();else if(Wa(t,c),r&4&&-1<Ku.indexOf(t)){for(;f!==null;){var m=Yo(f);if(m!==null&&Ba(m),m=bs(t,r,a,c),m===null&&oc(t,r,c,as,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else oc(t,r,c,null,a)}}var as=null;function bs(t,r,a,c){if(as=null,t=yi(c),t=cs(t),t!==null)if(r=$e(t),r===null)t=null;else if(a=r.tag,a===13){if(t=et(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return as=t,null}function Fo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hr()){case Qe:return 1;case dt:return 4;case Kt:case nr:return 16;case pt:return 536870912;default:return 16}default:return 16}}var Nn=null,Us=null,wn=null;function bo(){if(wn)return wn;var t,r=Us,a=r.length,c,f="value"in Nn?Nn.value:Nn.textContent,m=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(c=1;c<=v&&r[a-c]===f[m-c];c++);return wn=f.slice(t,1<c?1-c:void 0)}function js(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Rr(){return!0}function Uo(){return!1}function Gt(t){function r(a,c,f,m,v){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Rr:Uo,this.isPropagationStopped=Uo,this}return ce(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),r}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zs=Gt(ar),Cr=ce({},ar,{view:0,detail:0}),Yu=Gt(Cr),Bs,Qr,Ri,ls=ce({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Bs=t.screenX-Ri.screenX,Qr=t.screenY-Ri.screenY):Qr=Bs=0,Ri=t),Bs)},movementY:function(t){return"movementY"in t?t.movementY:Qr}}),$s=Gt(ls),jo=ce({},ls,{dataTransfer:0}),Ga=Gt(jo),Hs=ce({},Cr,{relatedTarget:0}),qs=Gt(Hs),Ya=ce({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Gr=Gt(Ya),Xa=ce({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ja=Gt(Xa),Za=ce({},ar,{data:0}),zo=Gt(Za),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},el={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=el[t])?!!r[t]:!1}function Ar(){return tl}var l=ce({},Cr,{key:function(t){if(t.key){var r=Ws[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(t){return t.type==="keypress"?js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p=Gt(l),_=ce({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Gt(_),z=ce({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),G=Gt(z),le=ce({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),lt=Gt(le),Nt=ce({},ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Gt(Nt),bt=[9,13,27,32],xt=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var Vn=d&&"TextEvent"in window&&!jn,us=d&&(!xt||jn&&8<jn&&11>=jn),Ks=" ",$f=!1;function Hf(t,r){switch(t){case"keyup":return bt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function m_(t,r){switch(t){case"compositionend":return qf(r);case"keypress":return r.which!==32?null:($f=!0,Ks);case"textInput":return t=r.data,t===Ks&&$f?null:t;default:return null}}function g_(t,r){if(Qs)return t==="compositionend"||!xt&&Hf(t,r)?(t=bo(),wn=Us=Nn=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return us&&r.locale!=="ko"?null:r.data;default:return null}}var y_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!y_[t.type]:r==="textarea"}function Kf(t,r,a,c){fn(c),r=ol(r,"onChange"),0<r.length&&(a=new zs("onChange","change",null,a,c),t.push({event:a,listeners:r}))}var Bo=null,$o=null;function __(t){hd(t,0)}function nl(t){var r=Zs(t);if(ci(r))return t}function v_(t,r){if(t==="change")return r}var Qf=!1;if(d){var Xu;if(d){var Ju="oninput"in document;if(!Ju){var Gf=document.createElement("div");Gf.setAttribute("oninput","return;"),Ju=typeof Gf.oninput=="function"}Xu=Ju}else Xu=!1;Qf=Xu&&(!document.documentMode||9<document.documentMode)}function Yf(){Bo&&(Bo.detachEvent("onpropertychange",Xf),$o=Bo=null)}function Xf(t){if(t.propertyName==="value"&&nl($o)){var r=[];Kf(r,$o,t,yi(t)),Q(__,r)}}function E_(t,r,a){t==="focusin"?(Yf(),Bo=r,$o=a,Bo.attachEvent("onpropertychange",Xf)):t==="focusout"&&Yf()}function w_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nl($o)}function T_(t,r){if(t==="click")return nl(r)}function S_(t,r){if(t==="input"||t==="change")return nl(r)}function I_(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var lr=typeof Object.is=="function"?Object.is:I_;function Ho(t,r){if(lr(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!g.call(r,f)||!lr(t[f],r[f]))return!1}return!0}function Jf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zf(t,r){var a=Jf(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=r&&c>=r)return{node:a,offset:r-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jf(a)}}function ed(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ed(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function td(){for(var t=window,r=tn();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=tn(t.document)}return r}function Zu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function R_(t){var r=td(),a=t.focusedElem,c=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&ed(a.ownerDocument.documentElement,a)){if(c!==null&&Zu(a)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=a.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!t.extend&&m>c&&(f=c,c=m,m=f),f=Zf(a,m);var v=Zf(a,c);f&&v&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),m>c?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var C_=d&&"documentMode"in document&&11>=document.documentMode,Gs=null,ec=null,qo=null,tc=!1;function nd(t,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tc||Gs==null||Gs!==tn(c)||(c=Gs,"selectionStart"in c&&Zu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),qo&&Ho(qo,c)||(qo=c,c=ol(ec,"onSelect"),0<c.length&&(r=new zs("onSelect","select",null,r,a),t.push({event:r,listeners:c}),r.target=Gs)))}function rl(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ys={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionend:rl("Transition","TransitionEnd")},nc={},rd={};d&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function il(t){if(nc[t])return nc[t];if(!Ys[t])return t;var r=Ys[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in rd)return nc[t]=r[a];return t}var id=il("animationend"),sd=il("animationiteration"),od=il("animationstart"),ad=il("transitionend"),ld=new Map,ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(t,r){ld.set(t,r),u(r,[t])}for(var rc=0;rc<ud.length;rc++){var ic=ud[rc],A_=ic.toLowerCase(),P_=ic[0].toUpperCase()+ic.slice(1);Ci(A_,"on"+P_)}Ci(id,"onAnimationEnd"),Ci(sd,"onAnimationIteration"),Ci(od,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(ad,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function cd(t,r,a){var c=t.type||"unknown-event";t.currentTarget=a,It(c,r,void 0,t),t.currentTarget=null}function hd(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],f=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var v=c.length-1;0<=v;v--){var C=c[v],D=C.instance,W=C.currentTarget;if(C=C.listener,D!==m&&f.isPropagationStopped())break e;cd(f,C,W),m=D}else for(v=0;v<c.length;v++){if(C=c[v],D=C.instance,W=C.currentTarget,C=C.listener,D!==m&&f.isPropagationStopped())break e;cd(f,C,W),m=D}}}if(ae)throw t=ke,ae=!1,ke=null,t}function mt(t,r){var a=r[fc];a===void 0&&(a=r[fc]=new Set);var c=t+"__bubble";a.has(c)||(fd(r,t,2,!1),a.add(c))}function sc(t,r,a){var c=0;r&&(c|=4),fd(a,t,c,r)}var sl="_reactListening"+Math.random().toString(36).slice(2);function Ko(t){if(!t[sl]){t[sl]=!0,s.forEach(function(a){a!=="selectionchange"&&(x_.has(a)||sc(a,!1,t),sc(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[sl]||(r[sl]=!0,sc("selectionchange",!1,r))}}function fd(t,r,a,c){switch(Fo(r)){case 1:var f=yt;break;case 4:f=Gu;break;default:f=Oo}a=f.bind(null,r,a,t),f=void 0,!he||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function oc(t,r,a,c,f){var m=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var C=c.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var D=v.tag;if((D===3||D===4)&&(D=v.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;v=v.return}for(;C!==null;){if(v=cs(C),v===null)return;if(D=v.tag,D===5||D===6){c=m=v;continue e}C=C.parentNode}}c=c.return}Q(function(){var W=m,ee=yi(a),ne=[];e:{var Z=ld.get(t);if(Z!==void 0){var pe=zs,we=t;switch(t){case"keypress":if(js(a)===0)break e;case"keydown":case"keyup":pe=p;break;case"focusin":we="focus",pe=qs;break;case"focusout":we="blur",pe=qs;break;case"beforeblur":case"afterblur":pe=qs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=$s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Ga;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=G;break;case id:case sd:case od:pe=Gr;break;case ad:pe=lt;break;case"scroll":pe=Yu;break;case"wheel":pe=Ge;break;case"copy":case"cut":case"paste":pe=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=w}var Se=(r&4)!==0,At=!Se&&t==="scroll",B=Se?Z!==null?Z+"Capture":null:Z;Se=[];for(var M=W,H;M!==null;){H=M;var se=H.stateNode;if(H.tag===5&&se!==null&&(H=se,B!==null&&(se=X(M,B),se!=null&&Se.push(Qo(M,se,H)))),At)break;M=M.return}0<Se.length&&(Z=new pe(Z,we,null,a,ee),ne.push({event:Z,listeners:Se}))}}if(!(r&7)){e:{if(Z=t==="mouseover"||t==="pointerover",pe=t==="mouseout"||t==="pointerout",Z&&a!==Xn&&(we=a.relatedTarget||a.fromElement)&&(cs(we)||we[Yr]))break e;if((pe||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,pe?(we=a.relatedTarget||a.toElement,pe=W,we=we?cs(we):null,we!==null&&(At=$e(we),we!==At||we.tag!==5&&we.tag!==6)&&(we=null)):(pe=null,we=W),pe!==we)){if(Se=$s,se="onMouseLeave",B="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Se=w,se="onPointerLeave",B="onPointerEnter",M="pointer"),At=pe==null?Z:Zs(pe),H=we==null?Z:Zs(we),Z=new Se(se,M+"leave",pe,a,ee),Z.target=At,Z.relatedTarget=H,se=null,cs(ee)===W&&(Se=new Se(B,M+"enter",we,a,ee),Se.target=H,Se.relatedTarget=At,se=Se),At=se,pe&&we)t:{for(Se=pe,B=we,M=0,H=Se;H;H=Xs(H))M++;for(H=0,se=B;se;se=Xs(se))H++;for(;0<M-H;)Se=Xs(Se),M--;for(;0<H-M;)B=Xs(B),H--;for(;M--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=Xs(Se),B=Xs(B)}Se=null}else Se=null;pe!==null&&dd(ne,Z,pe,Se,!1),we!==null&&At!==null&&dd(ne,At,we,Se,!0)}}e:{if(Z=W?Zs(W):window,pe=Z.nodeName&&Z.nodeName.toLowerCase(),pe==="select"||pe==="input"&&Z.type==="file")var Ie=v_;else if(Wf(Z))if(Qf)Ie=S_;else{Ie=w_;var Ae=E_}else(pe=Z.nodeName)&&pe.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(Ie=T_);if(Ie&&(Ie=Ie(t,W))){Kf(ne,Ie,a,ee);break e}Ae&&Ae(t,Z,W),t==="focusout"&&(Ae=Z._wrapperState)&&Ae.controlled&&Z.type==="number"&&di(Z,"number",Z.value)}switch(Ae=W?Zs(W):window,t){case"focusin":(Wf(Ae)||Ae.contentEditable==="true")&&(Gs=Ae,ec=W,qo=null);break;case"focusout":qo=ec=Gs=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,nd(ne,a,ee);break;case"selectionchange":if(C_)break;case"keydown":case"keyup":nd(ne,a,ee)}var Pe;if(xt)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Qs?Hf(t,a)&&(De="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(us&&a.locale!=="ko"&&(Qs||De!=="onCompositionStart"?De==="onCompositionEnd"&&Qs&&(Pe=bo()):(Nn=ee,Us="value"in Nn?Nn.value:Nn.textContent,Qs=!0)),Ae=ol(W,De),0<Ae.length&&(De=new zo(De,t,null,a,ee),ne.push({event:De,listeners:Ae}),Pe?De.data=Pe:(Pe=qf(a),Pe!==null&&(De.data=Pe)))),(Pe=Vn?m_(t,a):g_(t,a))&&(W=ol(W,"onBeforeInput"),0<W.length&&(ee=new zo("onBeforeInput","beforeinput",null,a,ee),ne.push({event:ee,listeners:W}),ee.data=Pe))}hd(ne,r)})}function Qo(t,r,a){return{instance:t,listener:r,currentTarget:a}}function ol(t,r){for(var a=r+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=X(t,a),m!=null&&c.unshift(Qo(t,m,f)),m=X(t,r),m!=null&&c.push(Qo(t,m,f))),t=t.return}return c}function Xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dd(t,r,a,c,f){for(var m=r._reactName,v=[];a!==null&&a!==c;){var C=a,D=C.alternate,W=C.stateNode;if(D!==null&&D===c)break;C.tag===5&&W!==null&&(C=W,f?(D=X(a,m),D!=null&&v.unshift(Qo(a,D,C))):f||(D=X(a,m),D!=null&&v.push(Qo(a,D,C)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var k_=/\r\n?/g,D_=/\u0000|\uFFFD/g;function pd(t){return(typeof t=="string"?t:""+t).replace(k_,`
`).replace(D_,"")}function al(t,r,a){if(r=pd(r),pd(t)!==r&&a)throw Error(n(425))}function ll(){}var ac=null,lc=null;function uc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cc=typeof setTimeout=="function"?setTimeout:void 0,N_=typeof clearTimeout=="function"?clearTimeout:void 0,md=typeof Promise=="function"?Promise:void 0,V_=typeof queueMicrotask=="function"?queueMicrotask:typeof md<"u"?function(t){return md.resolve(null).then(t).catch(L_)}:cc;function L_(t){setTimeout(function(){throw t})}function hc(t,r){var a=r,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){t.removeChild(f),or(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);or(r)}function Ai(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function gd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var Js=Math.random().toString(36).slice(2),Pr="__reactFiber$"+Js,Go="__reactProps$"+Js,Yr="__reactContainer$"+Js,fc="__reactEvents$"+Js,M_="__reactListeners$"+Js,O_="__reactHandles$"+Js;function cs(t){var r=t[Pr];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Yr]||a[Pr]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=gd(t);t!==null;){if(a=t[Pr])return a;t=gd(t)}return r}t=a,a=t.parentNode}return null}function Yo(t){return t=t[Pr]||t[Yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ul(t){return t[Go]||null}var dc=[],eo=-1;function Pi(t){return{current:t}}function gt(t){0>eo||(t.current=dc[eo],dc[eo]=null,eo--)}function ht(t,r){eo++,dc[eo]=t.current,t.current=r}var xi={},sn=Pi(xi),Tn=Pi(!1),hs=xi;function to(t,r){var a=t.type.contextTypes;if(!a)return xi;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=r[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Sn(t){return t=t.childContextTypes,t!=null}function cl(){gt(Tn),gt(sn)}function yd(t,r,a){if(sn.current!==xi)throw Error(n(168));ht(sn,r),ht(Tn,a)}function _d(t,r,a){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(n(108,Je(t)||"Unknown",f));return ce({},a,c)}function hl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xi,hs=sn.current,ht(sn,t),ht(Tn,Tn.current),!0}function vd(t,r,a){var c=t.stateNode;if(!c)throw Error(n(169));a?(t=_d(t,r,hs),c.__reactInternalMemoizedMergedChildContext=t,gt(Tn),gt(sn),ht(sn,t)):gt(Tn),ht(Tn,a)}var Xr=null,fl=!1,pc=!1;function Ed(t){Xr===null?Xr=[t]:Xr.push(t)}function F_(t){fl=!0,Ed(t)}function ki(){if(!pc&&Xr!==null){pc=!0;var t=0,r=He;try{var a=Xr;for(He=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}Xr=null,fl=!1}catch(f){throw Xr!==null&&(Xr=Xr.slice(t+1)),Wt(Qe,ki),f}finally{He=r,pc=!1}}return null}var no=[],ro=0,dl=null,pl=0,zn=[],Bn=0,fs=null,Jr=1,Zr="";function ds(t,r){no[ro++]=pl,no[ro++]=dl,dl=t,pl=r}function wd(t,r,a){zn[Bn++]=Jr,zn[Bn++]=Zr,zn[Bn++]=fs,fs=t;var c=Jr;t=Zr;var f=32-dn(c)-1;c&=~(1<<f),a+=1;var m=32-dn(r)+f;if(30<m){var v=f-f%5;m=(c&(1<<v)-1).toString(32),c>>=v,f-=v,Jr=1<<32-dn(r)+f|a<<f|c,Zr=m+t}else Jr=1<<m|a<<f|c,Zr=t}function mc(t){t.return!==null&&(ds(t,1),wd(t,1,0))}function gc(t){for(;t===dl;)dl=no[--ro],no[ro]=null,pl=no[--ro],no[ro]=null;for(;t===fs;)fs=zn[--Bn],zn[Bn]=null,Zr=zn[--Bn],zn[Bn]=null,Jr=zn[--Bn],zn[Bn]=null}var Ln=null,Mn=null,_t=!1,ur=null;function Td(t,r){var a=Wn(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function Sd(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Ln=t,Mn=Ai(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Ln=t,Mn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=fs!==null?{id:Jr,overflow:Zr}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=Wn(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,Ln=t,Mn=null,!0):!1;default:return!1}}function yc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _c(t){if(_t){var r=Mn;if(r){var a=r;if(!Sd(t,r)){if(yc(t))throw Error(n(418));r=Ai(a.nextSibling);var c=Ln;r&&Sd(t,r)?Td(c,a):(t.flags=t.flags&-4097|2,_t=!1,Ln=t)}}else{if(yc(t))throw Error(n(418));t.flags=t.flags&-4097|2,_t=!1,Ln=t}}}function Id(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function ml(t){if(t!==Ln)return!1;if(!_t)return Id(t),_t=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!uc(t.type,t.memoizedProps)),r&&(r=Mn)){if(yc(t))throw Rd(),Error(n(418));for(;r;)Td(t,r),r=Ai(r.nextSibling)}if(Id(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){Mn=Ai(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}Mn=null}}else Mn=Ln?Ai(t.stateNode.nextSibling):null;return!0}function Rd(){for(var t=Mn;t;)t=Ai(t.nextSibling)}function io(){Mn=Ln=null,_t=!1}function vc(t){ur===null?ur=[t]:ur.push(t)}var b_=me.ReactCurrentBatchConfig;function Xo(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,t));var f=c,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(v){var C=f.refs;v===null?delete C[m]:C[m]=v},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,t))}return t}function gl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Cd(t){var r=t._init;return r(t._payload)}function Ad(t){function r(B,M){if(t){var H=B.deletions;H===null?(B.deletions=[M],B.flags|=16):H.push(M)}}function a(B,M){if(!t)return null;for(;M!==null;)r(B,M),M=M.sibling;return null}function c(B,M){for(B=new Map;M!==null;)M.key!==null?B.set(M.key,M):B.set(M.index,M),M=M.sibling;return B}function f(B,M){return B=bi(B,M),B.index=0,B.sibling=null,B}function m(B,M,H){return B.index=H,t?(H=B.alternate,H!==null?(H=H.index,H<M?(B.flags|=2,M):H):(B.flags|=2,M)):(B.flags|=1048576,M)}function v(B){return t&&B.alternate===null&&(B.flags|=2),B}function C(B,M,H,se){return M===null||M.tag!==6?(M=ch(H,B.mode,se),M.return=B,M):(M=f(M,H),M.return=B,M)}function D(B,M,H,se){var Ie=H.type;return Ie===x?ee(B,M,H.props.children,se,H.key):M!==null&&(M.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Ct&&Cd(Ie)===M.type)?(se=f(M,H.props),se.ref=Xo(B,M,H),se.return=B,se):(se=jl(H.type,H.key,H.props,null,B.mode,se),se.ref=Xo(B,M,H),se.return=B,se)}function W(B,M,H,se){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=hh(H,B.mode,se),M.return=B,M):(M=f(M,H.children||[]),M.return=B,M)}function ee(B,M,H,se,Ie){return M===null||M.tag!==7?(M=ws(H,B.mode,se,Ie),M.return=B,M):(M=f(M,H),M.return=B,M)}function ne(B,M,H){if(typeof M=="string"&&M!==""||typeof M=="number")return M=ch(""+M,B.mode,H),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return H=jl(M.type,M.key,M.props,null,B.mode,H),H.ref=Xo(B,null,M),H.return=B,H;case fe:return M=hh(M,B.mode,H),M.return=B,M;case Ct:var se=M._init;return ne(B,se(M._payload),H)}if(Gn(M)||Te(M))return M=ws(M,B.mode,H,null),M.return=B,M;gl(B,M)}return null}function Z(B,M,H,se){var Ie=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Ie!==null?null:C(B,M,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case U:return H.key===Ie?D(B,M,H,se):null;case fe:return H.key===Ie?W(B,M,H,se):null;case Ct:return Ie=H._init,Z(B,M,Ie(H._payload),se)}if(Gn(H)||Te(H))return Ie!==null?null:ee(B,M,H,se,null);gl(B,H)}return null}function pe(B,M,H,se,Ie){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get(H)||null,C(M,B,""+se,Ie);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case U:return B=B.get(se.key===null?H:se.key)||null,D(M,B,se,Ie);case fe:return B=B.get(se.key===null?H:se.key)||null,W(M,B,se,Ie);case Ct:var Ae=se._init;return pe(B,M,H,Ae(se._payload),Ie)}if(Gn(se)||Te(se))return B=B.get(H)||null,ee(M,B,se,Ie,null);gl(M,se)}return null}function we(B,M,H,se){for(var Ie=null,Ae=null,Pe=M,De=M=0,zt=null;Pe!==null&&De<H.length;De++){Pe.index>De?(zt=Pe,Pe=null):zt=Pe.sibling;var nt=Z(B,Pe,H[De],se);if(nt===null){Pe===null&&(Pe=zt);break}t&&Pe&&nt.alternate===null&&r(B,Pe),M=m(nt,M,De),Ae===null?Ie=nt:Ae.sibling=nt,Ae=nt,Pe=zt}if(De===H.length)return a(B,Pe),_t&&ds(B,De),Ie;if(Pe===null){for(;De<H.length;De++)Pe=ne(B,H[De],se),Pe!==null&&(M=m(Pe,M,De),Ae===null?Ie=Pe:Ae.sibling=Pe,Ae=Pe);return _t&&ds(B,De),Ie}for(Pe=c(B,Pe);De<H.length;De++)zt=pe(Pe,B,De,H[De],se),zt!==null&&(t&&zt.alternate!==null&&Pe.delete(zt.key===null?De:zt.key),M=m(zt,M,De),Ae===null?Ie=zt:Ae.sibling=zt,Ae=zt);return t&&Pe.forEach(function(Ui){return r(B,Ui)}),_t&&ds(B,De),Ie}function Se(B,M,H,se){var Ie=Te(H);if(typeof Ie!="function")throw Error(n(150));if(H=Ie.call(H),H==null)throw Error(n(151));for(var Ae=Ie=null,Pe=M,De=M=0,zt=null,nt=H.next();Pe!==null&&!nt.done;De++,nt=H.next()){Pe.index>De?(zt=Pe,Pe=null):zt=Pe.sibling;var Ui=Z(B,Pe,nt.value,se);if(Ui===null){Pe===null&&(Pe=zt);break}t&&Pe&&Ui.alternate===null&&r(B,Pe),M=m(Ui,M,De),Ae===null?Ie=Ui:Ae.sibling=Ui,Ae=Ui,Pe=zt}if(nt.done)return a(B,Pe),_t&&ds(B,De),Ie;if(Pe===null){for(;!nt.done;De++,nt=H.next())nt=ne(B,nt.value,se),nt!==null&&(M=m(nt,M,De),Ae===null?Ie=nt:Ae.sibling=nt,Ae=nt);return _t&&ds(B,De),Ie}for(Pe=c(B,Pe);!nt.done;De++,nt=H.next())nt=pe(Pe,B,De,nt.value,se),nt!==null&&(t&&nt.alternate!==null&&Pe.delete(nt.key===null?De:nt.key),M=m(nt,M,De),Ae===null?Ie=nt:Ae.sibling=nt,Ae=nt);return t&&Pe.forEach(function(gv){return r(B,gv)}),_t&&ds(B,De),Ie}function At(B,M,H,se){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case U:e:{for(var Ie=H.key,Ae=M;Ae!==null;){if(Ae.key===Ie){if(Ie=H.type,Ie===x){if(Ae.tag===7){a(B,Ae.sibling),M=f(Ae,H.props.children),M.return=B,B=M;break e}}else if(Ae.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Ct&&Cd(Ie)===Ae.type){a(B,Ae.sibling),M=f(Ae,H.props),M.ref=Xo(B,Ae,H),M.return=B,B=M;break e}a(B,Ae);break}else r(B,Ae);Ae=Ae.sibling}H.type===x?(M=ws(H.props.children,B.mode,se,H.key),M.return=B,B=M):(se=jl(H.type,H.key,H.props,null,B.mode,se),se.ref=Xo(B,M,H),se.return=B,B=se)}return v(B);case fe:e:{for(Ae=H.key;M!==null;){if(M.key===Ae)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(B,M.sibling),M=f(M,H.children||[]),M.return=B,B=M;break e}else{a(B,M);break}else r(B,M);M=M.sibling}M=hh(H,B.mode,se),M.return=B,B=M}return v(B);case Ct:return Ae=H._init,At(B,M,Ae(H._payload),se)}if(Gn(H))return we(B,M,H,se);if(Te(H))return Se(B,M,H,se);gl(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,M!==null&&M.tag===6?(a(B,M.sibling),M=f(M,H),M.return=B,B=M):(a(B,M),M=ch(H,B.mode,se),M.return=B,B=M),v(B)):a(B,M)}return At}var so=Ad(!0),Pd=Ad(!1),yl=Pi(null),_l=null,oo=null,Ec=null;function wc(){Ec=oo=_l=null}function Tc(t){var r=yl.current;gt(yl),t._currentValue=r}function Sc(t,r,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===a)break;t=t.return}}function ao(t,r){_l=t,Ec=oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(In=!0),t.firstContext=null)}function $n(t){var r=t._currentValue;if(Ec!==t)if(t={context:t,memoizedValue:r,next:null},oo===null){if(_l===null)throw Error(n(308));oo=t,_l.dependencies={lanes:0,firstContext:t}}else oo=oo.next=t;return r}var ps=null;function Ic(t){ps===null?ps=[t]:ps.push(t)}function xd(t,r,a,c){var f=r.interleaved;return f===null?(a.next=a,Ic(r)):(a.next=f.next,f.next=a),r.interleaved=a,ei(t,c)}function ei(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Di=!1;function Rc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ti(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ni(t,r,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,tt&2){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,ei(t,a)}return f=c.interleaved,f===null?(r.next=r,Ic(c)):(r.next=f.next,f.next=r),c.interleaved=r,ei(t,a)}function vl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,wi(t,a)}}function Dd(t,r){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function El(t,r,a,c){var f=t.updateQueue;Di=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var D=C,W=D.next;D.next=null,v===null?m=W:v.next=W,v=D;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==v&&(C===null?ee.firstBaseUpdate=W:C.next=W,ee.lastBaseUpdate=D))}if(m!==null){var ne=f.baseState;v=0,ee=W=D=null,C=m;do{var Z=C.lane,pe=C.eventTime;if((c&Z)===Z){ee!==null&&(ee=ee.next={eventTime:pe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var we=t,Se=C;switch(Z=r,pe=a,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){ne=we.call(pe,ne,Z);break e}ne=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,Z=typeof we=="function"?we.call(pe,ne,Z):we,Z==null)break e;ne=ce({},ne,Z);break e;case 2:Di=!0}}C.callback!==null&&C.lane!==0&&(t.flags|=64,Z=f.effects,Z===null?f.effects=[C]:Z.push(C))}else pe={eventTime:pe,lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?(W=ee=pe,D=ne):ee=ee.next=pe,v|=Z;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(D=ne),f.baseState=D,f.firstBaseUpdate=W,f.lastBaseUpdate=ee,r=f.shared.interleaved,r!==null){f=r;do v|=f.lane,f=f.next;while(f!==r)}else m===null&&(f.shared.lanes=0);ys|=v,t.lanes=v,t.memoizedState=ne}}function Nd(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var Jo={},xr=Pi(Jo),Zo=Pi(Jo),ea=Pi(Jo);function ms(t){if(t===Jo)throw Error(n(174));return t}function Cc(t,r){switch(ht(ea,r),ht(Zo,t),ht(xr,Jo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:St(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=St(r,t)}gt(xr),ht(xr,r)}function lo(){gt(xr),gt(Zo),gt(ea)}function Vd(t){ms(ea.current);var r=ms(xr.current),a=St(r,t.type);r!==a&&(ht(Zo,t),ht(xr,a))}function Ac(t){Zo.current===t&&(gt(xr),gt(Zo))}var Et=Pi(0);function wl(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Pc=[];function xc(){for(var t=0;t<Pc.length;t++)Pc[t]._workInProgressVersionPrimary=null;Pc.length=0}var Tl=me.ReactCurrentDispatcher,kc=me.ReactCurrentBatchConfig,gs=0,wt=null,Vt=null,Ut=null,Sl=!1,ta=!1,na=0,U_=0;function on(){throw Error(n(321))}function Dc(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!lr(t[a],r[a]))return!1;return!0}function Nc(t,r,a,c,f,m){if(gs=m,wt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Tl.current=t===null||t.memoizedState===null?$_:H_,t=a(c,f),ta){m=0;do{if(ta=!1,na=0,25<=m)throw Error(n(301));m+=1,Ut=Vt=null,r.updateQueue=null,Tl.current=q_,t=a(c,f)}while(ta)}if(Tl.current=Cl,r=Vt!==null&&Vt.next!==null,gs=0,Ut=Vt=wt=null,Sl=!1,r)throw Error(n(300));return t}function Vc(){var t=na!==0;return na=0,t}function kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?wt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Hn(){if(Vt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var r=Ut===null?wt.memoizedState:Ut.next;if(r!==null)Ut=r,Vt=t;else{if(t===null)throw Error(n(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Ut===null?wt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function ra(t,r){return typeof r=="function"?r(t):r}function Lc(t){var r=Hn(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=Vt,f=c.baseQueue,m=a.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}c.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,c=c.baseState;var C=v=null,D=null,W=m;do{var ee=W.lane;if((gs&ee)===ee)D!==null&&(D=D.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:t(c,W.action);else{var ne={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};D===null?(C=D=ne,v=c):D=D.next=ne,wt.lanes|=ee,ys|=ee}W=W.next}while(W!==null&&W!==m);D===null?v=c:D.next=C,lr(c,r.memoizedState)||(In=!0),r.memoizedState=c,r.baseState=v,r.baseQueue=D,a.lastRenderedState=c}if(t=a.interleaved,t!==null){f=t;do m=f.lane,wt.lanes|=m,ys|=m,f=f.next;while(f!==t)}else f===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Mc(t){var r=Hn(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=t(m,v.action),v=v.next;while(v!==f);lr(m,r.memoizedState)||(In=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,c]}function Ld(){}function Md(t,r){var a=wt,c=Hn(),f=r(),m=!lr(c.memoizedState,f);if(m&&(c.memoizedState=f,In=!0),c=c.queue,Oc(bd.bind(null,a,c,t),[t]),c.getSnapshot!==r||m||Ut!==null&&Ut.memoizedState.tag&1){if(a.flags|=2048,ia(9,Fd.bind(null,a,c,f,r),void 0,null),jt===null)throw Error(n(349));gs&30||Od(a,r,f)}return f}function Od(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=wt.updateQueue,r===null?(r={lastEffect:null,stores:null},wt.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Fd(t,r,a,c){r.value=a,r.getSnapshot=c,Ud(r)&&jd(t)}function bd(t,r,a){return a(function(){Ud(r)&&jd(t)})}function Ud(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!lr(t,a)}catch{return!0}}function jd(t){var r=ei(t,1);r!==null&&dr(r,t,1,-1)}function zd(t){var r=kr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:t},r.queue=t,t=t.dispatch=B_.bind(null,wt,t),[r.memoizedState,t]}function ia(t,r,a,c){return t={tag:t,create:r,destroy:a,deps:c,next:null},r=wt.updateQueue,r===null?(r={lastEffect:null,stores:null},wt.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,r.lastEffect=t)),t}function Bd(){return Hn().memoizedState}function Il(t,r,a,c){var f=kr();wt.flags|=t,f.memoizedState=ia(1|r,a,void 0,c===void 0?null:c)}function Rl(t,r,a,c){var f=Hn();c=c===void 0?null:c;var m=void 0;if(Vt!==null){var v=Vt.memoizedState;if(m=v.destroy,c!==null&&Dc(c,v.deps)){f.memoizedState=ia(r,a,m,c);return}}wt.flags|=t,f.memoizedState=ia(1|r,a,m,c)}function $d(t,r){return Il(8390656,8,t,r)}function Oc(t,r){return Rl(2048,8,t,r)}function Hd(t,r){return Rl(4,2,t,r)}function qd(t,r){return Rl(4,4,t,r)}function Wd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Kd(t,r,a){return a=a!=null?a.concat([t]):null,Rl(4,4,Wd.bind(null,r,t),a)}function Fc(){}function Qd(t,r){var a=Hn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Dc(r,c[1])?c[0]:(a.memoizedState=[t,r],t)}function Gd(t,r){var a=Hn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Dc(r,c[1])?c[0]:(t=t(),a.memoizedState=[t,r],t)}function Yd(t,r,a){return gs&21?(lr(a,r)||(a=ss(),wt.lanes|=a,ys|=a,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=a)}function j_(t,r){var a=He;He=a!==0&&4>a?a:4,t(!0);var c=kc.transition;kc.transition={};try{t(!1),r()}finally{He=a,kc.transition=c}}function Xd(){return Hn().memoizedState}function z_(t,r,a){var c=Oi(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Jd(t))Zd(r,a);else if(a=xd(t,r,a,c),a!==null){var f=gn();dr(a,t,c,f),ep(a,r,c)}}function B_(t,r,a){var c=Oi(t),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jd(t))Zd(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,C=m(v,a);if(f.hasEagerState=!0,f.eagerState=C,lr(C,v)){var D=r.interleaved;D===null?(f.next=f,Ic(r)):(f.next=D.next,D.next=f),r.interleaved=f;return}}catch{}finally{}a=xd(t,r,f,c),a!==null&&(f=gn(),dr(a,t,c,f),ep(a,r,c))}}function Jd(t){var r=t.alternate;return t===wt||r!==null&&r===wt}function Zd(t,r){ta=Sl=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function ep(t,r,a){if(a&4194240){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,wi(t,a)}}var Cl={readContext:$n,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},$_={readContext:$n,useCallback:function(t,r){return kr().memoizedState=[t,r===void 0?null:r],t},useContext:$n,useEffect:$d,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,Il(4194308,4,Wd.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Il(4194308,4,t,r)},useInsertionEffect:function(t,r){return Il(4,2,t,r)},useMemo:function(t,r){var a=kr();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var c=kr();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=z_.bind(null,wt,t),[c.memoizedState,t]},useRef:function(t){var r=kr();return t={current:t},r.memoizedState=t},useState:zd,useDebugValue:Fc,useDeferredValue:function(t){return kr().memoizedState=t},useTransition:function(){var t=zd(!1),r=t[0];return t=j_.bind(null,t[1]),kr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var c=wt,f=kr();if(_t){if(a===void 0)throw Error(n(407));a=a()}else{if(a=r(),jt===null)throw Error(n(349));gs&30||Od(c,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,$d(bd.bind(null,c,m,t),[t]),c.flags|=2048,ia(9,Fd.bind(null,c,m,a,r),void 0,null),a},useId:function(){var t=kr(),r=jt.identifierPrefix;if(_t){var a=Zr,c=Jr;a=(c&~(1<<32-dn(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=na++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=U_++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},H_={readContext:$n,useCallback:Qd,useContext:$n,useEffect:Oc,useImperativeHandle:Kd,useInsertionEffect:Hd,useLayoutEffect:qd,useMemo:Gd,useReducer:Lc,useRef:Bd,useState:function(){return Lc(ra)},useDebugValue:Fc,useDeferredValue:function(t){var r=Hn();return Yd(r,Vt.memoizedState,t)},useTransition:function(){var t=Lc(ra)[0],r=Hn().memoizedState;return[t,r]},useMutableSource:Ld,useSyncExternalStore:Md,useId:Xd,unstable_isNewReconciler:!1},q_={readContext:$n,useCallback:Qd,useContext:$n,useEffect:Oc,useImperativeHandle:Kd,useInsertionEffect:Hd,useLayoutEffect:qd,useMemo:Gd,useReducer:Mc,useRef:Bd,useState:function(){return Mc(ra)},useDebugValue:Fc,useDeferredValue:function(t){var r=Hn();return Vt===null?r.memoizedState=t:Yd(r,Vt.memoizedState,t)},useTransition:function(){var t=Mc(ra)[0],r=Hn().memoizedState;return[t,r]},useMutableSource:Ld,useSyncExternalStore:Md,useId:Xd,unstable_isNewReconciler:!1};function cr(t,r){if(t&&t.defaultProps){r=ce({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function bc(t,r,a,c){r=t.memoizedState,a=a(c,r),a=a==null?r:ce({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Al={isMounted:function(t){return(t=t._reactInternals)?$e(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var c=gn(),f=Oi(t),m=ti(c,f);m.payload=r,a!=null&&(m.callback=a),r=Ni(t,m,f),r!==null&&(dr(r,t,f,c),vl(r,t,f))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var c=gn(),f=Oi(t),m=ti(c,f);m.tag=1,m.payload=r,a!=null&&(m.callback=a),r=Ni(t,m,f),r!==null&&(dr(r,t,f,c),vl(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=gn(),c=Oi(t),f=ti(a,c);f.tag=2,r!=null&&(f.callback=r),r=Ni(t,f,c),r!==null&&(dr(r,t,c,a),vl(r,t,c))}};function tp(t,r,a,c,f,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,v):r.prototype&&r.prototype.isPureReactComponent?!Ho(a,c)||!Ho(f,m):!0}function np(t,r,a){var c=!1,f=xi,m=r.contextType;return typeof m=="object"&&m!==null?m=$n(m):(f=Sn(r)?hs:sn.current,c=r.contextTypes,m=(c=c!=null)?to(t,f):xi),r=new r(a,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Al,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=m),r}function rp(t,r,a,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==t&&Al.enqueueReplaceState(r,r.state,null)}function Uc(t,r,a,c){var f=t.stateNode;f.props=a,f.state=t.memoizedState,f.refs={},Rc(t);var m=r.contextType;typeof m=="object"&&m!==null?f.context=$n(m):(m=Sn(r)?hs:sn.current,f.context=to(t,m)),f.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(bc(t,r,m,a),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Al.enqueueReplaceState(f,f.state,null),El(t,a,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function uo(t,r){try{var a="",c=r;do a+=Ve(c),c=c.return;while(c);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:f,digest:null}}function jc(t,r,a){return{value:t,source:null,stack:a??null,digest:r??null}}function zc(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var W_=typeof WeakMap=="function"?WeakMap:Map;function ip(t,r,a){a=ti(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Ll||(Ll=!0,nh=c),zc(t,r)},a}function sp(t,r,a){a=ti(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;a.payload=function(){return c(f)},a.callback=function(){zc(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){zc(t,r),typeof c!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),a}function op(t,r,a){var c=t.pingCache;if(c===null){c=t.pingCache=new W_;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(a)||(f.add(a),t=ov.bind(null,t,r,a),r.then(t,t))}function ap(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function lp(t,r,a,c,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=ti(-1,1),r.tag=2,Ni(a,r,1))),a.lanes|=1),t)}var K_=me.ReactCurrentOwner,In=!1;function mn(t,r,a,c){r.child=t===null?Pd(r,null,a,c):so(r,t.child,a,c)}function up(t,r,a,c,f){a=a.render;var m=r.ref;return ao(r,f),c=Nc(t,r,a,c,m,f),a=Vc(),t!==null&&!In?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,ni(t,r,f)):(_t&&a&&mc(r),r.flags|=1,mn(t,r,c,f),r.child)}function cp(t,r,a,c,f){if(t===null){var m=a.type;return typeof m=="function"&&!uh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=m,hp(t,r,m,c,f)):(t=jl(a.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!(t.lanes&f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(v,c)&&t.ref===r.ref)return ni(t,r,f)}return r.flags|=1,t=bi(m,c),t.ref=r.ref,t.return=r,r.child=t}function hp(t,r,a,c,f){if(t!==null){var m=t.memoizedProps;if(Ho(m,c)&&t.ref===r.ref)if(In=!1,r.pendingProps=c=m,(t.lanes&f)!==0)t.flags&131072&&(In=!0);else return r.lanes=t.lanes,ni(t,r,f)}return Bc(t,r,a,c,f)}function fp(t,r,a){var c=r.pendingProps,f=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(ho,On),On|=a;else{if(!(a&1073741824))return t=m!==null?m.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,ht(ho,On),On|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,ht(ho,On),On|=c}else m!==null?(c=m.baseLanes|a,r.memoizedState=null):c=a,ht(ho,On),On|=c;return mn(t,r,f,a),r.child}function dp(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Bc(t,r,a,c,f){var m=Sn(a)?hs:sn.current;return m=to(r,m),ao(r,f),a=Nc(t,r,a,c,m,f),c=Vc(),t!==null&&!In?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,ni(t,r,f)):(_t&&c&&mc(r),r.flags|=1,mn(t,r,a,f),r.child)}function pp(t,r,a,c,f){if(Sn(a)){var m=!0;hl(r)}else m=!1;if(ao(r,f),r.stateNode===null)xl(t,r),np(r,a,c),Uc(r,a,c,f),c=!0;else if(t===null){var v=r.stateNode,C=r.memoizedProps;v.props=C;var D=v.context,W=a.contextType;typeof W=="object"&&W!==null?W=$n(W):(W=Sn(a)?hs:sn.current,W=to(r,W));var ee=a.getDerivedStateFromProps,ne=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function";ne||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==c||D!==W)&&rp(r,v,c,W),Di=!1;var Z=r.memoizedState;v.state=Z,El(r,c,v,f),D=r.memoizedState,C!==c||Z!==D||Tn.current||Di?(typeof ee=="function"&&(bc(r,a,ee,c),D=r.memoizedState),(C=Di||tp(r,a,C,c,Z,D,W))?(ne||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=D),v.props=c,v.state=D,v.context=W,c=C):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{v=r.stateNode,kd(t,r),C=r.memoizedProps,W=r.type===r.elementType?C:cr(r.type,C),v.props=W,ne=r.pendingProps,Z=v.context,D=a.contextType,typeof D=="object"&&D!==null?D=$n(D):(D=Sn(a)?hs:sn.current,D=to(r,D));var pe=a.getDerivedStateFromProps;(ee=typeof pe=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==ne||Z!==D)&&rp(r,v,c,D),Di=!1,Z=r.memoizedState,v.state=Z,El(r,c,v,f);var we=r.memoizedState;C!==ne||Z!==we||Tn.current||Di?(typeof pe=="function"&&(bc(r,a,pe,c),we=r.memoizedState),(W=Di||tp(r,a,W,c,Z,we,D)||!1)?(ee||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,we,D),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,we,D)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===t.memoizedProps&&Z===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Z===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=we),v.props=c,v.state=we,v.context=D,c=W):(typeof v.componentDidUpdate!="function"||C===t.memoizedProps&&Z===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Z===t.memoizedState||(r.flags|=1024),c=!1)}return $c(t,r,a,c,m,f)}function $c(t,r,a,c,f,m){dp(t,r);var v=(r.flags&128)!==0;if(!c&&!v)return f&&vd(r,a,!1),ni(t,r,m);c=r.stateNode,K_.current=r;var C=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&v?(r.child=so(r,t.child,null,m),r.child=so(r,null,C,m)):mn(t,r,C,m),r.memoizedState=c.state,f&&vd(r,a,!0),r.child}function mp(t){var r=t.stateNode;r.pendingContext?yd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&yd(t,r.context,!1),Cc(t,r.containerInfo)}function gp(t,r,a,c,f){return io(),vc(f),r.flags|=256,mn(t,r,a,c),r.child}var Hc={dehydrated:null,treeContext:null,retryLane:0};function qc(t){return{baseLanes:t,cachePool:null,transitions:null}}function yp(t,r,a){var c=r.pendingProps,f=Et.current,m=!1,v=(r.flags&128)!==0,C;if((C=v)||(C=t!==null&&t.memoizedState===null?!1:(f&2)!==0),C?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),ht(Et,f&1),t===null)return _c(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=c.children,t=c.fallback,m?(c=r.mode,m=r.child,v={mode:"hidden",children:v},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=v):m=zl(v,c,0,null),t=ws(t,c,a,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=qc(a),r.memoizedState=Hc,t):Wc(r,v));if(f=t.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return Q_(t,r,v,c,C,f,a);if(m){m=c.fallback,v=r.mode,f=t.child,C=f.sibling;var D={mode:"hidden",children:c.children};return!(v&1)&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=D,r.deletions=null):(c=bi(f,D),c.subtreeFlags=f.subtreeFlags&14680064),C!==null?m=bi(C,m):(m=ws(m,v,a,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,v=t.child.memoizedState,v=v===null?qc(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=t.childLanes&~a,r.memoizedState=Hc,c}return m=t.child,t=m.sibling,c=bi(m,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=a),c.return=r,c.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=c,r.memoizedState=null,c}function Wc(t,r){return r=zl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Pl(t,r,a,c){return c!==null&&vc(c),so(r,t.child,null,a),t=Wc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Q_(t,r,a,c,f,m,v){if(a)return r.flags&256?(r.flags&=-257,c=jc(Error(n(422))),Pl(t,r,v,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=c.fallback,f=r.mode,c=zl({mode:"visible",children:c.children},f,0,null),m=ws(m,f,v,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,r.mode&1&&so(r,t.child,null,v),r.child.memoizedState=qc(v),r.memoizedState=Hc,m);if(!(r.mode&1))return Pl(t,r,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var C=c.dgst;return c=C,m=Error(n(419)),c=jc(m,c,void 0),Pl(t,r,v,c)}if(C=(v&t.childLanes)!==0,In||C){if(c=jt,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|v)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,ei(t,f),dr(c,t,f,-1))}return lh(),c=jc(Error(n(421))),Pl(t,r,v,c)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=av.bind(null,t),f._reactRetry=r,null):(t=m.treeContext,Mn=Ai(f.nextSibling),Ln=r,_t=!0,ur=null,t!==null&&(zn[Bn++]=Jr,zn[Bn++]=Zr,zn[Bn++]=fs,Jr=t.id,Zr=t.overflow,fs=r),r=Wc(r,c.children),r.flags|=4096,r)}function _p(t,r,a){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Sc(t.return,r,a)}function Kc(t,r,a,c,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function vp(t,r,a){var c=r.pendingProps,f=c.revealOrder,m=c.tail;if(mn(t,r,c.children,a),c=Et.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_p(t,a,r);else if(t.tag===19)_p(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(ht(Et,c),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&wl(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Kc(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&wl(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Kc(r,!0,a,null,m);break;case"together":Kc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function xl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function ni(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),ys|=r.lanes,!(a&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,a=bi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=bi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function G_(t,r,a){switch(r.tag){case 3:mp(r),io();break;case 5:Vd(r);break;case 1:Sn(r.type)&&hl(r);break;case 4:Cc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;ht(yl,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(ht(Et,Et.current&1),r.flags|=128,null):a&r.child.childLanes?yp(t,r,a):(ht(Et,Et.current&1),t=ni(t,r,a),t!==null?t.sibling:null);ht(Et,Et.current&1);break;case 19:if(c=(a&r.childLanes)!==0,t.flags&128){if(c)return vp(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ht(Et,Et.current),c)break;return null;case 22:case 23:return r.lanes=0,fp(t,r,a)}return ni(t,r,a)}var Ep,Qc,wp,Tp;Ep=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Qc=function(){},wp=function(t,r,a,c){var f=t.memoizedProps;if(f!==c){t=r.stateNode,ms(xr.current);var m=null;switch(a){case"input":f=Ur(t,f),c=Ur(t,c),m=[];break;case"select":f=ce({},f,{value:void 0}),c=ce({},c,{value:void 0}),m=[];break;case"textarea":f=Yn(t,f),c=Yn(t,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=ll)}wr(a,c);var v;a=null;for(W in f)if(!c.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var C=f[W];for(v in C)C.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?m||(m=[]):(m=m||[]).push(W,null));for(W in c){var D=c[W];if(C=f!=null?f[W]:void 0,c.hasOwnProperty(W)&&D!==C&&(D!=null||C!=null))if(W==="style")if(C){for(v in C)!C.hasOwnProperty(v)||D&&D.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in D)D.hasOwnProperty(v)&&C[v]!==D[v]&&(a||(a={}),a[v]=D[v])}else a||(m||(m=[]),m.push(W,a)),a=D;else W==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,C=C?C.__html:void 0,D!=null&&C!==D&&(m=m||[]).push(W,D)):W==="children"?typeof D!="string"&&typeof D!="number"||(m=m||[]).push(W,""+D):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(D!=null&&W==="onScroll"&&mt("scroll",t),m||C===D||(m=[])):(m=m||[]).push(W,D))}a&&(m=m||[]).push("style",a);var W=m;(r.updateQueue=W)&&(r.flags|=4)}},Tp=function(t,r,a,c){a!==c&&(r.flags|=4)};function sa(t,r){if(!_t)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function an(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=a,r}function Y_(t,r,a){var c=r.pendingProps;switch(gc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(r),null;case 1:return Sn(r.type)&&cl(),an(r),null;case 3:return c=r.stateNode,lo(),gt(Tn),gt(sn),xc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(ml(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,ur!==null&&(sh(ur),ur=null))),Qc(t,r),an(r),null;case 5:Ac(r);var f=ms(ea.current);if(a=r.type,t!==null&&r.stateNode!=null)wp(t,r,a,c,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return an(r),null}if(t=ms(xr.current),ml(r)){c=r.stateNode,a=r.type;var m=r.memoizedProps;switch(c[Pr]=r,c[Go]=m,t=(r.mode&1)!==0,a){case"dialog":mt("cancel",c),mt("close",c);break;case"iframe":case"object":case"embed":mt("load",c);break;case"video":case"audio":for(f=0;f<Wo.length;f++)mt(Wo[f],c);break;case"source":mt("error",c);break;case"img":case"image":case"link":mt("error",c),mt("load",c);break;case"details":mt("toggle",c);break;case"input":hi(c,m),mt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},mt("invalid",c);break;case"textarea":jr(c,m),mt("invalid",c)}wr(a,m),f=null;for(var v in m)if(m.hasOwnProperty(v)){var C=m[v];v==="children"?typeof C=="string"?c.textContent!==C&&(m.suppressHydrationWarning!==!0&&al(c.textContent,C,t),f=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&al(c.textContent,C,t),f=["children",""+C]):o.hasOwnProperty(v)&&C!=null&&v==="onScroll"&&mt("scroll",c)}switch(a){case"input":bn(c),Vs(c,m,!0);break;case"textarea":bn(c),yn(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=ll)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=at(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=v.createElement(a,{is:c.is}):(t=v.createElement(a),a==="select"&&(v=t,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):t=v.createElementNS(t,a),t[Pr]=r,t[Go]=c,Ep(t,r,!1,!1),r.stateNode=t;e:{switch(v=gi(a,c),a){case"dialog":mt("cancel",t),mt("close",t),f=c;break;case"iframe":case"object":case"embed":mt("load",t),f=c;break;case"video":case"audio":for(f=0;f<Wo.length;f++)mt(Wo[f],t);f=c;break;case"source":mt("error",t),f=c;break;case"img":case"image":case"link":mt("error",t),mt("load",t),f=c;break;case"details":mt("toggle",t),f=c;break;case"input":hi(t,c),f=Ur(t,c),mt("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=ce({},c,{value:void 0}),mt("invalid",t);break;case"textarea":jr(t,c),f=Yn(t,c),mt("invalid",t);break;default:f=c}wr(a,f),C=f;for(m in C)if(C.hasOwnProperty(m)){var D=C[m];m==="style"?ns(t,D):m==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&ts(t,D)):m==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&qt(t,D):typeof D=="number"&&qt(t,""+D):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?D!=null&&m==="onScroll"&&mt("scroll",t):D!=null&&ie(t,m,D,v))}switch(a){case"input":bn(t),Vs(t,c,!1);break;case"textarea":bn(t),yn(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Ze(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?Ht(t,!!c.multiple,m,!1):c.defaultValue!=null&&Ht(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=ll)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return an(r),null;case 6:if(t&&r.stateNode!=null)Tp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(a=ms(ea.current),ms(xr.current),ml(r)){if(c=r.stateNode,a=r.memoizedProps,c[Pr]=r,(m=c.nodeValue!==a)&&(t=Ln,t!==null))switch(t.tag){case 3:al(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&al(c.nodeValue,a,(t.mode&1)!==0)}m&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Pr]=r,r.stateNode=c}return an(r),null;case 13:if(gt(Et),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_t&&Mn!==null&&r.mode&1&&!(r.flags&128))Rd(),io(),r.flags|=98560,m=!1;else if(m=ml(r),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Pr]=r}else io(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;an(r),m=!1}else ur!==null&&(sh(ur),ur=null),m=!0;if(!m)return r.flags&65536?r:null}return r.flags&128?(r.lanes=a,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||Et.current&1?Lt===0&&(Lt=3):lh())),r.updateQueue!==null&&(r.flags|=4),an(r),null);case 4:return lo(),Qc(t,r),t===null&&Ko(r.stateNode.containerInfo),an(r),null;case 10:return Tc(r.type._context),an(r),null;case 17:return Sn(r.type)&&cl(),an(r),null;case 19:if(gt(Et),m=r.memoizedState,m===null)return an(r),null;if(c=(r.flags&128)!==0,v=m.rendering,v===null)if(c)sa(m,!1);else{if(Lt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=wl(t),v!==null){for(r.flags|=128,sa(m,!1),c=v.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)m=a,t=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,t=v.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return ht(Et,Et.current&1|2),r.child}t=t.sibling}m.tail!==null&&st()>fo&&(r.flags|=128,c=!0,sa(m,!1),r.lanes=4194304)}else{if(!c)if(t=wl(v),t!==null){if(r.flags|=128,c=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),sa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!_t)return an(r),null}else 2*st()-m.renderingStartTime>fo&&a!==1073741824&&(r.flags|=128,c=!0,sa(m,!1),r.lanes=4194304);m.isBackwards?(v.sibling=r.child,r.child=v):(a=m.last,a!==null?a.sibling=v:r.child=v,m.last=v)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=st(),r.sibling=null,a=Et.current,ht(Et,c?a&1|2:a&1),r):(an(r),null);case 22:case 23:return ah(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?On&1073741824&&(an(r),r.subtreeFlags&6&&(r.flags|=8192)):an(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function X_(t,r){switch(gc(r),r.tag){case 1:return Sn(r.type)&&cl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return lo(),gt(Tn),gt(sn),xc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Ac(r),null;case 13:if(gt(Et),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));io()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return gt(Et),null;case 4:return lo(),null;case 10:return Tc(r.type._context),null;case 22:case 23:return ah(),null;case 24:return null;default:return null}}var kl=!1,ln=!1,J_=typeof WeakSet=="function"?WeakSet:Set,_e=null;function co(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Rt(t,r,c)}else a.current=null}function Gc(t,r,a){try{a()}catch(c){Rt(t,r,c)}}var Sp=!1;function Z_(t,r){if(ac=Ii,t=td(),Zu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,C=-1,D=-1,W=0,ee=0,ne=t,Z=null;t:for(;;){for(var pe;ne!==a||f!==0&&ne.nodeType!==3||(C=v+f),ne!==m||c!==0&&ne.nodeType!==3||(D=v+c),ne.nodeType===3&&(v+=ne.nodeValue.length),(pe=ne.firstChild)!==null;)Z=ne,ne=pe;for(;;){if(ne===t)break t;if(Z===a&&++W===f&&(C=v),Z===m&&++ee===c&&(D=v),(pe=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=pe}a=C===-1||D===-1?null:{start:C,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(lc={focusedElem:t,selectionRange:a},Ii=!1,_e=r;_e!==null;)if(r=_e,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,_e=t;else for(;_e!==null;){r=_e;try{var we=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,At=we.memoizedState,B=r.stateNode,M=B.getSnapshotBeforeUpdate(r.elementType===r.type?Se:cr(r.type,Se),At);B.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var H=r.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){Rt(r,r.return,se)}if(t=r.sibling,t!==null){t.return=r.return,_e=t;break}_e=r.return}return we=Sp,Sp=!1,we}function oa(t,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var m=f.destroy;f.destroy=void 0,m!==void 0&&Gc(r,a,m)}f=f.next}while(f!==c)}}function Dl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function Yc(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function Ip(t){var r=t.alternate;r!==null&&(t.alternate=null,Ip(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Pr],delete r[Go],delete r[fc],delete r[M_],delete r[O_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rp(t){return t.tag===5||t.tag===3||t.tag===4}function Cp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xc(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ll));else if(c!==4&&(t=t.child,t!==null))for(Xc(t,r,a),t=t.sibling;t!==null;)Xc(t,r,a),t=t.sibling}function Jc(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Jc(t,r,a),t=t.sibling;t!==null;)Jc(t,r,a),t=t.sibling}var Yt=null,hr=!1;function Vi(t,r,a){for(a=a.child;a!==null;)Ap(t,r,a),a=a.sibling}function Ap(t,r,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(vn,a)}catch{}switch(a.tag){case 5:ln||co(a,r);case 6:var c=Yt,f=hr;Yt=null,Vi(t,r,a),Yt=c,hr=f,Yt!==null&&(hr?(t=Yt,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Yt.removeChild(a.stateNode));break;case 18:Yt!==null&&(hr?(t=Yt,a=a.stateNode,t.nodeType===8?hc(t.parentNode,a):t.nodeType===1&&hc(t,a),or(t)):hc(Yt,a.stateNode));break;case 4:c=Yt,f=hr,Yt=a.stateNode.containerInfo,hr=!0,Vi(t,r,a),Yt=c,hr=f;break;case 0:case 11:case 14:case 15:if(!ln&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,v=m.destroy;m=m.tag,v!==void 0&&(m&2||m&4)&&Gc(a,r,v),f=f.next}while(f!==c)}Vi(t,r,a);break;case 1:if(!ln&&(co(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){Rt(a,r,C)}Vi(t,r,a);break;case 21:Vi(t,r,a);break;case 22:a.mode&1?(ln=(c=ln)||a.memoizedState!==null,Vi(t,r,a),ln=c):Vi(t,r,a);break;default:Vi(t,r,a)}}function Pp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new J_),r.forEach(function(c){var f=lv.bind(null,t,c);a.has(c)||(a.add(c),c.then(f,f))})}}function fr(t,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var m=t,v=r,C=v;e:for(;C!==null;){switch(C.tag){case 5:Yt=C.stateNode,hr=!1;break e;case 3:Yt=C.stateNode.containerInfo,hr=!0;break e;case 4:Yt=C.stateNode.containerInfo,hr=!0;break e}C=C.return}if(Yt===null)throw Error(n(160));Ap(m,v,f),Yt=null,hr=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(W){Rt(f,r,W)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)xp(r,t),r=r.sibling}function xp(t,r){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fr(r,t),Dr(t),c&4){try{oa(3,t,t.return),Dl(3,t)}catch(Se){Rt(t,t.return,Se)}try{oa(5,t,t.return)}catch(Se){Rt(t,t.return,Se)}}break;case 1:fr(r,t),Dr(t),c&512&&a!==null&&co(a,a.return);break;case 5:if(fr(r,t),Dr(t),c&512&&a!==null&&co(a,a.return),t.flags&32){var f=t.stateNode;try{qt(f,"")}catch(Se){Rt(t,t.return,Se)}}if(c&4&&(f=t.stateNode,f!=null)){var m=t.memoizedProps,v=a!==null?a.memoizedProps:m,C=t.type,D=t.updateQueue;if(t.updateQueue=null,D!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&fi(f,m),gi(C,v);var W=gi(C,m);for(v=0;v<D.length;v+=2){var ee=D[v],ne=D[v+1];ee==="style"?ns(f,ne):ee==="dangerouslySetInnerHTML"?ts(f,ne):ee==="children"?qt(f,ne):ie(f,ee,ne,W)}switch(C){case"input":es(f,m);break;case"textarea":_r(f,m);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var pe=m.value;pe!=null?Ht(f,!!m.multiple,pe,!1):Z!==!!m.multiple&&(m.defaultValue!=null?Ht(f,!!m.multiple,m.defaultValue,!0):Ht(f,!!m.multiple,m.multiple?[]:"",!1))}f[Go]=m}catch(Se){Rt(t,t.return,Se)}}break;case 6:if(fr(r,t),Dr(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,m=t.memoizedProps;try{f.nodeValue=m}catch(Se){Rt(t,t.return,Se)}}break;case 3:if(fr(r,t),Dr(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{or(r.containerInfo)}catch(Se){Rt(t,t.return,Se)}break;case 4:fr(r,t),Dr(t);break;case 13:fr(r,t),Dr(t),f=t.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(th=st())),c&4&&Pp(t);break;case 22:if(ee=a!==null&&a.memoizedState!==null,t.mode&1?(ln=(W=ln)||ee,fr(r,t),ln=W):fr(r,t),Dr(t),c&8192){if(W=t.memoizedState!==null,(t.stateNode.isHidden=W)&&!ee&&t.mode&1)for(_e=t,ee=t.child;ee!==null;){for(ne=_e=ee;_e!==null;){switch(Z=_e,pe=Z.child,Z.tag){case 0:case 11:case 14:case 15:oa(4,Z,Z.return);break;case 1:co(Z,Z.return);var we=Z.stateNode;if(typeof we.componentWillUnmount=="function"){c=Z,a=Z.return;try{r=c,we.props=r.memoizedProps,we.state=r.memoizedState,we.componentWillUnmount()}catch(Se){Rt(c,a,Se)}}break;case 5:co(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Np(ne);continue}}pe!==null?(pe.return=Z,_e=pe):Np(ne)}ee=ee.sibling}e:for(ee=null,ne=t;;){if(ne.tag===5){if(ee===null){ee=ne;try{f=ne.stateNode,W?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=ne.stateNode,D=ne.memoizedProps.style,v=D!=null&&D.hasOwnProperty("display")?D.display:null,C.style.display=pi("display",v))}catch(Se){Rt(t,t.return,Se)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=W?"":ne.memoizedProps}catch(Se){Rt(t,t.return,Se)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===t)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===t)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===t)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:fr(r,t),Dr(t),c&4&&Pp(t);break;case 21:break;default:fr(r,t),Dr(t)}}function Dr(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(Rp(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(qt(f,""),c.flags&=-33);var m=Cp(t);Jc(t,m,f);break;case 3:case 4:var v=c.stateNode.containerInfo,C=Cp(t);Xc(t,C,v);break;default:throw Error(n(161))}}catch(D){Rt(t,t.return,D)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ev(t,r,a){_e=t,kp(t)}function kp(t,r,a){for(var c=(t.mode&1)!==0;_e!==null;){var f=_e,m=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||kl;if(!v){var C=f.alternate,D=C!==null&&C.memoizedState!==null||ln;C=kl;var W=ln;if(kl=v,(ln=D)&&!W)for(_e=f;_e!==null;)v=_e,D=v.child,v.tag===22&&v.memoizedState!==null?Vp(f):D!==null?(D.return=v,_e=D):Vp(f);for(;m!==null;)_e=m,kp(m),m=m.sibling;_e=f,kl=C,ln=W}Dp(t)}else f.subtreeFlags&8772&&m!==null?(m.return=f,_e=m):Dp(t)}}function Dp(t){for(;_e!==null;){var r=_e;if(r.flags&8772){var a=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:ln||Dl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!ln)if(a===null)c.componentDidMount();else{var f=r.elementType===r.type?a.memoizedProps:cr(r.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Nd(r,m,c);break;case 3:var v=r.updateQueue;if(v!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}Nd(r,v,a)}break;case 5:var C=r.stateNode;if(a===null&&r.flags&4){a=C;var D=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var W=r.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&or(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ln||r.flags&512&&Yc(r)}catch(Z){Rt(r,r.return,Z)}}if(r===t){_e=null;break}if(a=r.sibling,a!==null){a.return=r.return,_e=a;break}_e=r.return}}function Np(t){for(;_e!==null;){var r=_e;if(r===t){_e=null;break}var a=r.sibling;if(a!==null){a.return=r.return,_e=a;break}_e=r.return}}function Vp(t){for(;_e!==null;){var r=_e;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Dl(4,r)}catch(D){Rt(r,a,D)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(D){Rt(r,f,D)}}var m=r.return;try{Yc(r)}catch(D){Rt(r,m,D)}break;case 5:var v=r.return;try{Yc(r)}catch(D){Rt(r,v,D)}}}catch(D){Rt(r,r.return,D)}if(r===t){_e=null;break}var C=r.sibling;if(C!==null){C.return=r.return,_e=C;break}_e=r.return}}var tv=Math.ceil,Nl=me.ReactCurrentDispatcher,Zc=me.ReactCurrentOwner,qn=me.ReactCurrentBatchConfig,tt=0,jt=null,kt=null,Xt=0,On=0,ho=Pi(0),Lt=0,aa=null,ys=0,Vl=0,eh=0,la=null,Rn=null,th=0,fo=1/0,ri=null,Ll=!1,nh=null,Li=null,Ml=!1,Mi=null,Ol=0,ua=0,rh=null,Fl=-1,bl=0;function gn(){return tt&6?st():Fl!==-1?Fl:Fl=st()}function Oi(t){return t.mode&1?tt&2&&Xt!==0?Xt&-Xt:b_.transition!==null?(bl===0&&(bl=ss()),bl):(t=He,t!==0||(t=window.event,t=t===void 0?16:Fo(t.type)),t):1}function dr(t,r,a,c){if(50<ua)throw ua=0,rh=null,Error(n(185));Ei(t,a,c),(!(tt&2)||t!==jt)&&(t===jt&&(!(tt&2)&&(Vl|=a),Lt===4&&Fi(t,Xt)),Cn(t,c),a===1&&tt===0&&!(r.mode&1)&&(fo=st()+500,fl&&ki()))}function Cn(t,r){var a=t.callbackNode;qr(t,r);var c=is(t,t===jt?Xt:0);if(c===0)a!==null&&$r(a),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(a!=null&&$r(a),r===1)t.tag===0?F_(Mp.bind(null,t)):Ed(Mp.bind(null,t)),V_(function(){!(tt&6)&&ki()}),a=null;else{switch(Ti(c)){case 1:a=Qe;break;case 4:a=dt;break;case 16:a=Kt;break;case 536870912:a=pt;break;default:a=Kt}a=$p(a,Lp.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function Lp(t,r){if(Fl=-1,bl=0,tt&6)throw Error(n(327));var a=t.callbackNode;if(po()&&t.callbackNode!==a)return null;var c=is(t,t===jt?Xt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=Ul(t,c);else{r=c;var f=tt;tt|=2;var m=Fp();(jt!==t||Xt!==r)&&(ri=null,fo=st()+500,vs(t,r));do try{iv();break}catch(C){Op(t,C)}while(!0);wc(),Nl.current=m,tt=f,kt!==null?r=0:(jt=null,Xt=0,r=Lt)}if(r!==0){if(r===2&&(f=Dn(t),f!==0&&(c=f,r=ih(t,f))),r===1)throw a=aa,vs(t,0),Fi(t,c),Cn(t,st()),a;if(r===6)Fi(t,c);else{if(f=t.current.alternate,!(c&30)&&!nv(f)&&(r=Ul(t,c),r===2&&(m=Dn(t),m!==0&&(c=m,r=ih(t,m))),r===1))throw a=aa,vs(t,0),Fi(t,c),Cn(t,st()),a;switch(t.finishedWork=f,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Es(t,Rn,ri);break;case 3:if(Fi(t,c),(c&130023424)===c&&(r=th+500-st(),10<r)){if(is(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){gn(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=cc(Es.bind(null,t,Rn,ri),r);break}Es(t,Rn,ri);break;case 4:if(Fi(t,c),(c&4194240)===c)break;for(r=t.eventTimes,f=-1;0<c;){var v=31-dn(c);m=1<<v,v=r[v],v>f&&(f=v),c&=~m}if(c=f,c=st()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*tv(c/1960))-c,10<c){t.timeoutHandle=cc(Es.bind(null,t,Rn,ri),c);break}Es(t,Rn,ri);break;case 5:Es(t,Rn,ri);break;default:throw Error(n(329))}}}return Cn(t,st()),t.callbackNode===a?Lp.bind(null,t):null}function ih(t,r){var a=la;return t.current.memoizedState.isDehydrated&&(vs(t,r).flags|=256),t=Ul(t,r),t!==2&&(r=Rn,Rn=a,r!==null&&sh(r)),t}function sh(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function nv(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!lr(m(),f))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fi(t,r){for(r&=~eh,r&=~Vl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-dn(r),c=1<<a;t[a]=-1,r&=~c}}function Mp(t){if(tt&6)throw Error(n(327));po();var r=is(t,0);if(!(r&1))return Cn(t,st()),null;var a=Ul(t,r);if(t.tag!==0&&a===2){var c=Dn(t);c!==0&&(r=c,a=ih(t,c))}if(a===1)throw a=aa,vs(t,0),Fi(t,r),Cn(t,st()),a;if(a===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Es(t,Rn,ri),Cn(t,st()),null}function oh(t,r){var a=tt;tt|=1;try{return t(r)}finally{tt=a,tt===0&&(fo=st()+500,fl&&ki())}}function _s(t){Mi!==null&&Mi.tag===0&&!(tt&6)&&po();var r=tt;tt|=1;var a=qn.transition,c=He;try{if(qn.transition=null,He=1,t)return t()}finally{He=c,qn.transition=a,tt=r,!(tt&6)&&ki()}}function ah(){On=ho.current,gt(ho)}function vs(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,N_(a)),kt!==null)for(a=kt.return;a!==null;){var c=a;switch(gc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&cl();break;case 3:lo(),gt(Tn),gt(sn),xc();break;case 5:Ac(c);break;case 4:lo();break;case 13:gt(Et);break;case 19:gt(Et);break;case 10:Tc(c.type._context);break;case 22:case 23:ah()}a=a.return}if(jt=t,kt=t=bi(t.current,null),Xt=On=r,Lt=0,aa=null,eh=Vl=ys=0,Rn=la=null,ps!==null){for(r=0;r<ps.length;r++)if(a=ps[r],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,m=a.pending;if(m!==null){var v=m.next;m.next=f,c.next=v}a.pending=c}ps=null}return t}function Op(t,r){do{var a=kt;try{if(wc(),Tl.current=Cl,Sl){for(var c=wt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Sl=!1}if(gs=0,Ut=Vt=wt=null,ta=!1,na=0,Zc.current=null,a===null||a.return===null){Lt=1,aa=r,kt=null;break}e:{var m=t,v=a.return,C=a,D=r;if(r=Xt,C.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D,ee=C,ne=ee.tag;if(!(ee.mode&1)&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var pe=ap(v);if(pe!==null){pe.flags&=-257,lp(pe,v,C,m,r),pe.mode&1&&op(m,W,r),r=pe,D=W;var we=r.updateQueue;if(we===null){var Se=new Set;Se.add(D),r.updateQueue=Se}else we.add(D);break e}else{if(!(r&1)){op(m,W,r),lh();break e}D=Error(n(426))}}else if(_t&&C.mode&1){var At=ap(v);if(At!==null){!(At.flags&65536)&&(At.flags|=256),lp(At,v,C,m,r),vc(uo(D,C));break e}}m=D=uo(D,C),Lt!==4&&(Lt=2),la===null?la=[m]:la.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var B=ip(m,D,r);Dd(m,B);break e;case 1:C=D;var M=m.type,H=m.stateNode;if(!(m.flags&128)&&(typeof M.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Li===null||!Li.has(H)))){m.flags|=65536,r&=-r,m.lanes|=r;var se=sp(m,C,r);Dd(m,se);break e}}m=m.return}while(m!==null)}Up(a)}catch(Ie){r=Ie,kt===a&&a!==null&&(kt=a=a.return);continue}break}while(!0)}function Fp(){var t=Nl.current;return Nl.current=Cl,t===null?Cl:t}function lh(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),jt===null||!(ys&268435455)&&!(Vl&268435455)||Fi(jt,Xt)}function Ul(t,r){var a=tt;tt|=2;var c=Fp();(jt!==t||Xt!==r)&&(ri=null,vs(t,r));do try{rv();break}catch(f){Op(t,f)}while(!0);if(wc(),tt=a,Nl.current=c,kt!==null)throw Error(n(261));return jt=null,Xt=0,Lt}function rv(){for(;kt!==null;)bp(kt)}function iv(){for(;kt!==null&&!Tr();)bp(kt)}function bp(t){var r=Bp(t.alternate,t,On);t.memoizedProps=t.pendingProps,r===null?Up(t):kt=r,Zc.current=null}function Up(t){var r=t;do{var a=r.alternate;if(t=r.return,r.flags&32768){if(a=X_(a,r),a!==null){a.flags&=32767,kt=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lt=6,kt=null;return}}else if(a=Y_(a,r,On),a!==null){kt=a;return}if(r=r.sibling,r!==null){kt=r;return}kt=r=t}while(r!==null);Lt===0&&(Lt=5)}function Es(t,r,a){var c=He,f=qn.transition;try{qn.transition=null,He=1,sv(t,r,a,c)}finally{qn.transition=f,He=c}return null}function sv(t,r,a,c){do po();while(Mi!==null);if(tt&6)throw Error(n(327));a=t.finishedWork;var f=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=a.lanes|a.childLanes;if(ut(t,m),t===jt&&(kt=jt=null,Xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Ml||(Ml=!0,$p(Kt,function(){return po(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=qn.transition,qn.transition=null;var v=He;He=1;var C=tt;tt|=4,Zc.current=null,Z_(t,a),xp(a,t),R_(lc),Ii=!!ac,lc=ac=null,t.current=a,ev(a),tr(),tt=C,He=v,qn.transition=m}else t.current=a;if(Ml&&(Ml=!1,Mi=t,Ol=f),m=t.pendingLanes,m===0&&(Li=null),Ls(a.stateNode),Cn(t,st()),r!==null)for(c=t.onRecoverableError,a=0;a<r.length;a++)f=r[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Ll)throw Ll=!1,t=nh,nh=null,t;return Ol&1&&t.tag!==0&&po(),m=t.pendingLanes,m&1?t===rh?ua++:(ua=0,rh=t):ua=0,ki(),null}function po(){if(Mi!==null){var t=Ti(Ol),r=qn.transition,a=He;try{if(qn.transition=null,He=16>t?16:t,Mi===null)var c=!1;else{if(t=Mi,Mi=null,Ol=0,tt&6)throw Error(n(331));var f=tt;for(tt|=4,_e=t.current;_e!==null;){var m=_e,v=m.child;if(_e.flags&16){var C=m.deletions;if(C!==null){for(var D=0;D<C.length;D++){var W=C[D];for(_e=W;_e!==null;){var ee=_e;switch(ee.tag){case 0:case 11:case 15:oa(8,ee,m)}var ne=ee.child;if(ne!==null)ne.return=ee,_e=ne;else for(;_e!==null;){ee=_e;var Z=ee.sibling,pe=ee.return;if(Ip(ee),ee===W){_e=null;break}if(Z!==null){Z.return=pe,_e=Z;break}_e=pe}}}var we=m.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var At=Se.sibling;Se.sibling=null,Se=At}while(Se!==null)}}_e=m}}if(m.subtreeFlags&2064&&v!==null)v.return=m,_e=v;else e:for(;_e!==null;){if(m=_e,m.flags&2048)switch(m.tag){case 0:case 11:case 15:oa(9,m,m.return)}var B=m.sibling;if(B!==null){B.return=m.return,_e=B;break e}_e=m.return}}var M=t.current;for(_e=M;_e!==null;){v=_e;var H=v.child;if(v.subtreeFlags&2064&&H!==null)H.return=v,_e=H;else e:for(v=M;_e!==null;){if(C=_e,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Dl(9,C)}}catch(Ie){Rt(C,C.return,Ie)}if(C===v){_e=null;break e}var se=C.sibling;if(se!==null){se.return=C.return,_e=se;break e}_e=C.return}}if(tt=f,ki(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(vn,t)}catch{}c=!0}return c}finally{He=a,qn.transition=r}}return!1}function jp(t,r,a){r=uo(a,r),r=ip(t,r,1),t=Ni(t,r,1),r=gn(),t!==null&&(Ei(t,1,r),Cn(t,r))}function Rt(t,r,a){if(t.tag===3)jp(t,t,a);else for(;r!==null;){if(r.tag===3){jp(r,t,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Li===null||!Li.has(c))){t=uo(a,t),t=sp(r,t,1),r=Ni(r,t,1),t=gn(),r!==null&&(Ei(r,1,t),Cn(r,t));break}}r=r.return}}function ov(t,r,a){var c=t.pingCache;c!==null&&c.delete(r),r=gn(),t.pingedLanes|=t.suspendedLanes&a,jt===t&&(Xt&a)===a&&(Lt===4||Lt===3&&(Xt&130023424)===Xt&&500>st()-th?vs(t,0):eh|=a),Cn(t,r)}function zp(t,r){r===0&&(t.mode&1?(r=Os,Os<<=1,!(Os&130023424)&&(Os=4194304)):r=1);var a=gn();t=ei(t,r),t!==null&&(Ei(t,r,a),Cn(t,a))}function av(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),zp(t,a)}function lv(t,r){var a=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),zp(t,a)}var Bp;Bp=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||Tn.current)In=!0;else{if(!(t.lanes&a)&&!(r.flags&128))return In=!1,G_(t,r,a);In=!!(t.flags&131072)}else In=!1,_t&&r.flags&1048576&&wd(r,pl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;xl(t,r),t=r.pendingProps;var f=to(r,sn.current);ao(r,a),f=Nc(null,r,c,t,f,a);var m=Vc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Sn(c)?(m=!0,hl(r)):m=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Rc(r),f.updater=Al,r.stateNode=f,f._reactInternals=r,Uc(r,c,t,a),r=$c(null,r,c,!0,m,a)):(r.tag=0,_t&&m&&mc(r),mn(null,r,f,a),r=r.child),r;case 16:c=r.elementType;e:{switch(xl(t,r),t=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=cv(c),t=cr(c,t),f){case 0:r=Bc(null,r,c,t,a);break e;case 1:r=pp(null,r,c,t,a);break e;case 11:r=up(null,r,c,t,a);break e;case 14:r=cp(null,r,c,cr(c.type,t),a);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:cr(c,f),Bc(t,r,c,f,a);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:cr(c,f),pp(t,r,c,f,a);case 3:e:{if(mp(r),t===null)throw Error(n(387));c=r.pendingProps,m=r.memoizedState,f=m.element,kd(t,r),El(r,c,null,a);var v=r.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){f=uo(Error(n(423)),r),r=gp(t,r,c,a,f);break e}else if(c!==f){f=uo(Error(n(424)),r),r=gp(t,r,c,a,f);break e}else for(Mn=Ai(r.stateNode.containerInfo.firstChild),Ln=r,_t=!0,ur=null,a=Pd(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(io(),c===f){r=ni(t,r,a);break e}mn(t,r,c,a)}r=r.child}return r;case 5:return Vd(r),t===null&&_c(r),c=r.type,f=r.pendingProps,m=t!==null?t.memoizedProps:null,v=f.children,uc(c,f)?v=null:m!==null&&uc(c,m)&&(r.flags|=32),dp(t,r),mn(t,r,v,a),r.child;case 6:return t===null&&_c(r),null;case 13:return yp(t,r,a);case 4:return Cc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=so(r,null,c,a):mn(t,r,c,a),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:cr(c,f),up(t,r,c,f,a);case 7:return mn(t,r,r.pendingProps,a),r.child;case 8:return mn(t,r,r.pendingProps.children,a),r.child;case 12:return mn(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,m=r.memoizedProps,v=f.value,ht(yl,c._currentValue),c._currentValue=v,m!==null)if(lr(m.value,v)){if(m.children===f.children&&!Tn.current){r=ni(t,r,a);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var C=m.dependencies;if(C!==null){v=m.child;for(var D=C.firstContext;D!==null;){if(D.context===c){if(m.tag===1){D=ti(-1,a&-a),D.tag=2;var W=m.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?D.next=D:(D.next=ee.next,ee.next=D),W.pending=D}}m.lanes|=a,D=m.alternate,D!==null&&(D.lanes|=a),Sc(m.return,a,r),C.lanes|=a;break}D=D.next}}else if(m.tag===10)v=m.type===r.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(n(341));v.lanes|=a,C=v.alternate,C!==null&&(C.lanes|=a),Sc(v,a,r),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===r){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}mn(t,r,f.children,a),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,ao(r,a),f=$n(f),c=c(f),r.flags|=1,mn(t,r,c,a),r.child;case 14:return c=r.type,f=cr(c,r.pendingProps),f=cr(c.type,f),cp(t,r,c,f,a);case 15:return hp(t,r,r.type,r.pendingProps,a);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:cr(c,f),xl(t,r),r.tag=1,Sn(c)?(t=!0,hl(r)):t=!1,ao(r,a),np(r,c,f),Uc(r,c,f,a),$c(null,r,c,!0,t,a);case 19:return vp(t,r,a);case 22:return fp(t,r,a)}throw Error(n(156,r.tag))};function $p(t,r){return Wt(t,r)}function uv(t,r,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,r,a,c){return new uv(t,r,a,c)}function uh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cv(t){if(typeof t=="function")return uh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===b)return 11;if(t===Be)return 14}return 2}function bi(t,r){var a=t.alternate;return a===null?(a=Wn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function jl(t,r,a,c,f,m){var v=2;if(c=t,typeof t=="function")uh(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case x:return ws(a.children,f,m,r);case T:v=8,f|=8;break;case R:return t=Wn(12,a,r,f|2),t.elementType=R,t.lanes=m,t;case A:return t=Wn(13,a,r,f),t.elementType=A,t.lanes=m,t;case ct:return t=Wn(19,a,r,f),t.elementType=ct,t.lanes=m,t;case Ke:return zl(a,f,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:v=10;break e;case L:v=9;break e;case b:v=11;break e;case Be:v=14;break e;case Ct:v=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=Wn(v,a,r,f),r.elementType=t,r.type=c,r.lanes=m,r}function ws(t,r,a,c){return t=Wn(7,t,c,r),t.lanes=a,t}function zl(t,r,a,c){return t=Wn(22,t,c,r),t.elementType=Ke,t.lanes=a,t.stateNode={isHidden:!1},t}function ch(t,r,a){return t=Wn(6,t,null,r),t.lanes=a,t}function hh(t,r,a){return r=Wn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function hv(t,r,a,c,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vi(0),this.expirationTimes=vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function fh(t,r,a,c,f,m,v,C,D){return t=new hv(t,r,a,C,D),r===1?(r=1,m===!0&&(r|=8)):r=0,m=Wn(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(m),t}function fv(t,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:c==null?null:""+c,children:t,containerInfo:r,implementation:a}}function Hp(t){if(!t)return xi;t=t._reactInternals;e:{if($e(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Sn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var a=t.type;if(Sn(a))return _d(t,a,r)}return r}function qp(t,r,a,c,f,m,v,C,D){return t=fh(a,c,!0,t,f,m,v,C,D),t.context=Hp(null),a=t.current,c=gn(),f=Oi(a),m=ti(c,f),m.callback=r??null,Ni(a,m,f),t.current.lanes=f,Ei(t,f,c),Cn(t,c),t}function Bl(t,r,a,c){var f=r.current,m=gn(),v=Oi(f);return a=Hp(a),r.context===null?r.context=a:r.pendingContext=a,r=ti(m,v),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Ni(f,r,v),t!==null&&(dr(t,f,v,m),vl(t,f,v)),v}function $l(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function dh(t,r){Wp(t,r),(t=t.alternate)&&Wp(t,r)}var Kp=typeof reportError=="function"?reportError:function(t){console.error(t)};function ph(t){this._internalRoot=t}Hl.prototype.render=ph.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Bl(t,r,null,null)},Hl.prototype.unmount=ph.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;_s(function(){Bl(null,t,null,null)}),r[Yr]=null}};function Hl(t){this._internalRoot=t}Hl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ha();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Ir.length&&r!==0&&r<Ir[a].priority;a++);Ir.splice(a,0,t),a===0&&Ka(t)}};function mh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qp(){}function dv(t,r,a,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var W=$l(v);m.call(W)}}var v=qp(r,c,t,0,null,!1,!1,"",Qp);return t._reactRootContainer=v,t[Yr]=v.current,Ko(t.nodeType===8?t.parentNode:t),_s(),v}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var C=c;c=function(){var W=$l(D);C.call(W)}}var D=fh(t,0,!1,null,null,!1,!1,"",Qp);return t._reactRootContainer=D,t[Yr]=D.current,Ko(t.nodeType===8?t.parentNode:t),_s(function(){Bl(r,D,a,c)}),D}function Wl(t,r,a,c,f){var m=a._reactRootContainer;if(m){var v=m;if(typeof f=="function"){var C=f;f=function(){var D=$l(v);C.call(D)}}Bl(r,v,t,f)}else v=dv(a,r,t,f,c);return $l(v)}Ba=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=_i(r.pendingLanes);a!==0&&(wi(r,a|1),Cn(r,st()),!(tt&6)&&(fo=st()+500,ki()))}break;case 13:_s(function(){var c=ei(t,1);if(c!==null){var f=gn();dr(c,t,1,f)}}),dh(t,1)}},Fs=function(t){if(t.tag===13){var r=ei(t,134217728);if(r!==null){var a=gn();dr(r,t,134217728,a)}dh(t,134217728)}},$a=function(t){if(t.tag===13){var r=Oi(t),a=ei(t,r);if(a!==null){var c=gn();dr(a,t,r,c)}dh(t,r)}},Ha=function(){return He},qa=function(t,r){var a=He;try{return He=t,r()}finally{He=a}},zr=function(t,r,a){switch(r){case"input":if(es(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==t&&c.form===t.form){var f=ul(c);if(!f)throw Error(n(90));ci(c),es(c,f)}}}break;case"textarea":_r(t,a);break;case"select":r=a.value,r!=null&&Ht(t,!!a.multiple,r,!1)}},Br=oh,N=_s;var pv={usingClientEntryPoint:!1,Events:[Yo,Zs,ul,fn,rs,oh]},ca={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mv={bundleType:ca.bundleType,version:ca.version,rendererPackageName:ca.rendererPackageName,rendererConfig:ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=er(t),t===null?null:t.stateNode},findFiberByHostInstance:ca.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{vn=Kl.inject(mv),rn=Kl}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pv,An.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mh(r))throw Error(n(200));return fv(t,r,null,a)},An.createRoot=function(t,r){if(!mh(t))throw Error(n(299));var a=!1,c="",f=Kp;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=fh(t,1,!1,null,null,a,!1,c,f),t[Yr]=r.current,Ko(t.nodeType===8?t.parentNode:t),new ph(r)},An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=er(r),t=t===null?null:t.stateNode,t},An.flushSync=function(t){return _s(t)},An.hydrate=function(t,r,a){if(!ql(r))throw Error(n(200));return Wl(null,t,r,!0,a)},An.hydrateRoot=function(t,r,a){if(!mh(t))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,f=!1,m="",v=Kp;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),r=qp(r,null,t,1,a??null,f,!1,m,v),t[Yr]=r.current,Ko(t),c)for(t=0;t<c.length;t++)a=c[t],f=a._getVersion,f=f(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,f]:r.mutableSourceEagerHydrationData.push(a,f);return new Hl(r)},An.render=function(t,r,a){if(!ql(r))throw Error(n(200));return Wl(null,t,r,!1,a)},An.unmountComponentAtNode=function(t){if(!ql(t))throw Error(n(40));return t._reactRootContainer?(_s(function(){Wl(null,null,t,!1,function(){t._reactRootContainer=null,t[Yr]=null})}),!0):!1},An.unstable_batchedUpdates=oh,An.unstable_renderSubtreeIntoContainer=function(t,r,a,c){if(!ql(a))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Wl(t,r,a,!1,c)},An.version="18.3.1-next-f1338f8080-20240426",An}var nm;function wg(){if(nm)return _h.exports;nm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_h.exports=Tv(),_h.exports}var rm;function Sv(){if(rm)return Ql;rm=1;var i=wg();return Ql.createRoot=i.createRoot,Ql.hydrateRoot=i.hydrateRoot,Ql}var Iv=Sv(),fa={},im;function Rv(){if(im)return fa;im=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.parse=h,fa.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function h(I,P){const V=new u,$=I.length;if($<2)return V;const j=(P==null?void 0:P.decode)||E;let K=0;do{const re=I.indexOf("=",K);if(re===-1)break;const ie=I.indexOf(";",K),me=ie===-1?$:ie;if(re>me){K=I.lastIndexOf(";",re-1)+1;continue}const U=d(I,K,re),fe=g(I,re,U),x=I.slice(U,fe);if(V[x]===void 0){let T=d(I,re+1,me),R=g(I,me,T);const k=j(I.slice(T,R));V[x]=k}K=me+1}while(K<$);return V}function d(I,P,V){do{const $=I.charCodeAt(P);if($!==32&&$!==9)return P}while(++P<V);return V}function g(I,P,V){for(;P>V;){const $=I.charCodeAt(--P);if($!==32&&$!==9)return P+1}return V}function y(I,P,V){const $=(V==null?void 0:V.encode)||encodeURIComponent;if(!i.test(I))throw new TypeError(`argument name is invalid: ${I}`);const j=$(P);if(!e.test(j))throw new TypeError(`argument val is invalid: ${P}`);let K=I+"="+j;if(!V)return K;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);K+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);K+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);K+="; Path="+V.path}if(V.expires){if(!S(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);K+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(K+="; HttpOnly"),V.secure&&(K+="; Secure"),V.partitioned&&(K+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return K}function E(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function S(I){return o.call(I)==="[object Date]"}return fa}Rv();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sm="popstate";function Cv(i={}){function e(o,u){let{pathname:h="/",search:d="",hash:g=""}=li(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Ia("",{pathname:h,search:d,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");d=y===-1?g:g.slice(0,y)}return d+"#"+(typeof u=="string"?u:Qi(u))}function s(o,u){$t(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Pv(e,n,s,i)}function We(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function $t(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Av(){return Math.random().toString(36).substring(2,10)}function om(i,e){return{usr:i.state,key:i.key,idx:e}}function Ia(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?li(e):e,state:n,key:e&&e.key||s||Av()}}function Qi({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function li(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Pv(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",g=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function S(){d="POP";let j=E(),K=j==null?null:j-y;y=j,g&&g({action:d,location:$.location,delta:K})}function I(j,K){d="PUSH";let re=Ia($.location,j,K);n(re,j),y=E()+1;let ie=om(re,y),me=$.createHref(re);try{h.pushState(ie,"",me)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(me)}u&&g&&g({action:d,location:$.location,delta:1})}function P(j,K){d="REPLACE";let re=Ia($.location,j,K);n(re,j),y=E();let ie=om(re,y),me=$.createHref(re);h.replaceState(ie,"",me),u&&g&&g({action:d,location:$.location,delta:0})}function V(j){let K=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof j=="string"?j:Qi(j);return re=re.replace(/ $/,"%20"),We(K,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,K)}let $={get action(){return d},get location(){return i(o,h)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(sm,S),g=j,()=>{o.removeEventListener(sm,S),g=null}},createHref(j){return e(o,j)},createURL:V,encodeLocation(j){let K=V(j);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:I,replace:P,go(j){return h.go(j)}};return $}var xv=new Set(["lazy","caseSensitive","path","id","index","children"]);function kv(i){return i.index===!0}function fu(i,e,n=[],s={}){return i.map((o,u)=>{let h=[...n,String(u)],d=typeof o.id=="string"?o.id:h.join("-");if(We(o.index!==!0||!o.children,"Cannot specify children on an index route"),We(!s[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),kv(o)){let g={...o,...e(o),id:d};return s[d]=g,g}else{let g={...o,...e(o),id:d,children:void 0};return s[d]=g,o.children&&(g.children=fu(o.children,e,h,s)),g}})}function zi(i,e,n="/"){return ru(i,e,n,!1)}function ru(i,e,n,s){let o=typeof e=="string"?li(e):e,u=yr(o.pathname||"/",n);if(u==null)return null;let h=Tg(i);Nv(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let y=$v(u);d=zv(h[g],y,s)}return d}function Dv(i,e){let{route:n,pathname:s,params:o}=i;return{id:n.id,pathname:s,params:o,data:e[n.id],handle:n.handle}}function Tg(i,e=[],n=[],s=""){let o=(u,h,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(We(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Vr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(We(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Tg(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Uv(y,u.index),routesMeta:E})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let g of Sg(u.path))o(u,h,g)}),e}function Sg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Sg(s.join("/")),d=[];return d.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&d.push(...h),d.map(g=>i.startsWith("/")&&g===""?"/":g)}function Nv(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:jv(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Vv=/^:[\w-]+$/,Lv=3,Mv=2,Ov=1,Fv=10,bv=-2,am=i=>i==="*";function Uv(i,e){let n=i.split("/"),s=n.length;return n.some(am)&&(s+=bv),e&&(s+=Mv),n.filter(o=>!am(o)).reduce((o,u)=>o+(Vv.test(u)?Lv:u===""?Ov:Fv),s)}function jv(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function zv(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let g=s[d],y=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=du({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),I=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=du({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Vr([u,S.pathname]),pathnameBase:Wv(Vr([u,S.pathnameBase])),route:I}),S.pathnameBase!=="/"&&(u=Vr([u,S.pathnameBase]))}return h}function du(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Bv(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},I)=>{if(E==="*"){let V=d[I]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const P=d[I];return S&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function Bv(i,e=!1,n=!0){$t(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function $v(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function yr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Hv(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?li(i):i;return{pathname:n?n.startsWith("/")?n:qv(n,e):e,search:Kv(s),hash:Qv(o)}}function qv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function wh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ig(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rf(i){let e=Ig(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function sf(i,e,n,s=!1){let o;typeof i=="string"?o=li(i):(o={...i},We(!o.pathname||!o.pathname.includes("?"),wh("?","pathname","search",o)),We(!o.pathname||!o.pathname.includes("#"),wh("#","pathname","hash",o)),We(!o.search||!o.search.includes("#"),wh("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),S-=1;o.pathname=I.join("/")}d=S>=0?e[S]:"/"}let g=Hv(o,d),y=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Vr=i=>i.join("/").replace(/\/\/+/g,"/"),Wv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Kv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Qv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,pu=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function xu(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Rg=["POST","PUT","PATCH","DELETE"],Gv=new Set(Rg),Yv=["GET",...Rg],Xv=new Set(Yv),Jv=new Set([301,302,303,307,308]),Zv=new Set([307,308]),Th={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},da={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},of=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tE=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),Cg="remix-router-transitions",Ag=Symbol("ResetLoaderData");function nE(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";We(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.mapRouteProperties||tE,o={},u=fu(i.routes,s,void 0,o),h,d=i.basename||"/",g=i.dataStrategy||aE,y=i.patchRoutesOnNavigation,E={...i.future},S=null,I=new Set,P=null,V=null,$=null,j=i.hydrationData!=null,K=zi(u,i.history.location,d),re=null;if(K==null&&!y){let N=Kn(404,{pathname:i.history.location.pathname}),{matches:F,route:Q}=_m(u);K=F,re={[Q.id]:N}}K&&!i.hydrationData&&Jn(K,u,i.history.location.pathname).active&&(K=null);let ie;if(K)if(K.some(N=>N.route.lazy))ie=!1;else if(!K.some(N=>N.route.loader))ie=!0;else{let N=i.hydrationData?i.hydrationData.loaderData:null,F=i.hydrationData?i.hydrationData.errors:null;if(F){let Q=K.findIndex(X=>F[X.route.id]!==void 0);ie=K.slice(0,Q+1).every(X=>!Lh(X.route,N,F))}else ie=K.every(Q=>!Lh(Q.route,N,F))}else{ie=!1,K=[];let N=Jn(null,u,i.history.location.pathname);N.active&&N.matches&&(K=N.matches)}let me,U={historyAction:i.history.action,location:i.history.location,matches:K,initialized:ie,navigation:Th,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||re,fetchers:new Map,blockers:new Map},fe="POP",x=!1,T,R=!1,k=new Map,L=null,b=!1,A=!1,ct=new Set,Be=new Map,Ct=0,Ke=-1,oe=new Map,Te=new Set,ce=new Map,O=new Map,Y=new Set,Ee=new Map,Me,Ve=null;function je(){if(S=i.history.listen(({action:N,location:F,delta:Q})=>{if(Me){Me(),Me=void 0;return}$t(Ee.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=gi({currentLocation:U.location,nextLocation:F,historyAction:N});if(X&&Q!=null){let he=new Promise(ye=>{Me=ye});i.history.go(Q*-1),wr(X,{state:"blocked",location:F,proceed(){wr(X,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),he.then(()=>i.history.go(Q))},reset(){let ye=new Map(U.blockers);ye.set(X,da),Fe({blockers:ye})}});return}return tn(N,F)}),n){_E(e,k);let N=()=>vE(e,k);e.addEventListener("pagehide",N),L=()=>e.removeEventListener("pagehide",N)}return U.initialized||tn("POP",U.location,{initialHydration:!0}),me}function Je(){S&&S(),L&&L(),I.clear(),T&&T.abort(),U.fetchers.forEach((N,F)=>xn(F)),U.blockers.forEach((N,F)=>mi(F))}function Ze(N){return I.add(N),()=>I.delete(N)}function Fe(N,F={}){U={...U,...N};let Q=[],X=[];U.fetchers.forEach((he,ye)=>{he.state==="idle"&&(Y.has(ye)?Q.push(ye):X.push(ye))}),Y.forEach(he=>{!U.fetchers.has(he)&&!Be.has(he)&&Q.push(he)}),[...I].forEach(he=>he(U,{deletedFetchers:Q,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),Q.forEach(he=>xn(he)),X.forEach(he=>U.fetchers.delete(he))}function ft(N,F,{flushSync:Q}={}){var ae,ke;let X=U.actionData!=null&&U.navigation.formMethod!=null&&pr(U.navigation.formMethod)&&U.navigation.state==="loading"&&((ae=N.state)==null?void 0:ae._isRedirect)!==!0,he;F.actionData?Object.keys(F.actionData).length>0?he=F.actionData:he=null:X?he=U.actionData:he=null;let ye=F.loaderData?gm(U.loaderData,F.loaderData,F.matches||[],F.errors):U.loaderData,Ce=U.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((be,rt)=>Ce.set(rt,da)));let de=x===!0||U.navigation.formMethod!=null&&pr(U.navigation.formMethod)&&((ke=N.state)==null?void 0:ke._isRedirect)!==!0;h&&(u=h,h=void 0),b||fe==="POP"||(fe==="PUSH"?i.history.push(N,N.state):fe==="REPLACE"&&i.history.replace(N,N.state));let ve;if(fe==="POP"){let be=k.get(U.location.pathname);be&&be.has(N.pathname)?ve={currentLocation:U.location,nextLocation:N}:k.has(N.pathname)&&(ve={currentLocation:N,nextLocation:U.location})}else if(R){let be=k.get(U.location.pathname);be?be.add(N.pathname):(be=new Set([N.pathname]),k.set(U.location.pathname,be)),ve={currentLocation:U.location,nextLocation:N}}Fe({...F,actionData:he,loaderData:ye,historyAction:fe,location:N,initialized:!0,navigation:Th,revalidation:"idle",restoreScrollPosition:kn(N,F.matches||U.matches),preventScrollReset:de,blockers:Ce},{viewTransitionOpts:ve,flushSync:Q===!0}),fe="POP",x=!1,R=!1,b=!1,A=!1,Ve==null||Ve.resolve(),Ve=null}async function bn(N,F){if(typeof N=="number"){i.history.go(N);return}let Q=Vh(U.location,U.matches,d,N,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:X,submission:he,error:ye}=lm(!1,Q,F),Ce=U.location,de=Ia(U.location,X,F&&F.state);de={...de,...i.history.encodeLocation(de)};let ve=F&&F.replace!=null?F.replace:void 0,ae="PUSH";ve===!0?ae="REPLACE":ve===!1||he!=null&&pr(he.formMethod)&&he.formAction===U.location.pathname+U.location.search&&(ae="REPLACE");let ke=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,be=(F&&F.flushSync)===!0,rt=gi({currentLocation:Ce,nextLocation:de,historyAction:ae});if(rt){wr(rt,{state:"blocked",location:de,proceed(){wr(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),bn(N,F)},reset(){let It=new Map(U.blockers);It.set(rt,da),Fe({blockers:It})}});return}await tn(ae,de,{submission:he,pendingError:ye,preventScrollReset:ke,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:be})}function ci(){Ve||(Ve=EE()),_r(),Fe({revalidation:"loading"});let N=Ve.promise;return U.navigation.state==="submitting"?N:U.navigation.state==="idle"?(tn(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),N):(tn(fe||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:R===!0}),N)}async function tn(N,F,Q){T&&T.abort(),T=null,fe=N,b=(Q&&Q.startUninterruptedRevalidation)===!0,_n(U.location,U.matches),x=(Q&&Q.preventScrollReset)===!0,R=(Q&&Q.enableViewTransition)===!0;let X=h||u,he=Q&&Q.overrideNavigation,ye=zi(X,F,d),Ce=(Q&&Q.flushSync)===!0,de=Jn(ye,X,F.pathname);if(de.active&&de.matches&&(ye=de.matches),!ye){let{error:$e,notFoundMatches:et,route:it}=Xn(F.pathname);ft(F,{matches:et,loaderData:{},errors:{[it.id]:$e}},{flushSync:Ce});return}if(U.initialized&&!A&&dE(U.location,F)&&!(Q&&Q.submission&&pr(Q.submission.formMethod))){ft(F,{matches:ye},{flushSync:Ce});return}T=new AbortController;let ve=mo(i.history,F,T.signal,Q&&Q.submission),ae;if(Q&&Q.pendingError)ae=[Ss(ye).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&pr(Q.submission.formMethod)){let $e=await Ur(ve,F,Q.submission,ye,de.active,{replace:Q.replace,flushSync:Ce});if($e.shortCircuited)return;if($e.pendingActionResult){let[et,it]=$e.pendingActionResult;if(Fn(it)&&xu(it.error)&&it.error.status===404){T=null,ft(F,{matches:$e.matches,loaderData:{},errors:{[et]:it.error}});return}}ye=$e.matches||ye,ae=$e.pendingActionResult,he=Sh(F,Q.submission),Ce=!1,de.active=!1,ve=mo(i.history,ve.url,ve.signal)}let{shortCircuited:ke,matches:be,loaderData:rt,errors:It}=await hi(ve,F,ye,de.active,he,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Ce,ae);ke||(T=null,ft(F,{matches:be||ye,...ym(ae),loaderData:rt,errors:It}))}async function Ur(N,F,Q,X,he,ye={}){_r();let Ce=gE(F,Q);if(Fe({navigation:Ce},{flushSync:ye.flushSync===!0}),he){let ae=await fn(X,F.pathname,N.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let ke=Ss(ae.partialMatches).route.id;return{matches:ae.partialMatches,pendingActionResult:[ke,{type:"error",error:ae.error}]}}else if(ae.matches)X=ae.matches;else{let{notFoundMatches:ke,error:be,route:rt}=Xn(F.pathname);return{matches:ke,pendingActionResult:[rt.id,{type:"error",error:be}]}}}let de,ve=ga(X,F);if(!ve.route.action&&!ve.route.lazy)de={type:"error",error:Kn(405,{method:N.method,pathname:F.pathname,routeId:ve.route.id})};else if(de=(await Yn("action",U,N,[ve],X,null))[ve.route.id],N.signal.aborted)return{shortCircuited:!0};if(Is(de)){let ae;return ye&&ye.replace!=null?ae=ye.replace:ae=dm(de.response.headers.get("Location"),new URL(N.url),d)===U.location.pathname+U.location.search,await Ht(N,de,!0,{submission:Q,replace:ae}),{shortCircuited:!0}}if(Fn(de)){let ae=Ss(X,ve.route.id);return(ye&&ye.replace)!==!0&&(fe="PUSH"),{matches:X,pendingActionResult:[ae.route.id,de]}}return{matches:X,pendingActionResult:[ve.route.id,de]}}async function hi(N,F,Q,X,he,ye,Ce,de,ve,ae,ke){let be=he||Sh(F,ye),rt=ye||Ce||Em(be),It=!b&&!ve;if(X){if(It){let dt=fi(ke);Fe({navigation:be,...dt!==void 0?{actionData:dt}:{}},{flushSync:ae})}let Qe=await fn(Q,F.pathname,N.signal);if(Qe.type==="aborted")return{shortCircuited:!0};if(Qe.type==="error"){let dt=Ss(Qe.partialMatches).route.id;return{matches:Qe.partialMatches,loaderData:{},errors:{[dt]:Qe.error}}}else if(Qe.matches)Q=Qe.matches;else{let{error:dt,notFoundMatches:Kt,route:nr}=Xn(F.pathname);return{matches:Kt,loaderData:{},errors:{[nr.id]:dt}}}}let $e=h||u,[et,it]=cm(i.history,U,Q,rt,F,ve===!0,A,ct,Y,ce,Te,$e,d,ke);if(Ke=++Ct,et.length===0&&it.length===0){let Qe=Er();return ft(F,{matches:Q,loaderData:{},errors:ke&&Fn(ke[1])?{[ke[0]]:ke[1].error}:null,...ym(ke),...Qe?{fetchers:new Map(U.fetchers)}:{}},{flushSync:ae}),{shortCircuited:!0}}if(It){let Qe={};if(!X){Qe.navigation=be;let dt=fi(ke);dt!==void 0&&(Qe.actionData=dt)}it.length>0&&(Qe.fetchers=es(it)),Fe(Qe,{flushSync:ae})}it.forEach(Qe=>{qt(Qe.key),Qe.controller&&Be.set(Qe.key,Qe.controller)});let Zn=()=>it.forEach(Qe=>qt(Qe.key));T&&T.signal.addEventListener("abort",Zn);let{loaderResults:er,fetcherResults:nn}=await jr(U,Q,et,it,N);if(N.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Zn),it.forEach(Qe=>Be.delete(Qe.key));let Wt=Gl(er);if(Wt)return await Ht(N,Wt.result,!0,{replace:de}),{shortCircuited:!0};if(Wt=Gl(nn),Wt)return Te.add(Wt.key),await Ht(N,Wt.result,!0,{replace:de}),{shortCircuited:!0};let{loaderData:$r,errors:Tr}=mm(U,Q,er,ke,it,nn);ve&&U.errors&&(Tr={...U.errors,...Tr});let tr=Er(),st=pi(Ke),Hr=tr||st||it.length>0;return{matches:Q,loaderData:$r,errors:Tr,...Hr?{fetchers:new Map(U.fetchers)}:{}}}function fi(N){if(N&&!Fn(N[1]))return{[N[0]]:N[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function es(N){return N.forEach(F=>{let Q=U.fetchers.get(F.key),X=pa(void 0,Q?Q.data:void 0);U.fetchers.set(F.key,X)}),new Map(U.fetchers)}async function Vs(N,F,Q,X){qt(N);let he=(X&&X.flushSync)===!0,ye=h||u,Ce=Vh(U.location,U.matches,d,Q,F,X==null?void 0:X.relative),de=zi(ye,Ce,d),ve=Jn(de,ye,Ce);if(ve.active&&ve.matches&&(de=ve.matches),!de){at(N,F,Kn(404,{pathname:Ce}),{flushSync:he});return}let{path:ae,submission:ke,error:be}=lm(!0,Ce,X);if(be){at(N,F,be,{flushSync:he});return}let rt=ga(de,ae),It=(X&&X.preventScrollReset)===!0;if(ke&&pr(ke.formMethod)){await di(N,F,ae,rt,de,ve.active,he,It,ke);return}ce.set(N,{routeId:F,path:ae}),await Gn(N,F,ae,rt,de,ve.active,he,It,ke)}async function di(N,F,Q,X,he,ye,Ce,de,ve){_r(),ce.delete(N);function ae(pt){if(!pt.route.action&&!pt.route.lazy){let vn=Kn(405,{method:ve.formMethod,pathname:Q,routeId:F});return at(N,F,vn,{flushSync:Ce}),!0}return!1}if(!ye&&ae(X))return;let ke=U.fetchers.get(N);yn(N,yE(ve,ke),{flushSync:Ce});let be=new AbortController,rt=mo(i.history,Q,be.signal,ve);if(ye){let pt=await fn(he,Q,rt.signal);if(pt.type==="aborted")return;if(pt.type==="error"){at(N,F,pt.error,{flushSync:Ce});return}else if(pt.matches){if(he=pt.matches,X=ga(he,Q),ae(X))return}else{at(N,F,Kn(404,{pathname:Q}),{flushSync:Ce});return}}Be.set(N,be);let It=Ct,et=(await Yn("action",U,rt,[X],he,N))[X.route.id];if(rt.signal.aborted){Be.get(N)===be&&Be.delete(N);return}if(Y.has(N)){if(Is(et)||Fn(et)){yn(N,ji(void 0));return}}else{if(Is(et))if(Be.delete(N),Ke>It){yn(N,ji(void 0));return}else return Te.add(N),yn(N,pa(ve)),Ht(rt,et,!1,{fetcherSubmission:ve,preventScrollReset:de});if(Fn(et)){at(N,F,et.error);return}}let it=U.navigation.location||U.location,Zn=mo(i.history,it,be.signal),er=h||u,nn=U.navigation.state!=="idle"?zi(er,U.navigation.location,d):U.matches;We(nn,"Didn't find any matches after fetcher action");let Wt=++Ct;oe.set(N,Wt);let $r=pa(ve,et.data);U.fetchers.set(N,$r);let[Tr,tr]=cm(i.history,U,nn,ve,it,!1,A,ct,Y,ce,Te,er,d,[X.route.id,et]);tr.filter(pt=>pt.key!==N).forEach(pt=>{let vn=pt.key,rn=U.fetchers.get(vn),Ls=pa(void 0,rn?rn.data:void 0);U.fetchers.set(vn,Ls),qt(vn),pt.controller&&Be.set(vn,pt.controller)}),Fe({fetchers:new Map(U.fetchers)});let st=()=>tr.forEach(pt=>qt(pt.key));be.signal.addEventListener("abort",st);let{loaderResults:Hr,fetcherResults:Qe}=await jr(U,nn,Tr,tr,Zn);if(be.signal.aborted)return;be.signal.removeEventListener("abort",st),oe.delete(N),Be.delete(N),tr.forEach(pt=>Be.delete(pt.key));let dt=Gl(Hr);if(dt)return Ht(Zn,dt.result,!1,{preventScrollReset:de});if(dt=Gl(Qe),dt)return Te.add(dt.key),Ht(Zn,dt.result,!1,{preventScrollReset:de});let{loaderData:Kt,errors:nr}=mm(U,nn,Hr,void 0,tr,Qe);if(U.fetchers.has(N)){let pt=ji(et.data);U.fetchers.set(N,pt)}pi(Wt),U.navigation.state==="loading"&&Wt>Ke?(We(fe,"Expected pending action"),T&&T.abort(),ft(U.navigation.location,{matches:nn,loaderData:Kt,errors:nr,fetchers:new Map(U.fetchers)})):(Fe({errors:nr,loaderData:gm(U.loaderData,Kt,nn,nr),fetchers:new Map(U.fetchers)}),A=!1)}async function Gn(N,F,Q,X,he,ye,Ce,de,ve){let ae=U.fetchers.get(N);yn(N,pa(ve,ae?ae.data:void 0),{flushSync:Ce});let ke=new AbortController,be=mo(i.history,Q,ke.signal);if(ye){let et=await fn(he,Q,be.signal);if(et.type==="aborted")return;if(et.type==="error"){at(N,F,et.error,{flushSync:Ce});return}else if(et.matches)he=et.matches,X=ga(he,Q);else{at(N,F,Kn(404,{pathname:Q}),{flushSync:Ce});return}}Be.set(N,ke);let rt=Ct,$e=(await Yn("loader",U,be,[X],he,N))[X.route.id];if(Be.get(N)===ke&&Be.delete(N),!be.signal.aborted){if(Y.has(N)){yn(N,ji(void 0));return}if(Is($e))if(Ke>rt){yn(N,ji(void 0));return}else{Te.add(N),await Ht(be,$e,!1,{preventScrollReset:de});return}if(Fn($e)){at(N,F,$e.error);return}yn(N,ji($e.data))}}async function Ht(N,F,Q,{submission:X,fetcherSubmission:he,preventScrollReset:ye,replace:Ce}={}){F.response.headers.has("X-Remix-Revalidate")&&(A=!0);let de=F.response.headers.get("Location");We(de,"Expected a Location header on the redirect Response"),de=dm(de,new URL(N.url),d);let ve=Ia(U.location,de,{_isRedirect:!0});if(n){let $e=!1;if(F.response.headers.has("X-Remix-Reload-Document"))$e=!0;else if(of.test(de)){const et=i.history.createURL(de);$e=et.origin!==e.location.origin||yr(et.pathname,d)==null}if($e){Ce?e.location.replace(de):e.location.assign(de);return}}T=null;let ae=Ce===!0||F.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:be,formEncType:rt}=U.navigation;!X&&!he&&ke&&be&&rt&&(X=Em(U.navigation));let It=X||he;if(Zv.has(F.response.status)&&It&&pr(It.formMethod))await tn(ae,ve,{submission:{...It,formAction:de},preventScrollReset:ye||x,enableViewTransition:Q?R:void 0});else{let $e=Sh(ve,X);await tn(ae,ve,{overrideNavigation:$e,fetcherSubmission:he,preventScrollReset:ye||x,enableViewTransition:Q?R:void 0})}}async function Yn(N,F,Q,X,he,ye){let Ce,de={};try{Ce=await lE(g,N,F,Q,X,he,ye,o,s)}catch(ve){return X.forEach(ae=>{de[ae.route.id]={type:"error",error:ve}}),de}for(let[ve,ae]of Object.entries(Ce))if(pE(ae)){let ke=ae.result;de[ve]={type:"redirect",response:hE(ke,Q,ve,he,d)}}else de[ve]=await cE(ae);return de}async function jr(N,F,Q,X,he){let ye=Yn("loader",N,he,Q,F,null),Ce=Promise.all(X.map(async ae=>{if(ae.matches&&ae.match&&ae.controller){let be=(await Yn("loader",N,mo(i.history,ae.path,ae.controller.signal),[ae.match],ae.matches,ae.key))[ae.match.route.id];return{[ae.key]:be}}else return Promise.resolve({[ae.key]:{type:"error",error:Kn(404,{pathname:ae.path})}})})),de=await ye,ve=(await Ce).reduce((ae,ke)=>Object.assign(ae,ke),{});return{loaderResults:de,fetcherResults:ve}}function _r(){A=!0,ce.forEach((N,F)=>{Be.has(F)&&ct.add(F),qt(F)})}function yn(N,F,Q={}){U.fetchers.set(N,F),Fe({fetchers:new Map(U.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function at(N,F,Q,X={}){let he=Ss(U.matches,F);xn(N),Fe({errors:{[he.route.id]:Q},fetchers:new Map(U.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function St(N){return O.set(N,(O.get(N)||0)+1),Y.has(N)&&Y.delete(N),U.fetchers.get(N)||eE}function xn(N){let F=U.fetchers.get(N);Be.has(N)&&!(F&&F.state==="loading"&&oe.has(N))&&qt(N),ce.delete(N),oe.delete(N),Te.delete(N),Y.delete(N),ct.delete(N),U.fetchers.delete(N)}function ts(N){let F=(O.get(N)||0)-1;F<=0?(O.delete(N),Y.add(N)):O.set(N,F),Fe({fetchers:new Map(U.fetchers)})}function qt(N){let F=Be.get(N);F&&(F.abort(),Be.delete(N))}function vr(N){for(let F of N){let Q=St(F),X=ji(Q.data);U.fetchers.set(F,X)}}function Er(){let N=[],F=!1;for(let Q of Te){let X=U.fetchers.get(Q);We(X,`Expected fetcher: ${Q}`),X.state==="loading"&&(Te.delete(Q),N.push(Q),F=!0)}return vr(N),F}function pi(N){let F=[];for(let[Q,X]of oe)if(X<N){let he=U.fetchers.get(Q);We(he,`Expected fetcher: ${Q}`),he.state==="loading"&&(qt(Q),oe.delete(Q),F.push(Q))}return vr(F),F.length>0}function ns(N,F){let Q=U.blockers.get(N)||da;return Ee.get(N)!==F&&Ee.set(N,F),Q}function mi(N){U.blockers.delete(N),Ee.delete(N)}function wr(N,F){let Q=U.blockers.get(N)||da;We(Q.state==="unblocked"&&F.state==="blocked"||Q.state==="blocked"&&F.state==="blocked"||Q.state==="blocked"&&F.state==="proceeding"||Q.state==="blocked"&&F.state==="unblocked"||Q.state==="proceeding"&&F.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${F.state}`);let X=new Map(U.blockers);X.set(N,F),Fe({blockers:X})}function gi({currentLocation:N,nextLocation:F,historyAction:Q}){if(Ee.size===0)return;Ee.size>1&&$t(!1,"A router only supports one blocker at a time");let X=Array.from(Ee.entries()),[he,ye]=X[X.length-1],Ce=U.blockers.get(he);if(!(Ce&&Ce.state==="proceeding")&&ye({currentLocation:N,nextLocation:F,historyAction:Q}))return he}function Xn(N){let F=Kn(404,{pathname:N}),Q=h||u,{matches:X,route:he}=_m(Q);return{notFoundMatches:X,route:he,error:F}}function yi(N,F,Q){if(P=N,$=F,V=Q||null,!j&&U.navigation===Th){j=!0;let X=kn(U.location,U.matches);X!=null&&Fe({restoreScrollPosition:X})}return()=>{P=null,$=null,V=null}}function zr(N,F){return V&&V(N,F.map(X=>Dv(X,U.loaderData)))||N.key}function _n(N,F){if(P&&$){let Q=zr(N,F);P[Q]=$()}}function kn(N,F){if(P){let Q=zr(N,F),X=P[Q];if(typeof X=="number")return X}return null}function Jn(N,F,Q){if(y)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:ru(F,Q,d,!0)}}else return{active:!0,matches:ru(F,Q,d,!0)||[]};return{active:!1,matches:null}}async function fn(N,F,Q){if(!y)return{type:"success",matches:N};let X=N;for(;;){let he=h==null,ye=h||u,Ce=o;try{await y({path:F,matches:X,patch:(ae,ke)=>{Q.aborted||fm(ae,ke,ye,Ce,s)}})}catch(ae){return{type:"error",error:ae,partialMatches:X}}finally{he&&!Q.aborted&&(u=[...u])}if(Q.aborted)return{type:"aborted"};let de=zi(ye,F,d);if(de)return{type:"success",matches:de};let ve=ru(ye,F,d,!0);if(!ve||X.length===ve.length&&X.every((ae,ke)=>ae.route.id===ve[ke].route.id))return{type:"success",matches:null};X=ve}}function rs(N){o={},h=fu(N,s,void 0,o)}function Br(N,F){let Q=h==null;fm(N,F,h||u,o,s),Q&&(u=[...u],Fe({}))}return me={get basename(){return d},get future(){return E},get state(){return U},get routes(){return u},get window(){return e},initialize:je,subscribe:Ze,enableScrollRestoration:yi,navigate:bn,fetch:Vs,revalidate:ci,createHref:N=>i.history.createHref(N),encodeLocation:N=>i.history.encodeLocation(N),getFetcher:St,deleteFetcher:ts,dispose:Je,getBlocker:ns,deleteBlocker:mi,patchRoutes:Br,_internalFetchControllers:Be,_internalSetRoutes:rs},me}function rE(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Vh(i,e,n,s,o,u){let h,d;if(o){h=[];for(let y of e)if(h.push(y),y.route.id===o){d=y;break}}else h=e,d=e[e.length-1];let g=sf(s||".",rf(h),yr(i.pathname,n)||i.pathname,u==="path");if(s==null&&(g.search=i.search,g.hash=i.hash),(s==null||s===""||s===".")&&d){let y=af(g.search);if(d.route.index&&!y)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&y){let E=new URLSearchParams(g.search),S=E.getAll("index");E.delete("index"),S.filter(P=>P).forEach(P=>E.append("index",P));let I=E.toString();g.search=I?`?${I}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:Vr([n,g.pathname])),Qi(g)}function lm(i,e,n){if(!n||!rE(n))return{path:e};if(n.formMethod&&!mE(n.formMethod))return{path:e,error:Kn(405,{method:n.formMethod})};let s=()=>({path:e,error:Kn(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=xg(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!pr(u))return s();let S=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((I,[P,V])=>`${I}${P}=${V}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:S}}}else if(n.formEncType==="application/json"){if(!pr(u))return s();try{let S=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:S,text:void 0}}}catch{return s()}}}We(typeof FormData=="function","FormData is not available in this environment");let d,g;if(n.formData)d=Mh(n.formData),g=n.formData;else if(n.body instanceof FormData)d=Mh(n.body),g=n.body;else if(n.body instanceof URLSearchParams)d=n.body,g=pm(d);else if(n.body==null)d=new URLSearchParams,g=new FormData;else try{d=new URLSearchParams(n.body),g=pm(d)}catch{return s()}let y={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(pr(y.formMethod))return{path:e,submission:y};let E=li(e);return i&&E.search&&af(E.search)&&d.append("index",""),E.search=`?${d}`,{path:Qi(E),submission:y}}function um(i,e,n=!1){let s=i.findIndex(o=>o.route.id===e);return s>=0?i.slice(0,n?s+1:s):i}function cm(i,e,n,s,o,u,h,d,g,y,E,S,I,P){let V=P?Fn(P[1])?P[1].error:P[1].data:void 0,$=i.createURL(e.location),j=i.createURL(o),K=n;u&&e.errors?K=um(n,Object.keys(e.errors)[0],!0):P&&Fn(P[1])&&(K=um(n,P[0]));let re=P?P[1].statusCode:void 0,ie=re&&re>=400,me=K.filter((fe,x)=>{let{route:T}=fe;if(T.lazy)return!0;if(T.loader==null)return!1;if(u)return Lh(T,e.loaderData,e.errors);if(iE(e.loaderData,e.matches[x],fe))return!0;let R=e.matches[x],k=fe;return hm(fe,{currentUrl:$,currentParams:R.params,nextUrl:j,nextParams:k.params,...s,actionResult:V,actionStatus:re,defaultShouldRevalidate:ie?!1:h||$.pathname+$.search===j.pathname+j.search||$.search!==j.search||sE(R,k)})}),U=[];return y.forEach((fe,x)=>{if(u||!n.some(b=>b.route.id===fe.routeId)||g.has(x))return;let T=zi(S,fe.path,I);if(!T){U.push({key:x,routeId:fe.routeId,path:fe.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(x),k=ga(T,fe.path),L=!1;E.has(x)?L=!1:d.has(x)?(d.delete(x),L=!0):R&&R.state!=="idle"&&R.data===void 0?L=h:L=hm(k,{currentUrl:$,currentParams:e.matches[e.matches.length-1].params,nextUrl:j,nextParams:n[n.length-1].params,...s,actionResult:V,actionStatus:re,defaultShouldRevalidate:ie?!1:h}),L&&U.push({key:x,routeId:fe.routeId,path:fe.path,matches:T,match:k,controller:new AbortController})}),[me,U]}function Lh(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,o=n!=null&&n[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function iE(i,e,n){let s=!e||n.route.id!==e.route.id,o=!i.hasOwnProperty(n.route.id);return s||o}function sE(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function hm(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function fm(i,e,n,s,o){let u;if(i){let g=s[i];We(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=n;let h=e.filter(g=>!u.some(y=>Pg(g,y))),d=fu(h,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...d)}function Pg(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,s)=>{var o;return(o=e.children)==null?void 0:o.some(u=>Pg(n,u))}):!1}async function oE(i,e,n){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let o=n[i.id];We(o,"No route found in manifest");let u={};for(let h in s){let g=o[h]!==void 0&&h!=="hasErrorBoundary";$t(!g,`Route "${o.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!g&&!xv.has(h)&&(u[h]=s[h])}Object.assign(o,u),Object.assign(o,{...e(o),lazy:void 0})}async function aE({matches:i}){let e=i.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,o,u)=>Object.assign(s,{[e[u].route.id]:o}),{})}async function lE(i,e,n,s,o,u,h,d,g,y){let E=u.map(P=>P.route.lazy?oE(P.route,g,d):void 0),S=u.map((P,V)=>{let $=E[V],j=o.some(re=>re.route.id===P.route.id);return{...P,shouldLoad:j,resolve:async re=>(re&&s.method==="GET"&&(P.route.lazy||P.route.loader)&&(j=!0),j?uE(e,s,P,$,re,y):Promise.resolve({type:"data",result:void 0}))}}),I=await i({matches:S,request:s,params:u[0].params,fetcherKey:h,context:y});try{await Promise.all(E)}catch{}return I}async function uE(i,e,n,s,o,u){let h,d,g=y=>{let E,S=new Promise((V,$)=>E=$);d=()=>E(),e.signal.addEventListener("abort",d);let I=V=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${n.route.id}]`)):y({request:e,params:n.params,context:u},...V!==void 0?[V]:[]),P=(async()=>{try{return{type:"data",result:await(o?o($=>I($)):I())}}catch(V){return{type:"error",result:V}}})();return Promise.race([P,S])};try{let y=n.route[i];if(s)if(y){let E,[S]=await Promise.all([g(y).catch(I=>{E=I}),s]);if(E!==void 0)throw E;h=S}else if(await s,y=n.route[i],y)h=await g(y);else if(i==="action"){let E=new URL(e.url),S=E.pathname+E.search;throw Kn(405,{method:e.method,pathname:S,routeId:n.route.id})}else return{type:"data",result:void 0};else if(y)h=await g(y);else{let E=new URL(e.url),S=E.pathname+E.search;throw Kn(404,{pathname:S})}}catch(y){return{type:"error",result:y}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function cE(i){var s,o,u,h;let{result:e,type:n}=i;if(kg(e)){let d;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(g){return{type:"error",error:g}}return n==="error"?{type:"error",error:new pu(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(n==="error"){if(vm(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status};e=new pu(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:xu(e)?e.status:void 0}}return vm(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function hE(i,e,n,s,o){let u=i.headers.get("Location");if(We(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!of.test(u)){let h=s.slice(0,s.findIndex(d=>d.route.id===n)+1);u=Vh(new URL(e.url),h,o,u),i.headers.set("Location",u)}return i}function dm(i,e,n){if(of.test(i)){let s=i,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=yr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function mo(i,e,n,s){let o=i.createURL(xg(e)).toString(),u={signal:n};if(s&&pr(s.formMethod)){let{formMethod:h,formEncType:d}=s;u.method=h.toUpperCase(),d==="application/json"?(u.headers=new Headers({"Content-Type":d}),u.body=JSON.stringify(s.json)):d==="text/plain"?u.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?u.body=Mh(s.formData):u.body=s.formData}return new Request(o,u)}function Mh(i){let e=new URLSearchParams;for(let[n,s]of i.entries())e.append(n,typeof s=="string"?s:s.name);return e}function pm(i){let e=new FormData;for(let[n,s]of i.entries())e.append(n,s);return e}function fE(i,e,n,s=!1,o=!1){let u={},h=null,d,g=!1,y={},E=n&&Fn(n[1])?n[1].error:void 0;return i.forEach(S=>{if(!(S.route.id in e))return;let I=S.route.id,P=e[I];if(We(!Is(P),"Cannot handle redirect results in processLoaderData"),Fn(P)){let V=P.error;if(E!==void 0&&(V=E,E=void 0),h=h||{},o)h[I]=V;else{let $=Ss(i,I);h[$.route.id]==null&&(h[$.route.id]=V)}s||(u[I]=Ag),g||(g=!0,d=xu(P.error)?P.error.status:500),P.headers&&(y[I]=P.headers)}else u[I]=P.data,P.statusCode&&P.statusCode!==200&&!g&&(d=P.statusCode),P.headers&&(y[I]=P.headers)}),E!==void 0&&n&&(h={[n[0]]:E},u[n[0]]=void 0),{loaderData:u,errors:h,statusCode:d||200,loaderHeaders:y}}function mm(i,e,n,s,o,u){let{loaderData:h,errors:d}=fE(e,n,s);return o.forEach(g=>{let{key:y,match:E,controller:S}=g,I=u[y];if(We(I,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(Fn(I)){let P=Ss(i.matches,E==null?void 0:E.route.id);d&&d[P.route.id]||(d={...d,[P.route.id]:I.error}),i.fetchers.delete(y)}else if(Is(I))We(!1,"Unhandled fetcher revalidation redirect");else{let P=ji(I.data);i.fetchers.set(y,P)}}),{loaderData:h,errors:d}}function gm(i,e,n,s){let o=Object.entries(e).filter(([,u])=>u!==Ag).reduce((u,[h,d])=>(u[h]=d,u),{});for(let u of n){let h=u.route.id;if(!e.hasOwnProperty(h)&&i.hasOwnProperty(h)&&u.route.loader&&(o[h]=i[h]),s&&s.hasOwnProperty(h))break}return o}function ym(i){return i?Fn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Ss(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function _m(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Kn(i,{pathname:e,routeId:n,method:s,type:o,message:u}={}){let h="Unknown Server Error",d="Unknown @remix-run/router error";return i===400?(h="Bad Request",s&&e&&n?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):i===403?(h="Forbidden",d=`Route "${n}" does not match URL "${e}"`):i===404?(h="Not Found",d=`No route matches URL "${e}"`):i===405&&(h="Method Not Allowed",s&&e&&n?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new pu(i||500,h,new Error(d),!0)}function Gl(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[s,o]=e[n];if(Is(o))return{key:s,result:o}}}function xg(i){let e=typeof i=="string"?li(i):i;return Qi({...e,hash:""})}function dE(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function pE(i){return kg(i.result)&&Jv.has(i.result.status)}function Fn(i){return i.type==="error"}function Is(i){return(i&&i.type)==="redirect"}function vm(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function kg(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function mE(i){return Xv.has(i.toUpperCase())}function pr(i){return Gv.has(i.toUpperCase())}function af(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function ga(i,e){let n=typeof e=="string"?li(e).search:e.search;if(i[i.length-1].route.index&&af(n||""))return i[i.length-1];let s=Ig(i);return s[s.length-1]}function Em(i){let{formMethod:e,formAction:n,formEncType:s,text:o,formData:u,json:h}=i;if(!(!e||!n||!s)){if(o!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:s,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:h,text:void 0}}}function Sh(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function gE(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function pa(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function yE(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function ji(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function _E(i,e){try{let n=i.sessionStorage.getItem(Cg);if(n){let s=JSON.parse(n);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function vE(i,e){if(e.size>0){let n={};for(let[s,o]of e)n[s]=[...o];try{i.sessionStorage.setItem(Cg,JSON.stringify(n))}catch(s){$t(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function EE(){let i,e,n=new Promise((s,o)=>{i=async u=>{s(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var As=q.createContext(null);As.displayName="DataRouter";var Va=q.createContext(null);Va.displayName="DataRouterState";var lf=q.createContext({isTransitioning:!1});lf.displayName="ViewTransition";var Dg=q.createContext(new Map);Dg.displayName="Fetchers";var wE=q.createContext(null);wE.displayName="Await";var br=q.createContext(null);br.displayName="Navigation";var ku=q.createContext(null);ku.displayName="Location";var ui=q.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var uf=q.createContext(null);uf.displayName="RouteError";function TE(i,{relative:e}={}){We(La(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(br),{hash:o,pathname:u,search:h}=Ma(i,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:Vr([n,u])),s.createHref({pathname:d,search:h,hash:o})}function La(){return q.useContext(ku)!=null}function Ps(){return We(La(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(ku).location}var Ng="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vg(i){q.useContext(br).static||q.useLayoutEffect(i)}function SE(){let{isDataRoute:i}=q.useContext(ui);return i?OE():IE()}function IE(){We(La(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(As),{basename:e,navigator:n}=q.useContext(br),{matches:s}=q.useContext(ui),{pathname:o}=Ps(),u=JSON.stringify(rf(s)),h=q.useRef(!1);return Vg(()=>{h.current=!0}),q.useCallback((g,y={})=>{if($t(h.current,Ng),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=sf(g,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Vr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,i])}q.createContext(null);function Ma(i,{relative:e}={}){let{matches:n}=q.useContext(ui),{pathname:s}=Ps(),o=JSON.stringify(rf(n));return q.useMemo(()=>sf(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function RE(i,e,n,s){We(La(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(br),{matches:u}=q.useContext(ui),h=u[u.length-1],d=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",E=h&&h.route;{let K=E&&E.path||"";Lg(g,!E||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let S=Ps(),I;I=S;let P=I.pathname||"/",V=P;if(y!=="/"){let K=y.replace(/^\//,"").split("/");V="/"+P.replace(/^\//,"").split("/").slice(K.length).join("/")}let $=zi(i,{pathname:V});return $t(E||$!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),$t($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),kE($&&$.map(K=>Object.assign({},K,{params:Object.assign({},d,K.params),pathname:Vr([y,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:Vr([y,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,n,s)}function CE(){let i=ME(),e=xu(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,h)}var AE=q.createElement(CE,null),PE=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?q.createElement(ui.Provider,{value:this.props.routeContext},q.createElement(uf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xE({routeContext:i,match:e,children:n}){let s=q.useContext(As);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(ui.Provider,{value:i},n)}function kE(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);We(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=g),y.route.id){let{loaderData:E,errors:S}=n,I=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||I){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let S,I=!1,P=null,V=null;n&&(S=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||AE,h&&(d<0&&E===0?(Lg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,V=null):d===E&&(I=!0,V=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),j=()=>{let K;return S?K=P:I?K=V:y.route.Component?K=q.createElement(y.route.Component,null):y.route.element?K=y.route.element:K=g,q.createElement(xE,{match:y,routeContext:{outlet:g,matches:$,isDataRoute:n!=null},children:K})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?q.createElement(PE,{location:n.location,revalidation:n.revalidation,component:P,error:S,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}function cf(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(i){let e=q.useContext(As);return We(e,cf(i)),e}function NE(i){let e=q.useContext(Va);return We(e,cf(i)),e}function VE(i){let e=q.useContext(ui);return We(e,cf(i)),e}function hf(i){let e=VE(i),n=e.matches[e.matches.length-1];return We(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function LE(){return hf("useRouteId")}function ME(){var s;let i=q.useContext(uf),e=NE("useRouteError"),n=hf("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function OE(){let{router:i}=DE("useNavigate"),e=hf("useNavigate"),n=q.useRef(!1);return Vg(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{$t(n.current,Ng),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var wm={};function Lg(i,e,n){!e&&!wm[i]&&(wm[i]=!0,$t(!1,n))}var Tm={};function Sm(i,e){!i&&!Tm[e]&&(Tm[e]=!0,console.warn(e))}function FE(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&$t(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&$t(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&$t(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var bE=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function UE({router:i,flushSync:e}){let[n,s]=q.useState(i.state),[o,u]=q.useState(),[h,d]=q.useState({isTransitioning:!1}),[g,y]=q.useState(),[E,S]=q.useState(),[I,P]=q.useState(),V=q.useRef(new Map),$=q.useCallback((ie,{deletedFetchers:me,flushSync:U,viewTransitionOpts:fe})=>{ie.fetchers.forEach((T,R)=>{T.data!==void 0&&V.current.set(R,T.data)}),me.forEach(T=>V.current.delete(T)),Sm(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(Sm(fe==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!fe||!x){e&&U?e(()=>s(ie)):q.startTransition(()=>s(ie));return}if(e&&U){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:fe.currentLocation,nextLocation:fe.nextLocation})});let T=i.window.document.startViewTransition(()=>{e(()=>s(ie))});T.finished.finally(()=>{e(()=>{y(void 0),S(void 0),u(void 0),d({isTransitioning:!1})})}),e(()=>S(T));return}E?(g&&g.resolve(),E.skipTransition(),P({state:ie,currentLocation:fe.currentLocation,nextLocation:fe.nextLocation})):(u(ie),d({isTransitioning:!0,flushSync:!1,currentLocation:fe.currentLocation,nextLocation:fe.nextLocation}))},[i.window,e,E,g]);q.useLayoutEffect(()=>i.subscribe($),[i,$]),q.useEffect(()=>{h.isTransitioning&&!h.flushSync&&y(new bE)},[h]),q.useEffect(()=>{if(g&&o&&i.window){let ie=o,me=g.promise,U=i.window.document.startViewTransition(async()=>{q.startTransition(()=>s(ie)),await me});U.finished.finally(()=>{y(void 0),S(void 0),u(void 0),d({isTransitioning:!1})}),S(U)}},[o,g,i.window]),q.useEffect(()=>{g&&o&&n.location.key===o.location.key&&g.resolve()},[g,E,n.location,o]),q.useEffect(()=>{!h.isTransitioning&&I&&(u(I.state),d({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}),P(void 0))},[h.isTransitioning,I]);let j=q.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:ie=>i.navigate(ie),push:(ie,me,U)=>i.navigate(ie,{state:me,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(ie,me,U)=>i.navigate(ie,{replace:!0,state:me,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[i]),K=i.basename||"/",re=q.useMemo(()=>({router:i,navigator:j,static:!1,basename:K}),[i,j,K]);return q.createElement(q.Fragment,null,q.createElement(As.Provider,{value:re},q.createElement(Va.Provider,{value:n},q.createElement(Dg.Provider,{value:V.current},q.createElement(lf.Provider,{value:h},q.createElement(BE,{basename:K,location:n.location,navigationType:n.historyAction,navigator:j},q.createElement(jE,{routes:i.routes,future:i.future,state:n})))))),null)}var jE=q.memo(zE);function zE({routes:i,future:e,state:n}){return RE(i,void 0,n,e)}function BE({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){We(!La(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=li(n));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:I="default"}=n,P=q.useMemo(()=>{let V=yr(g,h);return V==null?null:{location:{pathname:V,search:y,hash:E,state:S,key:I},navigationType:s}},[h,g,y,E,S,I,s]);return $t(P!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:q.createElement(br.Provider,{value:d},q.createElement(ku.Provider,{children:e,value:P}))}var iu="get",su="application/x-www-form-urlencoded";function Du(i){return i!=null&&typeof i.tagName=="string"}function $E(i){return Du(i)&&i.tagName.toLowerCase()==="button"}function HE(i){return Du(i)&&i.tagName.toLowerCase()==="form"}function qE(i){return Du(i)&&i.tagName.toLowerCase()==="input"}function WE(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function KE(i,e){return i.button===0&&(!e||e==="_self")&&!WE(i)}var Yl=null;function QE(){if(Yl===null)try{new FormData(document.createElement("form"),0),Yl=!1}catch{Yl=!0}return Yl}var GE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ih(i){return i!=null&&!GE.has(i)?($t(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${su}"`),null):i}function YE(i,e){let n,s,o,u,h;if(HE(i)){let d=i.getAttribute("action");s=d?yr(d,e):null,n=i.getAttribute("method")||iu,o=Ih(i.getAttribute("enctype"))||su,u=new FormData(i)}else if($E(i)||qE(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||d.getAttribute("action");if(s=g?yr(g,e):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||iu,o=Ih(i.getAttribute("formenctype"))||Ih(d.getAttribute("enctype"))||su,u=new FormData(d,i),!QE()){let{name:y,type:E,value:S}=i;if(E==="image"){let I=y?`${y}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else y&&u.append(y,S)}}else{if(Du(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=iu,s=null,o=su,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function ff(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function XE(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JE(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ZE(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await XE(u,n);return h.links?h.links():[]}return[]}));return rw(s.flat(1).filter(JE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Im(i,e,n,s,o,u){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,d=(g,y)=>{var E;return n[y].pathname!==g.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>h(g,y)||d(g,y)):u==="data"?e.filter((g,y)=>{var S;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,y)||d(g,y))return!0;if(g.route.shouldRevalidate){let I=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function ew(i,e){return tw(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function tw(i){return[...new Set(i)]}function nw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function rw(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(nw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function iw(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function sw(){let i=q.useContext(As);return ff(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ow(){let i=q.useContext(Va);return ff(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var df=q.createContext(void 0);df.displayName="FrameworkContext";function Mg(){let i=q.useContext(df);return ff(i,"You must render this element inside a <HydratedRouter> element"),i}function aw(i,e){let n=q.useContext(df),[s,o]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,I=q.useRef(null);q.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=K=>{K.forEach(re=>{h(re.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return I.current&&j.observe(I.current),()=>{j.disconnect()}}},[i]),q.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let P=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,I,{}]:[u,I,{onFocus:ma(d,P),onBlur:ma(g,V),onMouseEnter:ma(y,P),onMouseLeave:ma(E,V),onTouchStart:ma(S,P)}]:[!1,I,{}]}function ma(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function lw({page:i,...e}){let{router:n}=sw(),s=q.useMemo(()=>zi(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?q.createElement(cw,{page:i,matches:s,...e}):null}function uw(i){let{manifest:e,routeModules:n}=Mg(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return ZE(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function cw({page:i,matches:e,...n}){let s=Ps(),{manifest:o,routeModules:u}=Mg(),{loaderData:h,matches:d}=ow(),g=q.useMemo(()=>Im(i,e,d,o,s,"data"),[i,e,d,o,s]),y=q.useMemo(()=>Im(i,e,d,o,s,"assets"),[i,e,d,o,s]),E=q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,V=!1;if(e.forEach(j=>{var re;let K=o.routes[j.route.id];!K||!K.hasLoader||(!g.some(ie=>ie.route.id===j.route.id)&&j.route.id in h&&((re=u[j.route.id])!=null&&re.shouldRevalidate)||K.hasClientLoader?V=!0:P.add(j.route.id))}),P.size===0)return[];let $=iw(i);return V&&P.size>0&&$.searchParams.set("_routes",e.filter(j=>P.has(j.route.id)).map(j=>j.route.id).join(",")),[$.pathname+$.search]},[h,s,o,g,e,i,u]),S=q.useMemo(()=>ew(y,o),[y,o]),I=uw(y);return q.createElement(q.Fragment,null,E.map(P=>q.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),S.map(P=>q.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),I.map(({key:P,link:V})=>q.createElement("link",{key:P,...V})))}function hw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Og=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Og&&(window.__reactRouterVersion="7.1.3")}catch{}function fw(i,e){return nE({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:Cv({window:e==null?void 0:e.window}),hydrationData:dw(),routes:i,mapRouteProperties:FE,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function dw(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:pw(i.errors)}),i}function pw(i){if(!i)return null;let e=Object.entries(i),n={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")n[s]=new pu(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",n[s]=h}catch{}}if(n[s]==null){let u=new Error(o.message);u.stack="",n[s]=u}}else n[s]=o;return n}var Fg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pf=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:g,to:y,preventScrollReset:E,viewTransition:S,...I},P){let{basename:V}=q.useContext(br),$=typeof y=="string"&&Fg.test(y),j,K=!1;if(typeof y=="string"&&$&&(j=y,Og))try{let R=new URL(window.location.href),k=y.startsWith("//")?new URL(R.protocol+y):new URL(y),L=yr(k.pathname,V);k.origin===R.origin&&L!=null?y=L+k.search+k.hash:K=!0}catch{$t(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=TE(y,{relative:o}),[ie,me,U]=aw(s,I),fe=_w(y,{replace:h,state:d,target:g,preventScrollReset:E,relative:o,viewTransition:S});function x(R){e&&e(R),R.defaultPrevented||fe(R)}let T=q.createElement("a",{...I,...U,href:j||re,onClick:K||u?e:x,ref:hw(P,me),target:g,"data-discover":!$&&n==="render"?"true":void 0});return ie&&!$?q.createElement(q.Fragment,null,T,q.createElement(lw,{page:re})):T});pf.displayName="Link";var mw=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:g,...y},E){let S=Ma(h,{relative:y.relative}),I=Ps(),P=q.useContext(Va),{navigator:V,basename:$}=q.useContext(br),j=P!=null&&Sw(S)&&d===!0,K=V.encodeLocation?V.encodeLocation(S).pathname:S.pathname,re=I.pathname,ie=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(re=re.toLowerCase(),ie=ie?ie.toLowerCase():null,K=K.toLowerCase()),ie&&$&&(ie=yr(ie,$)||ie);const me=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let U=re===K||!o&&re.startsWith(K)&&re.charAt(me)==="/",fe=ie!=null&&(ie===K||!o&&ie.startsWith(K)&&ie.charAt(K.length)==="/"),x={isActive:U,isPending:fe,isTransitioning:j},T=U?e:void 0,R;typeof s=="function"?R=s(x):R=[s,U?"active":null,fe?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(x):u;return q.createElement(pf,{...y,"aria-current":T,className:R,ref:E,style:k,to:h,viewTransition:d},typeof g=="function"?g(x):g)});mw.displayName="NavLink";var gw=q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=iu,action:d,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...I},P)=>{let V=ww(),$=Tw(d,{relative:y}),j=h.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&Fg.test(d),re=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let me=ie.nativeEvent.submitter,U=(me==null?void 0:me.getAttribute("formmethod"))||h;V(me||ie.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return q.createElement("form",{ref:P,method:j,action:$,onSubmit:s?g:re,...I,"data-discover":!K&&i==="render"?"true":void 0})});gw.displayName="Form";function yw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bg(i){let e=q.useContext(As);return We(e,yw(i)),e}function _w(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=SE(),g=Ps(),y=Ma(i,{relative:u});return q.useCallback(E=>{if(KE(E,e)){E.preventDefault();let S=n!==void 0?n:Qi(g)===Qi(y);d(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,d,y,n,s,e,i,o,u,h])}var vw=0,Ew=()=>`__${String(++vw)}__`;function ww(){let{router:i}=bg("useSubmit"),{basename:e}=q.useContext(br),n=LE();return q.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:g,body:y}=YE(s,e);if(o.navigate===!1){let E=o.fetcherKey||Ew();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function Tw(i,{relative:e}={}){let{basename:n}=q.useContext(br),s=q.useContext(ui);We(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ma(i||".",{relative:e})},h=Ps();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),g=d.getAll("index");if(g.some(E=>E==="")){d.delete("index"),g.filter(S=>S).forEach(S=>d.append("index",S));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Vr([n,u.pathname])),Qi(u)}function Sw(i,e={}){let n=q.useContext(lf);We(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bg("useViewTransitionState"),o=Ma(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return du(o.pathname,h)!=null||du(o.pathname,u)!=null}new TextEncoder;var Iw=wg();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rw(i){return q.createElement(UE,{flushSync:Iw.flushSync,...i})}var Rm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Cw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],d=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},jg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,E=u>>2,S=(u&3)<<4|d>>4;let I=(d&15)<<2|y>>6,P=y&63;g||(P=64,h||(I=64)),s.push(n[E],n[S],n[I],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Ug(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Cw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],d=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||d==null||y==null||S==null)throw new Aw;const I=u<<2|d>>4;if(s.push(I),y!==64){const P=d<<4&240|y>>2;if(s.push(P),S!==64){const V=y<<6&192|S;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pw=function(i){const e=Ug(i);return jg.encodeByteArray(e,!0)},mu=function(i){return Pw(i).replace(/\./g,"")},xw=function(i){try{return jg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=()=>kw().__FIREBASE_DEFAULTS__,Nw=()=>{if(typeof process>"u"||typeof Rm>"u")return;const i=Rm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Vw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&xw(i[1]);return e&&JSON.parse(e)},mf=()=>{try{return Dw()||Nw()||Vw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Lw=i=>{var e,n;return(n=(e=mf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Mw=i=>{const e=Lw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},zg=()=>{var i;return(i=mf())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[mu(JSON.stringify(n)),mu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uw(){var i;const e=(i=mf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jw(){return!Uw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zw(){try{return typeof indexedDB=="object"}catch{return!1}}function Bw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="FirebaseError";class xo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$w,Object.setPrototypeOf(this,xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bg.prototype.create)}}class Bg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Hw(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new xo(o,d,s)}}function Hw(i,e){return i.replace(qw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const qw=/\{\$([^}]+)}/g;function Oh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Cm(u)&&Cm(h)){if(!Oh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Cm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(i){return i&&i._delegate?i._delegate:i}class Ca{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ow;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Qw(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Kw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kw(i){return i===Ts?void 0:i}function Qw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ww(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Xe||(Xe={}));const Yw={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},Xw=Xe.INFO,Jw={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},Zw=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=Jw[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $g{constructor(e){this.name=e,this._logLevel=Xw,this._logHandler=Zw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const e0=(i,e)=>e.some(n=>i instanceof n);let Am,Pm;function t0(){return Am||(Am=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n0(){return Pm||(Pm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hg=new WeakMap,Fh=new WeakMap,qg=new WeakMap,Rh=new WeakMap,gf=new WeakMap;function r0(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n($i(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Hg.set(n,i)}).catch(()=>{}),gf.set(e,i),e}function i0(i){if(Fh.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Fh.set(i,e)}let bh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Fh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||qg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function s0(i){bh=i(bh)}function o0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Ch(this),e,...n);return qg.set(s,e.sort?e.sort():[e]),$i(s)}:n0().includes(i)?function(...e){return i.apply(Ch(this),e),$i(Hg.get(this))}:function(...e){return $i(i.apply(Ch(this),e))}}function a0(i){return typeof i=="function"?o0(i):(i instanceof IDBTransaction&&i0(i),e0(i,t0())?new Proxy(i,bh):i)}function $i(i){if(i instanceof IDBRequest)return r0(i);if(Rh.has(i))return Rh.get(i);const e=a0(i);return e!==i&&(Rh.set(i,e),gf.set(e,i)),e}const Ch=i=>gf.get(i);function l0(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=$i(h);return s&&h.addEventListener("upgradeneeded",g=>{s($i(h.result),g.oldVersion,g.newVersion,$i(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const u0=["get","getKey","getAll","getAllKeys","count"],c0=["put","add","delete","clear"],Ah=new Map;function xm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=c0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||u0.includes(n)))return;const u=async function(h,...d){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[n](...d),o&&g.done]))[0]};return Ah.set(e,u),u}s0(i=>({...i,get:(e,n,s)=>xm(e,n)||i.get(e,n,s),has:(e,n)=>!!xm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function f0(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uh="@firebase/app",km="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new $g("@firebase/app"),d0="@firebase/app-compat",p0="@firebase/analytics-compat",m0="@firebase/analytics",g0="@firebase/app-check-compat",y0="@firebase/app-check",_0="@firebase/auth",v0="@firebase/auth-compat",E0="@firebase/database",w0="@firebase/data-connect",T0="@firebase/database-compat",S0="@firebase/functions",I0="@firebase/functions-compat",R0="@firebase/installations",C0="@firebase/installations-compat",A0="@firebase/messaging",P0="@firebase/messaging-compat",x0="@firebase/performance",k0="@firebase/performance-compat",D0="@firebase/remote-config",N0="@firebase/remote-config-compat",V0="@firebase/storage",L0="@firebase/storage-compat",M0="@firebase/firestore",O0="@firebase/vertexai",F0="@firebase/firestore-compat",b0="firebase",U0="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="[DEFAULT]",j0={[Uh]:"fire-core",[d0]:"fire-core-compat",[m0]:"fire-analytics",[p0]:"fire-analytics-compat",[y0]:"fire-app-check",[g0]:"fire-app-check-compat",[_0]:"fire-auth",[v0]:"fire-auth-compat",[E0]:"fire-rtdb",[w0]:"fire-data-connect",[T0]:"fire-rtdb-compat",[S0]:"fire-fn",[I0]:"fire-fn-compat",[R0]:"fire-iid",[C0]:"fire-iid-compat",[A0]:"fire-fcm",[P0]:"fire-fcm-compat",[x0]:"fire-perf",[k0]:"fire-perf-compat",[D0]:"fire-rc",[N0]:"fire-rc-compat",[V0]:"fire-gcs",[L0]:"fire-gcs-compat",[M0]:"fire-fst",[F0]:"fire-fst-compat",[O0]:"fire-vertex","fire-js":"fire-js",[b0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=new Map,z0=new Map,zh=new Map;function Dm(i,e){try{i.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function yu(i){const e=i.name;if(zh.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;zh.set(e,i);for(const n of gu.values())Dm(n,i);for(const n of z0.values())Dm(n,i);return!0}function B0(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new Bg("app","Firebase",$0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=U0;function Wg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Hi.create("bad-app-name",{appName:String(o)});if(n||(n=zg()),!n)throw Hi.create("no-options");const u=gu.get(o);if(u){if(Oh(n,u.options)&&Oh(s,u.config))return u;throw Hi.create("duplicate-app",{appName:o})}const h=new Gw(o);for(const g of zh.values())h.addComponent(g);const d=new H0(n,s,h);return gu.set(o,d),d}function W0(i=jh){const e=gu.get(i);if(!e&&i===jh&&zg())return Wg();if(!e)throw Hi.create("no-app",{appName:i});return e}function Eo(i,e,n){var s;let o=(s=j0[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(d.join(" "));return}yu(new Ca(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="firebase-heartbeat-database",Q0=1,Aa="firebase-heartbeat-store";let Ph=null;function Kg(){return Ph||(Ph=l0(K0,Q0,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Aa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hi.create("idb-open",{originalErrorMessage:i.message})})),Ph}async function G0(i){try{const n=(await Kg()).transaction(Aa),s=await n.objectStore(Aa).get(Qg(i));return await n.done,s}catch(e){if(e instanceof xo)si.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function Nm(i,e){try{const s=(await Kg()).transaction(Aa,"readwrite");await s.objectStore(Aa).put(e,Qg(i)),await s.done}catch(n){if(n instanceof xo)si.warn(n.message);else{const s=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(s.message)}}}function Qg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=1024,X0=30*24*60*60*1e3;class J0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eT(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Vm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=X0}),this._storage.overwrite(this._heartbeatsCache))}catch(s){si.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vm(),{heartbeatsToSend:s,unsentEntries:o}=Z0(this._heartbeatsCache.heartbeats),u=mu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return si.warn(n),""}}}function Vm(){return new Date().toISOString().substring(0,10)}function Z0(i,e=Y0){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Lm(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Lm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class eT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zw()?Bw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Nm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Nm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Lm(i){return mu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(i){yu(new Ca("platform-logger",e=>new h0(e),"PRIVATE")),yu(new Ca("heartbeat",e=>new J0(e),"PRIVATE")),Eo(Uh,km,i),Eo(Uh,km,"esm2017"),Eo("fire-js","")}tT("");var nT="firebase",rT="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo(nT,rT,"app");var Mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,Gg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function R(){}R.prototype=T.prototype,x.D=T.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(k,L,b){for(var A=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)A[ct-2]=arguments[ct];return T.prototype[L].apply(k,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,T,R){R||(R=0);var k=Array(16);if(typeof T=="string")for(var L=0;16>L;++L)k[L]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(L=0;16>L;++L)k[L]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=x.g[0],R=x.g[1],L=x.g[2];var b=x.g[3],A=T+(b^R&(L^b))+k[0]+3614090360&4294967295;T=R+(A<<7&4294967295|A>>>25),A=b+(L^T&(R^L))+k[1]+3905402710&4294967295,b=T+(A<<12&4294967295|A>>>20),A=L+(R^b&(T^R))+k[2]+606105819&4294967295,L=b+(A<<17&4294967295|A>>>15),A=R+(T^L&(b^T))+k[3]+3250441966&4294967295,R=L+(A<<22&4294967295|A>>>10),A=T+(b^R&(L^b))+k[4]+4118548399&4294967295,T=R+(A<<7&4294967295|A>>>25),A=b+(L^T&(R^L))+k[5]+1200080426&4294967295,b=T+(A<<12&4294967295|A>>>20),A=L+(R^b&(T^R))+k[6]+2821735955&4294967295,L=b+(A<<17&4294967295|A>>>15),A=R+(T^L&(b^T))+k[7]+4249261313&4294967295,R=L+(A<<22&4294967295|A>>>10),A=T+(b^R&(L^b))+k[8]+1770035416&4294967295,T=R+(A<<7&4294967295|A>>>25),A=b+(L^T&(R^L))+k[9]+2336552879&4294967295,b=T+(A<<12&4294967295|A>>>20),A=L+(R^b&(T^R))+k[10]+4294925233&4294967295,L=b+(A<<17&4294967295|A>>>15),A=R+(T^L&(b^T))+k[11]+2304563134&4294967295,R=L+(A<<22&4294967295|A>>>10),A=T+(b^R&(L^b))+k[12]+1804603682&4294967295,T=R+(A<<7&4294967295|A>>>25),A=b+(L^T&(R^L))+k[13]+4254626195&4294967295,b=T+(A<<12&4294967295|A>>>20),A=L+(R^b&(T^R))+k[14]+2792965006&4294967295,L=b+(A<<17&4294967295|A>>>15),A=R+(T^L&(b^T))+k[15]+1236535329&4294967295,R=L+(A<<22&4294967295|A>>>10),A=T+(L^b&(R^L))+k[1]+4129170786&4294967295,T=R+(A<<5&4294967295|A>>>27),A=b+(R^L&(T^R))+k[6]+3225465664&4294967295,b=T+(A<<9&4294967295|A>>>23),A=L+(T^R&(b^T))+k[11]+643717713&4294967295,L=b+(A<<14&4294967295|A>>>18),A=R+(b^T&(L^b))+k[0]+3921069994&4294967295,R=L+(A<<20&4294967295|A>>>12),A=T+(L^b&(R^L))+k[5]+3593408605&4294967295,T=R+(A<<5&4294967295|A>>>27),A=b+(R^L&(T^R))+k[10]+38016083&4294967295,b=T+(A<<9&4294967295|A>>>23),A=L+(T^R&(b^T))+k[15]+3634488961&4294967295,L=b+(A<<14&4294967295|A>>>18),A=R+(b^T&(L^b))+k[4]+3889429448&4294967295,R=L+(A<<20&4294967295|A>>>12),A=T+(L^b&(R^L))+k[9]+568446438&4294967295,T=R+(A<<5&4294967295|A>>>27),A=b+(R^L&(T^R))+k[14]+3275163606&4294967295,b=T+(A<<9&4294967295|A>>>23),A=L+(T^R&(b^T))+k[3]+4107603335&4294967295,L=b+(A<<14&4294967295|A>>>18),A=R+(b^T&(L^b))+k[8]+1163531501&4294967295,R=L+(A<<20&4294967295|A>>>12),A=T+(L^b&(R^L))+k[13]+2850285829&4294967295,T=R+(A<<5&4294967295|A>>>27),A=b+(R^L&(T^R))+k[2]+4243563512&4294967295,b=T+(A<<9&4294967295|A>>>23),A=L+(T^R&(b^T))+k[7]+1735328473&4294967295,L=b+(A<<14&4294967295|A>>>18),A=R+(b^T&(L^b))+k[12]+2368359562&4294967295,R=L+(A<<20&4294967295|A>>>12),A=T+(R^L^b)+k[5]+4294588738&4294967295,T=R+(A<<4&4294967295|A>>>28),A=b+(T^R^L)+k[8]+2272392833&4294967295,b=T+(A<<11&4294967295|A>>>21),A=L+(b^T^R)+k[11]+1839030562&4294967295,L=b+(A<<16&4294967295|A>>>16),A=R+(L^b^T)+k[14]+4259657740&4294967295,R=L+(A<<23&4294967295|A>>>9),A=T+(R^L^b)+k[1]+2763975236&4294967295,T=R+(A<<4&4294967295|A>>>28),A=b+(T^R^L)+k[4]+1272893353&4294967295,b=T+(A<<11&4294967295|A>>>21),A=L+(b^T^R)+k[7]+4139469664&4294967295,L=b+(A<<16&4294967295|A>>>16),A=R+(L^b^T)+k[10]+3200236656&4294967295,R=L+(A<<23&4294967295|A>>>9),A=T+(R^L^b)+k[13]+681279174&4294967295,T=R+(A<<4&4294967295|A>>>28),A=b+(T^R^L)+k[0]+3936430074&4294967295,b=T+(A<<11&4294967295|A>>>21),A=L+(b^T^R)+k[3]+3572445317&4294967295,L=b+(A<<16&4294967295|A>>>16),A=R+(L^b^T)+k[6]+76029189&4294967295,R=L+(A<<23&4294967295|A>>>9),A=T+(R^L^b)+k[9]+3654602809&4294967295,T=R+(A<<4&4294967295|A>>>28),A=b+(T^R^L)+k[12]+3873151461&4294967295,b=T+(A<<11&4294967295|A>>>21),A=L+(b^T^R)+k[15]+530742520&4294967295,L=b+(A<<16&4294967295|A>>>16),A=R+(L^b^T)+k[2]+3299628645&4294967295,R=L+(A<<23&4294967295|A>>>9),A=T+(L^(R|~b))+k[0]+4096336452&4294967295,T=R+(A<<6&4294967295|A>>>26),A=b+(R^(T|~L))+k[7]+1126891415&4294967295,b=T+(A<<10&4294967295|A>>>22),A=L+(T^(b|~R))+k[14]+2878612391&4294967295,L=b+(A<<15&4294967295|A>>>17),A=R+(b^(L|~T))+k[5]+4237533241&4294967295,R=L+(A<<21&4294967295|A>>>11),A=T+(L^(R|~b))+k[12]+1700485571&4294967295,T=R+(A<<6&4294967295|A>>>26),A=b+(R^(T|~L))+k[3]+2399980690&4294967295,b=T+(A<<10&4294967295|A>>>22),A=L+(T^(b|~R))+k[10]+4293915773&4294967295,L=b+(A<<15&4294967295|A>>>17),A=R+(b^(L|~T))+k[1]+2240044497&4294967295,R=L+(A<<21&4294967295|A>>>11),A=T+(L^(R|~b))+k[8]+1873313359&4294967295,T=R+(A<<6&4294967295|A>>>26),A=b+(R^(T|~L))+k[15]+4264355552&4294967295,b=T+(A<<10&4294967295|A>>>22),A=L+(T^(b|~R))+k[6]+2734768916&4294967295,L=b+(A<<15&4294967295|A>>>17),A=R+(b^(L|~T))+k[13]+1309151649&4294967295,R=L+(A<<21&4294967295|A>>>11),A=T+(L^(R|~b))+k[4]+4149444226&4294967295,T=R+(A<<6&4294967295|A>>>26),A=b+(R^(T|~L))+k[11]+3174756917&4294967295,b=T+(A<<10&4294967295|A>>>22),A=L+(T^(b|~R))+k[2]+718787259&4294967295,L=b+(A<<15&4294967295|A>>>17),A=R+(b^(L|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(L+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+b&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var R=T-this.blockSize,k=this.B,L=this.h,b=0;b<T;){if(L==0)for(;b<=R;)o(this,x,b),b+=this.blockSize;if(typeof x=="string"){for(;b<T;)if(k[L++]=x.charCodeAt(b++),L==this.blockSize){o(this,k),L=0;break}}else for(;b<T;)if(k[L++]=x[b++],L==this.blockSize){o(this,k),L=0;break}}this.h=L,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var R=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=R&255,R/=256;for(this.u(x),x=Array(16),T=R=0;4>T;++T)for(var k=0;32>k;k+=8)x[R++]=this.g[T]>>>k&255;return x};function u(x,T){var R=d;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=T(x)}function h(x,T){this.h=T;for(var R=[],k=!0,L=x.length-1;0<=L;L--){var b=x[L]|0;k&&b==T||(R[L]=b,k=!1)}this.g=R}var d={};function g(x){return-128<=x&&128>x?u(x,function(T){return new h([T|0],0>T?-1:0)}):new h([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return j(y(-x));for(var T=[],R=1,k=0;x>=R;k++)T[k]=x/R|0,R*=4294967296;return new h(T,0)}function E(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return j(E(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(T,8)),k=S,L=0;L<x.length;L+=8){var b=Math.min(8,x.length-L),A=parseInt(x.substring(L,L+b),T);8>b?(b=y(Math.pow(T,b)),k=k.j(b).add(y(A))):(k=k.j(R),k=k.add(y(A)))}return k}var S=g(0),I=g(1),P=g(16777216);i=h.prototype,i.m=function(){if($(this))return-j(this).m();for(var x=0,T=1,R=0;R<this.g.length;R++){var k=this.i(R);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V(this))return"0";if($(this))return"-"+j(this).toString(x);for(var T=y(Math.pow(x,6)),R=this,k="";;){var L=me(R,T).g;R=K(R,L.j(T));var b=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=L,V(R))return b+k;for(;6>b.length;)b="0"+b;k=b+k}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function V(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function $(x){return x.h==-1}i.l=function(x){return x=K(this,x),$(x)?-1:V(x)?0:1};function j(x){for(var T=x.g.length,R=[],k=0;k<T;k++)R[k]=~x.g[k];return new h(R,~x.h).add(I)}i.abs=function(){return $(this)?j(this):this},i.add=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],k=0,L=0;L<=T;L++){var b=k+(this.i(L)&65535)+(x.i(L)&65535),A=(b>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);k=A>>>16,b&=65535,A&=65535,R[L]=A<<16|b}return new h(R,R[R.length-1]&-2147483648?-1:0)};function K(x,T){return x.add(j(T))}i.j=function(x){if(V(this)||V(x))return S;if($(this))return $(x)?j(this).j(j(x)):j(j(this).j(x));if($(x))return j(this.j(j(x)));if(0>this.l(P)&&0>x.l(P))return y(this.m()*x.m());for(var T=this.g.length+x.g.length,R=[],k=0;k<2*T;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<x.g.length;L++){var b=this.i(k)>>>16,A=this.i(k)&65535,ct=x.i(L)>>>16,Be=x.i(L)&65535;R[2*k+2*L]+=A*Be,re(R,2*k+2*L),R[2*k+2*L+1]+=b*Be,re(R,2*k+2*L+1),R[2*k+2*L+1]+=A*ct,re(R,2*k+2*L+1),R[2*k+2*L+2]+=b*ct,re(R,2*k+2*L+2)}for(k=0;k<T;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=T;k<2*T;k++)R[k]=0;return new h(R,0)};function re(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function ie(x,T){this.g=x,this.h=T}function me(x,T){if(V(T))throw Error("division by zero");if(V(x))return new ie(S,S);if($(x))return T=me(j(x),T),new ie(j(T.g),j(T.h));if($(T))return T=me(x,j(T)),new ie(j(T.g),T.h);if(30<x.g.length){if($(x)||$(T))throw Error("slowDivide_ only works with positive integers.");for(var R=I,k=T;0>=k.l(x);)R=U(R),k=U(k);var L=fe(R,1),b=fe(k,1);for(k=fe(k,2),R=fe(R,2);!V(k);){var A=b.add(k);0>=A.l(x)&&(L=L.add(R),b=A),k=fe(k,1),R=fe(R,1)}return T=K(x,L.j(T)),new ie(L,T)}for(L=S;0<=x.l(T);){for(R=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),b=y(R),A=b.j(T);$(A)||0<A.l(x);)R-=k,b=y(R),A=b.j(T);V(b)&&(b=I),L=L.add(b),x=K(x,A)}return new ie(L,x)}i.A=function(x){return me(this,x).h},i.and=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)&x.i(k);return new h(R,this.h&x.h)},i.or=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)|x.i(k);return new h(R,this.h|x.h)},i.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)^x.i(k);return new h(R,this.h^x.h)};function U(x){for(var T=x.g.length+1,R=[],k=0;k<T;k++)R[k]=x.i(k)<<1|x.i(k-1)>>>31;return new h(R,x.h)}function fe(x,T){var R=T>>5;T%=32;for(var k=x.g.length-R,L=[],b=0;b<k;b++)L[b]=0<T?x.i(b+R)>>>T|x.i(b+R+1)<<32-T:x.i(b+R);return new h(L,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Gg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,qi=h}).apply(typeof Mm<"u"?Mm:typeof self<"u"?self:typeof window<"u"?window:{});var Xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yg,ya,Xg,ou,Bh,Jg,Zg,ey;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,_){return l==Array.prototype||l==Object.prototype||(l[p]=_.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xl=="object"&&Xl];for(var p=0;p<l.length;++p){var _=l[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(l,p){if(p)e:{var _=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var z=l[w];if(!(z in _))break e;_=_[z]}l=l[l.length-1],w=_[l],p=p(w),p!=w&&p!=null&&e(_,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var _=0,w=!1,z={next:function(){if(!w&&_<l.length){var G=_++;return{value:p(G,l[G]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function y(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function E(l,p,_){return l.call.apply(l.bind,arguments)}function S(l,p,_){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),l.apply(p,z)}}return function(){return l.apply(p,arguments)}}function I(l,p,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,I.apply(null,arguments)}function P(l,p){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function V(l,p){function _(){}_.prototype=p.prototype,l.aa=p.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(w,z,G){for(var le=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)le[lt-2]=arguments[lt];return p.prototype[z].apply(w,le)}}function $(l){const p=l.length;if(0<p){const _=Array(p);for(let w=0;w<p;w++)_[w]=l[w];return _}return[]}function j(l,p){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(g(w)){const z=l.length||0,G=w.length||0;l.length=z+G;for(let le=0;le<G;le++)l[z+le]=w[le]}else l.push(w)}}class K{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function re(l){return/^[\s\xa0]*$/.test(l)}function ie(){var l=d.navigator;return l&&(l=l.userAgent)?l:""}function me(l){return me[" "](l),l}me[" "]=function(){};var U=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function fe(l,p,_){for(const w in l)p.call(_,l[w],w,l)}function x(l,p){for(const _ in l)p.call(void 0,l[_],_,l)}function T(l){const p={};for(const _ in l)p[_]=l[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,p){let _,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(_ in w)l[_]=w[_];for(let G=0;G<R.length;G++)_=R[G],Object.prototype.hasOwnProperty.call(w,_)&&(l[_]=w[_])}}function L(l){var p=1;l=l.split(":");const _=[];for(;0<p&&l.length;)_.push(l.shift()),p--;return l.length&&_.push(l.join(":")),_}function b(l){d.setTimeout(()=>{throw l},0)}function A(){var l=Te;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ct{constructor(){this.h=this.g=null}add(p,_){const w=Be.get();w.set(p,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Be=new K(()=>new Ct,l=>l.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,oe=!1,Te=new ct,ce=()=>{const l=d.Promise.resolve(void 0);Ke=()=>{l.then(O)}};var O=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(_){b(_)}var p=Be;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}oe=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};d.addEventListener("test",_,p),d.removeEventListener("test",_,p)}catch{}return l}();function Ve(l,p){if(Ee.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(U){e:{try{me(p.nodeName);var z=!0;break e}catch{}z=!1}z||(p=null)}}else _=="mouseover"?p=l.fromElement:_=="mouseout"&&(p=l.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:je[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ve.aa.h.call(this)}}V(Ve,Ee);var je={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Fe(l,p,_,w,z){this.listener=l,this.proxy=null,this.src=p,this.type=_,this.capture=!!w,this.ha=z,this.key=++Ze,this.da=this.fa=!1}function ft(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function bn(l){this.src=l,this.g={},this.h=0}bn.prototype.add=function(l,p,_,w,z){var G=l.toString();l=this.g[G],l||(l=this.g[G]=[],this.h++);var le=tn(l,p,w,z);return-1<le?(p=l[le],_||(p.fa=!1)):(p=new Fe(p,this.src,G,!!w,z),p.fa=_,l.push(p)),p};function ci(l,p){var _=p.type;if(_ in l.g){var w=l.g[_],z=Array.prototype.indexOf.call(w,p,void 0),G;(G=0<=z)&&Array.prototype.splice.call(w,z,1),G&&(ft(p),l.g[_].length==0&&(delete l.g[_],l.h--))}}function tn(l,p,_,w){for(var z=0;z<l.length;++z){var G=l[z];if(!G.da&&G.listener==p&&G.capture==!!_&&G.ha==w)return z}return-1}var Ur="closure_lm_"+(1e6*Math.random()|0),hi={};function fi(l,p,_,w,z){if(Array.isArray(p)){for(var G=0;G<p.length;G++)fi(l,p[G],_,w,z);return null}return _=yn(_),l&&l[Je]?l.K(p,_,y(w)?!!w.capture:!1,z):es(l,p,_,!1,w,z)}function es(l,p,_,w,z,G){if(!p)throw Error("Invalid event type");var le=y(z)?!!z.capture:!!z,lt=jr(l);if(lt||(l[Ur]=lt=new bn(l)),_=lt.add(p,_,w,le,G),_.proxy)return _;if(w=Vs(),_.proxy=w,w.src=l,w.listener=_,l.addEventListener)Me||(z=le),z===void 0&&(z=!1),l.addEventListener(p.toString(),w,z);else if(l.attachEvent)l.attachEvent(Ht(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Vs(){function l(_){return p.call(l.src,l.listener,_)}const p=Yn;return l}function di(l,p,_,w,z){if(Array.isArray(p))for(var G=0;G<p.length;G++)di(l,p[G],_,w,z);else w=y(w)?!!w.capture:!!w,_=yn(_),l&&l[Je]?(l=l.i,p=String(p).toString(),p in l.g&&(G=l.g[p],_=tn(G,_,w,z),-1<_&&(ft(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete l.g[p],l.h--)))):l&&(l=jr(l))&&(p=l.g[p.toString()],l=-1,p&&(l=tn(p,_,w,z)),(_=-1<l?p[l]:null)&&Gn(_))}function Gn(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Je])ci(p.i,l);else{var _=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(_,w,l.capture):p.detachEvent?p.detachEvent(Ht(_),w):p.addListener&&p.removeListener&&p.removeListener(w),(_=jr(p))?(ci(_,l),_.h==0&&(_.src=null,p[Ur]=null)):ft(l)}}}function Ht(l){return l in hi?hi[l]:hi[l]="on"+l}function Yn(l,p){if(l.da)l=!0;else{p=new Ve(p,this);var _=l.listener,w=l.ha||l.src;l.fa&&Gn(l),l=_.call(w,p)}return l}function jr(l){return l=l[Ur],l instanceof bn?l:null}var _r="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(l){return typeof l=="function"?l:(l[_r]||(l[_r]=function(p){return l.handleEvent(p)}),l[_r])}function at(){Y.call(this),this.i=new bn(this),this.M=this,this.F=null}V(at,Y),at.prototype[Je]=!0,at.prototype.removeEventListener=function(l,p,_,w){di(this,l,p,_,w)};function St(l,p){var _,w=l.F;if(w)for(_=[];w;w=w.F)_.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new Ee(p,l);else if(p instanceof Ee)p.target=p.target||l;else{var z=p;p=new Ee(w,l),k(p,z)}if(z=!0,_)for(var G=_.length-1;0<=G;G--){var le=p.g=_[G];z=xn(le,w,!0,p)&&z}if(le=p.g=l,z=xn(le,w,!0,p)&&z,z=xn(le,w,!1,p)&&z,_)for(G=0;G<_.length;G++)le=p.g=_[G],z=xn(le,w,!1,p)&&z}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var _=l.g[p],w=0;w<_.length;w++)ft(_[w]);delete l.g[p],l.h--}}this.F=null},at.prototype.K=function(l,p,_,w){return this.i.add(String(l),p,!1,_,w)},at.prototype.L=function(l,p,_,w){return this.i.add(String(l),p,!0,_,w)};function xn(l,p,_,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var z=!0,G=0;G<p.length;++G){var le=p[G];if(le&&!le.da&&le.capture==_){var lt=le.listener,Nt=le.ha||le.src;le.fa&&ci(l.i,le),z=lt.call(Nt,w)!==!1&&z}}return z&&!w.defaultPrevented}function ts(l,p,_){if(typeof l=="function")_&&(l=I(l,_));else if(l&&typeof l.handleEvent=="function")l=I(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(l,p||0)}function qt(l){l.g=ts(()=>{l.g=null,l.i&&(l.i=!1,qt(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class vr extends Y{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(l){Y.call(this),this.h=l,this.g={}}V(Er,Y);var pi=[];function ns(l){fe(l.g,function(p,_){this.g.hasOwnProperty(_)&&Gn(p)},l),l.g={}}Er.prototype.N=function(){Er.aa.N.call(this),ns(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=d.JSON.stringify,wr=d.JSON.parse,gi=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function Xn(){}Xn.prototype.h=null;function yi(l){return l.h||(l.h=l.i())}function zr(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){Ee.call(this,"d")}V(kn,Ee);function Jn(){Ee.call(this,"c")}V(Jn,Ee);var fn={},rs=null;function Br(){return rs=rs||new at}fn.La="serverreachability";function N(l){Ee.call(this,fn.La,l)}V(N,Ee);function F(l){const p=Br();St(p,new N(p))}fn.STAT_EVENT="statevent";function Q(l,p){Ee.call(this,fn.STAT_EVENT,l),this.stat=p}V(Q,Ee);function X(l){const p=Br();St(p,new Q(p,l))}fn.Ma="timingevent";function he(l,p){Ee.call(this,fn.Ma,l),this.size=p}V(he,Ee);function ye(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},p)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function de(l,p,_,w,z,G){l.info(function(){if(l.g)if(G)for(var le="",lt=G.split("&"),Nt=0;Nt<lt.length;Nt++){var Ge=lt[Nt].split("=");if(1<Ge.length){var bt=Ge[0];Ge=Ge[1];var xt=bt.split("_");le=2<=xt.length&&xt[1]=="type"?le+(bt+"="+Ge+"&"):le+(bt+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+p+`
`+_+`
`+le})}function ve(l,p,_,w,z,G,le){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+p+`
`+_+`
`+G+" "+le})}function ae(l,p,_,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+be(l,_)+(w?" "+w:"")})}function ke(l,p){l.info(function(){return"TIMEOUT: "+p})}Ce.prototype.info=function(){};function be(l,p){if(!l.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var w=_[l];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<z.length;le++)z[le]=""}}}}return mi(_)}catch{return p}}var rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},It={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$e;function et(){}V(et,Xn),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},$e=new et;function it(l,p,_,w){this.j=l,this.i=p,this.l=_,this.R=w||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var er={},nn={};function Wt(l,p,_){l.L=1,l.v=wi(Dn(p)),l.m=_,l.P=!0,$r(l,null)}function $r(l,p){l.F=Date.now(),st(l),l.A=Dn(l.v);var _=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Si(_.i,"t",w),l.C=0,_=l.j.J,l.h=new Zn,l.g=Za(l.j,_?p:null,!l.m),0<l.O&&(l.M=new vr(I(l.Y,l,l.g),l.O)),p=l.U,_=l.g,w=l.ca;var z="readystatechange";Array.isArray(z)||(z&&(pi[0]=z.toString()),z=pi);for(var G=0;G<z.length;G++){var le=fi(_,z[G],w||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),F(),de(l.i,l.u,l.A,l.l,l.R,l.m)}it.prototype.ca=function(l){l=l.target;const p=this.M;p&&wn(l)==3?p.j():this.Y(l)},it.prototype.Y=function(l){try{if(l==this.g)e:{const xt=wn(this.g);var p=this.g.Ba();const jn=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||bo(this.g)))){this.J||xt!=4||p==7||(p==8||0>=jn?F(3):F(2)),Qe(this);var _=this.g.Z();this.X=_;t:if(Tr(this)){var w=bo(this.g);l="";var z=w.length,G=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),dt(this);var le="";break t}this.h.i=new d.TextDecoder}for(p=0;p<z;p++)this.h.h=!0,l+=this.h.i.decode(w[p],{stream:!(G&&p==z-1)});w.length=0,this.h.g+=l,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,ve(this.i,this.u,this.A,this.l,this.R,xt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,Nt=this.g;if((lt=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(lt)){var Ge=lt;break t}}Ge=null}if(_=Ge)ae(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nr(this,_);else{this.o=!1,this.s=3,X(12),Kt(this),dt(this);break e}}if(this.P){_=!0;let Vn;for(;!this.J&&this.C<le.length;)if(Vn=tr(this,le),Vn==nn){xt==4&&(this.s=4,X(14),_=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==er){this.s=4,X(15),ae(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else ae(this.i,this.l,Vn,null),nr(this,Vn);if(Tr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||le.length!=0||this.h.h||(this.s=1,X(16),_=!1),this.o=this.o&&_,!_)ae(this.i,this.l,le,"[Invalid Chunked Response]"),Kt(this),dt(this);else if(0<le.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),jo(bt),bt.M=!0,X(11))}}else ae(this.i,this.l,le,null),nr(this,le);xt==4&&Kt(this),this.o&&!this.J&&(xt==4?qs(this.j,this):(this.o=!1,st(this)))}else js(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),Kt(this),dt(this)}}}catch{}finally{}};function Tr(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function tr(l,p){var _=l.C,w=p.indexOf(`
`,_);return w==-1?nn:(_=Number(p.substring(_,w)),isNaN(_)?er:(w+=1,w+_>p.length?nn:(p=p.slice(w,w+_),l.C=w+_,p)))}it.prototype.cancel=function(){this.J=!0,Kt(this)};function st(l){l.S=Date.now()+l.I,Hr(l,l.I)}function Hr(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ye(I(l.ba,l),p)}function Qe(l){l.B&&(d.clearTimeout(l.B),l.B=null)}it.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ke(this.i,this.A),this.L!=2&&(F(),X(17)),Kt(this),this.s=2,dt(this)):Hr(this,this.S-l)};function dt(l){l.j.G==0||l.J||qs(l.j,l)}function Kt(l){Qe(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,ns(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function nr(l,p){try{var _=l.j;if(_.G!=0&&(_.g==l||dn(_.h,l))){if(!l.K&&dn(_.h,l)&&_.G==3){try{var w=_.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)Hs(_),ar(_);else break e;$s(_),X(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=ye(I(_.Za,_),6e3));if(1>=Ls(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Gr(_,11)}else if((l.K||_.g==l)&&Hs(_),!re(p))for(z=_.Da.g.parse(p),p=0;p<z.length;p++){let Ge=z[p];if(_.T=Ge[0],Ge=Ge[1],_.G==2)if(Ge[0]=="c"){_.K=Ge[1],_.ia=Ge[2];const bt=Ge[3];bt!=null&&(_.la=bt,_.j.info("VER="+_.la));const xt=Ge[4];xt!=null&&(_.Aa=xt,_.j.info("SVER="+_.Aa));const jn=Ge[5];jn!=null&&typeof jn=="number"&&0<jn&&(w=1.5*jn,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Vn=l.g;if(Vn){const us=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(us){var G=w.h;G.g||us.indexOf("spdy")==-1&&us.indexOf("quic")==-1&&us.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Lo(G,G.h),G.h=null))}if(w.D){const Ks=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ks&&(w.ya=Ks,ut(w.I,w.D,Ks))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var le=l;if(w.qa=Ja(w,w.J?w.ia:null,w.W),le.K){ja(w.h,le);var lt=le,Nt=w.L;Nt&&(lt.I=Nt),lt.B&&(Qe(lt),st(lt)),w.g=le}else ls(w);0<_.i.length&&Cr(_)}else Ge[0]!="stop"&&Ge[0]!="close"||Gr(_,7);else _.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Gr(_,7):Gt(_):Ge[0]!="noop"&&_.l&&_.l.ta(Ge),_.v=0)}}F(4)}catch{}}var pt=class{constructor(l,p){this.g=l,this.map=p}};function vn(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ls(l){return l.h?1:l.g?l.g.size:0}function dn(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Lo(l,p){l.g?l.g.add(p):l.h=p}function ja(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}vn.prototype.cancel=function(){if(this.i=za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function za(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const _ of l.g.values())p=p.concat(_.D);return p}return $(l.i)}function Ms(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],_=l.length,w=0;w<_;w++)p.push(l[w]);return p}p=[],_=0;for(w in l)p[_++]=l[w];return p}function Os(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var _=0;_<l;_++)p.push(_);return p}p=[],_=0;for(const w in l)p[_++]=w;return p}}}function _i(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var _=Os(l),w=Ms(l),z=w.length,G=0;G<z;G++)p.call(void 0,w[G],_&&_[G],l)}var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wu(l,p){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var w=l[_].indexOf("="),z=null;if(0<=w){var G=l[_].substring(0,w);z=l[_].substring(w+1)}else G=l[_];p(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function qr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof qr){this.h=l.h,ss(this,l.j),this.o=l.o,this.g=l.g,vi(this,l.s),this.l=l.l;var p=l.i,_=new Sr;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Ei(this,_),this.m=l.m}else l&&(p=String(l).match(is))?(this.h=!1,ss(this,p[1]||"",!0),this.o=He(p[2]||""),this.g=He(p[3]||"",!0),vi(this,p[4]),this.l=He(p[5]||"",!0),Ei(this,p[6]||"",!0),this.m=He(p[7]||"")):(this.h=!1,this.i=new Sr(null,this.h))}qr.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Ti(p,Fs,!0),":");var _=this.g;return(_||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Ti(p,Fs,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(Ti(_,_.charAt(0)=="/"?Ha:$a,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",Ti(_,Mo)),l.join("")};function Dn(l){return new qr(l)}function ss(l,p,_){l.j=_?He(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function vi(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Ei(l,p,_){p instanceof Sr?(l.i=p,Ir(l.i,l.h)):(_||(p=Ti(p,qa)),l.i=new Sr(p,l.h))}function ut(l,p,_){l.i.set(p,_)}function wi(l){return ut(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function He(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ti(l,p,_){return typeof l=="string"?(l=encodeURI(l).replace(p,Ba),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ba(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Fs=/[#\/\?@]/g,$a=/[#\?:]/g,Ha=/[#\?]/g,qa=/[#\?@]/g,Mo=/#/g;function Sr(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Qt(l){l.g||(l.g=new Map,l.h=0,l.i&&Wu(l.i,function(p,_){l.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}i=Sr.prototype,i.add=function(l,p){Qt(this),this.i=null,l=Un(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(p),this.h+=1,this};function rr(l,p){Qt(l),p=Un(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function ir(l,p){return Qt(l),p=Un(l,p),l.g.has(p)}i.forEach=function(l,p){Qt(this),this.g.forEach(function(_,w){_.forEach(function(z){l.call(p,z,w,this)},this)},this)},i.na=function(){Qt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let w=0;w<p.length;w++){const z=l[w];for(let G=0;G<z.length;G++)_.push(p[w])}return _},i.V=function(l){Qt(this);let p=[];if(typeof l=="string")ir(this,l)&&(p=p.concat(this.g.get(Un(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)p=p.concat(l[_])}return p},i.set=function(l,p){return Qt(this),this.i=null,l=Un(this,l),ir(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Si(l,p,_){rr(l,p),0<_.length&&(l.i=null,l.g.set(Un(l,p),$(_)),l.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var w=p[_];const G=encodeURIComponent(String(w)),le=this.V(w);for(w=0;w<le.length;w++){var z=G;le[w]!==""&&(z+="="+encodeURIComponent(String(le[w]))),l.push(z)}}return this.i=l.join("&")};function Un(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Ir(l,p){p&&!l.j&&(Qt(l),l.i=null,l.g.forEach(function(_,w){var z=w.toLowerCase();w!=z&&(rr(this,w),Si(this,z,_))},l)),l.j=p}function Ku(l,p){const _=new Ce;if(d.Image){const w=new Image;w.onload=P(En,_,"TestLoadImage: loaded",!0,p,w),w.onerror=P(En,_,"TestLoadImage: error",!1,p,w),w.onabort=P(En,_,"TestLoadImage: abort",!1,p,w),w.ontimeout=P(En,_,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function Wa(l,p){const _=new Ce,w=new AbortController,z=setTimeout(()=>{w.abort(),En(_,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(G=>{clearTimeout(z),G.ok?En(_,"TestPingServer: ok",!0,p):En(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),En(_,"TestPingServer: error",!1,p)})}function En(l,p,_,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(_)}catch{}}function Qu(){this.g=new gi}function Ka(l,p,_){const w=_||"";try{_i(l,function(z,G){let le=z;y(z)&&(le=mi(z)),p.push(w+G+"="+encodeURIComponent(le))})}catch(z){throw p.push(w+"type="+encodeURIComponent("_badmap")),z}}function Wr(l){this.l=l.Ub||null,this.j=l.eb||!1}V(Wr,Xn),Wr.prototype.g=function(){return new os(this.l,this.j)},Wr.prototype.i=function(l){return function(){return l}}({});function os(l,p){at.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(os,at),i=os.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,or(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?sr(this):or(this),this.readyState==3&&Qa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,sr(this))},i.Qa=function(l){this.g&&(this.response=l,sr(this))},i.ga=function(){this.g&&sr(this)};function sr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,or(l)}i.setRequestHeader=function(l,p){this.u.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=p.next();return l.join(`\r
`)};function or(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Kr(l){let p="";return fe(l,function(_,w){p+=w,p+=":",p+=_,p+=`\r
`}),p}function Ii(l,p,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Kr(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):ut(l,p,_))}function yt(l){at.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(yt,at);var Gu=/^https?$/i,Oo=["POST","PUT"];i=yt.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,p,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$e.g(),this.v=this.o?yi(this.o):yi($e),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(G){as(this,G);return}if(l=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)_.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())_.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),z=d.FormData&&l instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Oo,p,void 0))||w||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of _)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Us(this),this.u=!0,this.g.send(l),this.u=!1}catch(G){as(this,G)}};function as(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,bs(l),Nn(l)}function bs(l){l.A||(l.A=!0,St(l,"complete"),St(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,St(this,"complete"),St(this,"abort"),Nn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),yt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Fo(this):this.bb())},i.bb=function(){Fo(this)};function Fo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||wn(l)!=4||l.Z()!=2)){if(l.u&&wn(l)==4)ts(l.Ea,0,l);else if(St(l,"readystatechange"),wn(l)==4){l.h=!1;try{const le=l.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var w;if(w=le===0){var z=String(l.D).match(is)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),w=!Gu.test(z?z.toLowerCase():"")}_=w}if(_)St(l,"complete"),St(l,"success");else{l.m=6;try{var G=2<wn(l)?l.g.statusText:""}catch{G=""}l.l=G+" ["+l.Z()+"]",bs(l)}}finally{Nn(l)}}}}function Nn(l,p){if(l.g){Us(l);const _=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||St(l,"ready");try{_.onreadystatechange=w}catch{}}}function Us(l){l.I&&(d.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function wn(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),wr(p)}};function bo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function js(l){const p={};l=(l.g&&2<=wn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(re(l[w]))continue;var _=L(l[w]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=p[z]||[];p[z]=G,G.push(_)}x(p,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(l,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||p}function Uo(l){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rr("baseRetryDelayMs",5e3,l),this.cb=Rr("retryDelaySeedMs",1e4,l),this.Wa=Rr("forwardChannelMaxRetries",2,l),this.wa=Rr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new vn(l&&l.concurrentRequestLimit),this.Da=new Qu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Uo.prototype,i.la=8,i.G=1,i.connect=function(l,p,_,w){X(0),this.W=l,this.H=p||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Ja(this,null,this.W),Cr(this)};function Gt(l){if(zs(l),l.G==3){var p=l.U++,_=Dn(l.I);if(ut(_,"SID",l.K),ut(_,"RID",p),ut(_,"TYPE","terminate"),Qr(l,_),p=new it(l,l.j,p),p.L=2,p.v=wi(Dn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=p.v,_=!0),_||(p.g=Za(p.j,null),p.g.ea(p.v)),p.F=Date.now(),st(p)}Xa(l)}function ar(l){l.g&&(jo(l),l.g.cancel(),l.g=null)}function zs(l){ar(l),l.u&&(d.clearTimeout(l.u),l.u=null),Hs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&d.clearTimeout(l.s),l.s=null)}function Cr(l){if(!rn(l.h)&&!l.s){l.s=!0;var p=l.Ga;Ke||ce(),oe||(Ke(),oe=!0),Te.add(p,l),l.B=0}}function Yu(l,p){return Ls(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ye(I(l.Ga,l,p),Ya(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const z=new it(this,this.j,l);let G=this.o;if(this.S&&(G?(G=T(G),k(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Ri(this,z,p),_=Dn(this.I),ut(_,"RID",l),ut(_,"CVER",22),this.D&&ut(_,"X-HTTP-Session-Id",this.D),Qr(this,_),G&&(this.O?p="headers="+encodeURIComponent(String(Kr(G)))+"&"+p:this.m&&Ii(_,this.m,G)),Lo(this.h,z),this.Ua&&ut(_,"TYPE","init"),this.P?(ut(_,"$req",p),ut(_,"SID","null"),z.T=!0,Wt(z,_,null)):Wt(z,_,p),this.G=2}}else this.G==3&&(l?Bs(this,l):this.i.length==0||rn(this.h)||Bs(this))};function Bs(l,p){var _;p?_=p.l:_=l.U++;const w=Dn(l.I);ut(w,"SID",l.K),ut(w,"RID",_),ut(w,"AID",l.T),Qr(l,w),l.m&&l.o&&Ii(w,l.m,l.o),_=new it(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Ri(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Lo(l.h,_),Wt(_,w,p)}function Qr(l,p){l.H&&fe(l.H,function(_,w){ut(p,w,_)}),l.l&&_i({},function(_,w){ut(p,w,_)})}function Ri(l,p,_){_=Math.min(l.i.length,_);var w=l.l?I(l.l.Na,l.l,l):null;e:{var z=l.i;let G=-1;for(;;){const le=["count="+_];G==-1?0<_?(G=z[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let lt=!0;for(let Nt=0;Nt<_;Nt++){let Ge=z[Nt].g;const bt=z[Nt].map;if(Ge-=G,0>Ge)G=Math.max(0,z[Nt].g-100),lt=!1;else try{Ka(bt,le,"req"+Ge+"_")}catch{w&&w(bt)}}if(lt){w=le.join("&");break e}}}return l=l.i.splice(0,_),p.D=l,w}function ls(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Ke||ce(),oe||(Ke(),oe=!0),Te.add(p,l),l.v=0}}function $s(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ye(I(l.Fa,l),Ya(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ga(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ye(I(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),ar(this),Ga(this))};function jo(l){l.A!=null&&(d.clearTimeout(l.A),l.A=null)}function Ga(l){l.g=new it(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Dn(l.qa);ut(p,"RID","rpc"),ut(p,"SID",l.K),ut(p,"AID",l.T),ut(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&ut(p,"TO",l.ja),ut(p,"TYPE","xmlhttp"),Qr(l,p),l.m&&l.o&&Ii(p,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=wi(Dn(p)),_.m=null,_.P=!0,$r(_,l)}i.Za=function(){this.C!=null&&(this.C=null,ar(this),$s(this),X(19))};function Hs(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function qs(l,p){var _=null;if(l.g==p){Hs(l),jo(l),l.g=null;var w=2}else if(dn(l.h,p))_=p.D,ja(l.h,p),w=1;else return;if(l.G!=0){if(p.o)if(w==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var z=l.B;w=Br(),St(w,new he(w,_)),Cr(l)}else ls(l);else if(z=p.s,z==3||z==0&&0<p.X||!(w==1&&Yu(l,p)||w==2&&$s(l)))switch(_&&0<_.length&&(p=l.h,p.i=p.i.concat(_)),z){case 1:Gr(l,5);break;case 4:Gr(l,10);break;case 3:Gr(l,6);break;default:Gr(l,2)}}}function Ya(l,p){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*p}function Gr(l,p){if(l.j.info("Error code "+p),p==2){var _=I(l.fb,l),w=l.Xa;const z=!w;w=new qr(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ss(w,"https"),wi(w),z?Ku(w.toString(),_):Wa(w.toString(),_)}else X(2);l.G=0,l.l&&l.l.sa(p),Xa(l),zs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Xa(l){if(l.G=0,l.ka=[],l.l){const p=za(l.h);(p.length!=0||l.i.length!=0)&&(j(l.ka,p),j(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function Ja(l,p,_){var w=_ instanceof qr?Dn(_):new qr(_);if(w.g!="")p&&(w.g=p+"."+w.g),vi(w,w.s);else{var z=d.location;w=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;var G=new qr(null);w&&ss(G,w),p&&(G.g=p),z&&vi(G,z),_&&(G.l=_),w=G}return _=l.D,p=l.ya,_&&p&&ut(w,_,p),ut(w,"VER",l.la),Qr(l,w),w}function Za(l,p,_){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new yt(new Wr({eb:_})):new yt(l.pa),p.Ha(l.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function zo(){}i=zo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ws(){}Ws.prototype.g=function(l,p){return new pn(l,p)};function pn(l,p){at.call(this),this.g=new Uo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!re(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!re(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Ar(this)}V(pn,at),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Gt(this.g)},pn.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=mi(l),l=_);p.i.push(new pt(p.Ya++,l)),p.G==3&&Cr(p)},pn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,pn.aa.N.call(this)};function el(l){kn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const _ in p){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}V(el,kn);function tl(){Jn.call(this),this.status=1}V(tl,Jn);function Ar(l){this.g=l}V(Ar,zo),Ar.prototype.ua=function(){St(this.g,"a")},Ar.prototype.ta=function(l){St(this.g,new el(l))},Ar.prototype.sa=function(l){St(this.g,new tl)},Ar.prototype.ra=function(){St(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,ey=function(){return new Ws},Zg=function(){return Br()},Jg=fn,Bh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,ou=rt,It.COMPLETE="complete",Xg=It,zr.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",at.prototype.listen=at.prototype.K,ya=zr,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,Yg=yt}).apply(typeof Xl<"u"?Xl:typeof self<"u"?self:typeof window<"u"?window:{});const Om="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new $g("@firebase/firestore");function go(){return Cs.logLevel}function ge(i,...e){if(Cs.logLevel<=Xe.DEBUG){const n=e.map(yf);Cs.debug(`Firestore (${ko}): ${i}`,...n)}}function oi(i,...e){if(Cs.logLevel<=Xe.ERROR){const n=e.map(yf);Cs.error(`Firestore (${ko}): ${i}`,...n)}}function To(i,...e){if(Cs.logLevel<=Xe.WARN){const n=e.map(yf);Cs.warn(`Firestore (${ko}): ${i}`,...n)}}function yf(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(i="Unexpected state"){const e=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: `+i;throw oi(e),new Error(e)}function ot(i,e){i||Ne()}function Oe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends xo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class sT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oT{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},d=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wi)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ot(typeof s.accessToken=="string"),new ty(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new cn(e)}}class aT{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class lT{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new aT(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ot(this.o===void 0);const s=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string"),this.R=n.token,new uT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=hT(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%e.length))}return s}}function qe(i,e){return i<e?-1:i>e?1:0}function So(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Re(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Ot(0,0))}static max(){return new Le(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ne(),s===void 0?s=e.length-n:s>e.length-n&&Ne(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Nr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Nr.isNumericId(e),o=Nr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Nr.extractNumericId(e).compare(Nr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class vt extends Nr{construct(e,n,s){return new vt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Re(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const fT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Nr{construct(e,n,s){return new Zt(e,n,s)}static isValidIdentifier(e){return fT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Re(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Re(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Re(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new Re(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(vt.fromString(e))}static fromName(e){return new xe(vt.fromString(e).popFirst(5))}static empty(){return new xe(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new vt(e.slice()))}}function dT(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(s===1e9?new Ot(n+1,0):new Ot(n,s));return new Gi(o,xe.empty(),e)}function pT(i){return new Gi(i.readTime,i.key,-1)}class Gi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Gi(Le.min(),xe.empty(),-1)}static max(){return new Gi(Le.max(),xe.empty(),-1)}}function mT(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(i.documentKey,e.documentKey),n!==0?n:qe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==gT)throw i;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&n()},g=>s(g))}),h=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(E=>{h[y]=E,++d,d===u&&s(h)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function _T(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Nu.oe=-1;function Vu(i){return i==null}function _u(i){return i===0&&1/i==-1/0}function vT(i){return typeof i=="number"&&Number.isInteger(i)&&!_u(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Fm(e)),e=wT(i.get(n),e);return Fm(e)}function wT(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function Fm(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function xs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ry(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jl(this.root,e,this.comparator,!0)}}class Jl{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Um(this.data.getIterator())}getIteratorFrom(e){return new Um(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class Um{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new mr([])}unionWith(e){let n=new Ft(Zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iy("Invalid base64 string: "+u):u}}(e);return new en(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const TT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(i){if(ot(!!i),typeof i=="string"){let e=0;const n=TT.exec(i);if(ot(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pt(i.seconds),nanos:Pt(i.nanos)}}function Pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xi(i){return typeof i=="string"?en.fromBase64String(i):en.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Lu(i){const e=i.mapValue.fields.__previous_value__;return _f(e)?Lu(e):e}function Pa(i){const e=Yi(i.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,s,o,u,h,d,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=y}}class xa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?_f(i)?4:RT(i)?9007199254740991:IT(i)?10:11:Ne()}function Or(i,e){if(i===e)return!0;const n=Ji(i);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Pa(i).isEqual(Pa(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Yi(o.timestampValue),d=Yi(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Xi(o.bytesValue).isEqual(Xi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Pt(o.geoPointValue.latitude)===Pt(u.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Pt(o.integerValue)===Pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Pt(o.doubleValue),d=Pt(u.doubleValue);return h===d?_u(h)===_u(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return So(i.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(bm(h)!==bm(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!Or(h[g],d[g])))return!1;return!0}(i,e);default:return Ne()}}function ka(i,e){return(i.values||[]).find(n=>Or(n,e))!==void 0}function Io(i,e){if(i===e)return 0;const n=Ji(i),s=Ji(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=Pt(u.integerValue||u.doubleValue),g=Pt(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(i,e);case 3:return jm(i.timestampValue,e.timestampValue);case 4:return jm(Pa(i),Pa(e));case 5:return qe(i.stringValue,e.stringValue);case 6:return function(u,h){const d=Xi(u),g=Xi(h);return d.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),g=h.split("/");for(let y=0;y<d.length&&y<g.length;y++){const E=qe(d[y],g[y]);if(E!==0)return E}return qe(d.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=qe(Pt(u.latitude),Pt(h.latitude));return d!==0?d:qe(Pt(u.longitude),Pt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return zm(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,g,y,E;const S=u.fields||{},I=h.fields||{},P=(d=S.value)===null||d===void 0?void 0:d.arrayValue,V=(g=I.value)===null||g===void 0?void 0:g.arrayValue,$=qe(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:zm(P,V)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Zl.mapValue&&h===Zl.mapValue)return 0;if(u===Zl.mapValue)return 1;if(h===Zl.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),y=h.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const I=qe(g[S],E[S]);if(I!==0)return I;const P=Io(d[g[S]],y[E[S]]);if(P!==0)return P}return qe(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Ne()}}function jm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return qe(i,e);const n=Yi(i),s=Yi(e),o=qe(n.seconds,s.seconds);return o!==0?o:qe(n.nanos,s.nanos)}function zm(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Io(n[o],s[o]);if(u)return u}return qe(n.length,s.length)}function Ro(i){return $h(i)}function $h(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Yi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Xi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return xe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=$h(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${$h(n.fields[h])}`;return o+"}"}(i.mapValue):Ne()}function au(i){switch(Ji(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lu(i);return e?16+au(e):16;case 5:return 2*i.stringValue.length;case 6:return Xi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+au(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return xs(s.fields,(u,h)=>{o+=u.length+au(h)}),o}(i.mapValue);default:throw Ne()}}function Hh(i){return!!i&&"integerValue"in i}function vf(i){return!!i&&"arrayValue"in i}function Bm(i){return!!i&&"nullValue"in i}function $m(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function lu(i){return!!i&&"mapValue"in i}function IT(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ea(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return xs(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ea(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ea(i.arrayValue.values[n]);return e}return Object.assign({},i)}function RT(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!lu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ea(n)}setAll(e){let n=Zt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!n.isImmediateParentOf(d)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=d.popLast()}h?s[d.lastSegment()]=Ea(h):o.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());lu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];lu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){xs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Qn(Ea(this.value))}}function sy(i){const e=[];return xs(i.fields,(n,s)=>{const o=new Zt([n]);if(lu(s)){const u=sy(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,s,o,u,h,d){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new hn(e,0,Le.min(),Le.min(),Le.min(),Qn.empty(),0)}static newFoundDocument(e,n,s,o){return new hn(e,1,n,Le.min(),s,o,0)}static newNoDocument(e,n){return new hn(e,2,n,Le.min(),Le.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Le.min(),Le.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.position=e,this.inclusive=n}}function Hm(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=xe.comparator(xe.fromName(h.referenceValue),n.key):s=Io(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function qm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Or(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function CT(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{}class Mt extends oy{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new PT(e,n,s):n==="array-contains"?new DT(e,s):n==="in"?new NT(e,s):n==="not-in"?new VT(e,s):n==="array-contains-any"?new LT(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new xT(e,s):new kT(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Io(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends oy{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fr(e,n)}matches(e){return ay(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ay(i){return i.op==="and"}function ly(i){return AT(i)&&ay(i)}function AT(i){for(const e of i.filters)if(e instanceof Fr)return!1;return!0}function qh(i){if(i instanceof Mt)return i.field.canonicalString()+i.op.toString()+Ro(i.value);if(ly(i))return i.filters.map(e=>qh(e)).join(",");{const e=i.filters.map(n=>qh(n)).join(",");return`${i.op}(${e})`}}function uy(i,e){return i instanceof Mt?function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Or(s.value,o.value)}(i,e):i instanceof Fr?function(s,o){return o instanceof Fr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&uy(h,o.filters[d]),!0):!1}(i,e):void Ne()}function cy(i){return i instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`}(i):i instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(cy).join(" ,")+"}"}(i):"Filter"}class PT extends Mt{constructor(e,n,s){super(e,n,s),this.key=xe.fromName(s.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class xT extends Mt{constructor(e,n){super(e,"in",n),this.keys=hy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kT extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=hy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hy(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>xe.fromName(s.referenceValue))}class DT extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vf(n)&&ka(n.arrayValue,this.value)}}class NT extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ka(this.value.arrayValue,n)}}class VT extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ka(this.value.arrayValue,n)}}class LT extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ka(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.ue=null}}function Wm(i,e=null,n=[],s=[],o=null,u=null,h=null){return new MT(i,e,n,s,o,u,h)}function Ef(i){const e=Oe(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>qh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Vu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ro(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ro(s)).join(",")),e.ue=n}return e.ue}function wf(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!CT(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!uy(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!qm(i.startAt,e.startAt)&&qm(i.endAt,e.endAt)}function Wh(i){return xe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n=null,s=[],o=[],u=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OT(i,e,n,s,o,u,h,d){return new Mu(i,e,n,s,o,u,h,d)}function fy(i){return new Mu(i)}function Km(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function FT(i){return i.collectionGroup!==null}function wa(i){const e=Oe(i);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ft(Zt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Eu(u,s))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new Eu(Zt.keyField(),s))}return e.ce}function Lr(i){const e=Oe(i);return e.le||(e.le=bT(e,wa(i))),e.le}function bT(i,e){if(i.limitType==="F")return Wm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Eu(o.field,u)});const n=i.endAt?new vu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new vu(i.startAt.position,i.startAt.inclusive):null;return Wm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Kh(i,e,n){return new Mu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ou(i,e){return wf(Lr(i),Lr(e))&&i.limitType===e.limitType}function dy(i){return`${Ef(Lr(i))}|lt:${i.limitType}`}function yo(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>cy(o)).join(", ")}]`),Vu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ro(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ro(o)).join(",")),`Target(${s})`}(Lr(i))}; limitType=${i.limitType})`}function Fu(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):xe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of wa(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,g){const y=Hm(h,d,g);return h.inclusive?y<=0:y<0}(s.startAt,wa(s),o)||s.endAt&&!function(h,d,g){const y=Hm(h,d,g);return h.inclusive?y>=0:y>0}(s.endAt,wa(s),o))}(i,e)}function UT(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function py(i){return(e,n)=>{let s=!1;for(const o of wa(i)){const u=jT(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function jT(i,e,n){const s=i.field.isKeyField()?xe.comparator(e.key,n.key):function(u,h,d){const g=h.data.field(u),y=d.data.field(u);return g!==null&&y!==null?Io(g,y):Ne()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return ry(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new Tt(xe.comparator);function ai(){return zT}const my=new Tt(xe.comparator);function _a(...i){let e=my;for(const n of i)e=e.insert(n.key,n);return e}function gy(i){let e=my;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Rs(){return Ta()}function yy(){return Ta()}function Ta(){return new ks(i=>i.toString(),(i,e)=>i.isEqual(e))}const BT=new Tt(xe.comparator),$T=new Ft(xe.comparator);function ze(...i){let e=$T;for(const n of i)e=e.add(n);return e}const HT=new Ft(qe);function qT(){return HT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_u(e)?"-0":e}}function _y(i){return{integerValue:""+i}}function WT(i,e){return vT(e)?_y(e):Tf(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this._=void 0}}function KT(i,e,n){return i instanceof wu?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&_f(u)&&(u=Lu(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(n,e):i instanceof Da?Ey(i,e):i instanceof Na?wy(i,e):function(o,u){const h=vy(o,u),d=Qm(h)+Qm(o.Pe);return Hh(h)&&Hh(o.Pe)?_y(d):Tf(o.serializer,d)}(i,e)}function QT(i,e,n){return i instanceof Da?Ey(i,e):i instanceof Na?wy(i,e):n}function vy(i,e){return i instanceof Tu?function(s){return Hh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class wu extends bu{}class Da extends bu{constructor(e){super(),this.elements=e}}function Ey(i,e){const n=Ty(e);for(const s of i.elements)n.some(o=>Or(o,s))||n.push(s);return{arrayValue:{values:n}}}class Na extends bu{constructor(e){super(),this.elements=e}}function wy(i,e){let n=Ty(e);for(const s of i.elements)n=n.filter(o=>!Or(o,s));return{arrayValue:{values:n}}}class Tu extends bu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Qm(i){return Pt(i.integerValue||i.doubleValue)}function Ty(i){return vf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function GT(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Da&&o instanceof Da||s instanceof Na&&o instanceof Na?So(s.elements,o.elements,Or):s instanceof Tu&&o instanceof Tu?Or(s.Pe,o.Pe):s instanceof wu&&o instanceof wu}(i.transform,e.transform)}class YT{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Uu{}function Sy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ry(i.key,ii.none()):new Oa(i.key,i.data,ii.none());{const n=i.data,s=Qn.empty();let o=new Ft(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ds(i.key,s,new mr(o.toArray()),ii.none())}}function XT(i,e,n){i instanceof Oa?function(o,u,h){const d=o.value.clone(),g=Ym(o.fieldTransforms,u,h.transformResults);d.setAll(g),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,n):i instanceof Ds?function(o,u,h){if(!uu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=Ym(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Iy(o)),g.setAll(d),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function Sa(i,e,n,s){return i instanceof Oa?function(u,h,d,g){if(!uu(u.precondition,h))return d;const y=u.value.clone(),E=Xm(u.fieldTransforms,g,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(i,e,n,s):i instanceof Ds?function(u,h,d,g){if(!uu(u.precondition,h))return d;const y=Xm(u.fieldTransforms,g,h),E=h.data;return E.setAll(Iy(u)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,s):function(u,h,d){return uu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,n)}function JT(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=vy(s.transform,o||null);u!=null&&(n===null&&(n=Qn.empty()),n.set(s.field,u))}return n||null}function Gm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,(u,h)=>GT(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Oa extends Uu{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends Uu{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Iy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Ym(i,e,n){const s=new Map;ot(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,QT(h,d,n[o]))}return s}function Xm(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,KT(u,h,e))}return s}class Ry extends Uu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZT extends Uu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&XT(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Sa(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Sa(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=yy();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=n.has(o.key)?null:d;const g=Sy(h,d);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Le.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,s)=>Gm(n,s))&&So(this.baseMutations,e.baseMutations,(n,s)=>Gm(n,s))}}class Sf{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){ot(e.mutations.length===s.length);let o=function(){return BT}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Sf(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Ye;function rS(i){switch(i){default:return Ne();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function Cy(i){if(i===void 0)return oi("GRPC error has no .code"),te.UNKNOWN;switch(i){case Dt.OK:return te.OK;case Dt.CANCELLED:return te.CANCELLED;case Dt.UNKNOWN:return te.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return te.INTERNAL;case Dt.UNAVAILABLE:return te.UNAVAILABLE;case Dt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Dt.NOT_FOUND:return te.NOT_FOUND;case Dt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Dt.ABORTED:return te.ABORTED;case Dt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Dt.DATA_LOSS:return te.DATA_LOSS;default:return Ne()}}(Ye=Dt||(Dt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=new qi([4294967295,4294967295],0);function Jm(i){const e=iS().encode(i),n=new Gg;return n.update(e),new Uint8Array(n.digest())}function Zm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qi([n,s],0),new qi([o,u],0)]}class If{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new va(`Invalid padding: ${n}`);if(s<0)throw new va(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new va(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new va(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=qi.fromNumber(this.Te)}de(e,n,s){let o=e.add(n.multiply(qi.fromNumber(s)));return o.compare(sS)===1&&(o=new qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Jm(e),[s,o]=Zm(n);for(let u=0;u<this.hashCount;u++){const h=this.de(s,o,u);if(!this.Ee(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new If(u,o,n);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const n=Jm(e),[s,o]=Zm(n);for(let u=0;u<this.hashCount;u++){const h=this.de(s,o,u);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Fa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ju(Le.min(),o,new Tt(qe),ai(),ze())}}class Fa{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Fa(s,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,s,o){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=o}}class Ay{constructor(e,n){this.targetId=e,this.me=n}}class Py{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class eg{constructor(){this.fe=0,this.ge=tg(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),n=ze(),s=ze();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ne()}}),new Fa(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=tg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ot(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oS{constructor(e){this.Be=e,this.Le=new Map,this.ke=ai(),this.qe=eu(),this.Qe=eu(),this.Ke=new Tt(qe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((s,o)=>{this.je(o)&&n(o)})}Je(e){const n=e.targetId,s=e.me.count,o=this.Ye(n);if(o){const u=o.target;if(Wh(u))if(s===0){const h=new xe(u.path);this.We(n,h,hn.newNoDocument(h,Le.min()))}else ot(s===1);else{const h=this.Ze(n);if(h!==s){const d=this.Xe(e),g=d?this.et(d,e,h):1;if(g!==0){this.He(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,d;try{h=Xi(s).toUint8Array()}catch(g){if(g instanceof iy)return To("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new If(h,o,u)}catch(g){return To(g instanceof va?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Te===0?null:d}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.Be.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.We(n,u,null),o++)}),o}it(e){const n=new Map;this.Le.forEach((u,h)=>{const d=this.Ye(h);if(d){if(u.current&&Wh(d.target)){const g=new xe(d.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,hn.newNoDocument(g,e))}u.be&&(n.set(h,u.ve()),u.Ce())}});let s=ze();this.Qe.forEach((u,h)=>{let d=!0;h.forEachWhile(g=>{const y=this.Ye(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const o=new ju(e,n,this.Ke,this.ke,s);return this.ke=ai(),this.qe=eu(),this.Qe=eu(),this.Ke=new Tt(qe),o}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,n)?o.Fe(n,1):o.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new eg,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ft(qe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ft(qe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new eg),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function eu(){return new Tt(xe.comparator)}function tg(){return new Tt(xe.comparator)}const aS={asc:"ASCENDING",desc:"DESCENDING"},lS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uS={and:"AND",or:"OR"};class cS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qh(i,e){return i.useProto3Json||Vu(e)?e:{value:e}}function Su(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function hS(i,e){return Su(i,e.toTimestamp())}function Mr(i){return ot(!!i),Le.fromTimestamp(function(n){const s=Yi(n);return new Ot(s.seconds,s.nanos)}(i))}function Rf(i,e){return Gh(i,e).canonicalString()}function Gh(i,e){const n=function(o){return new vt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function ky(i){const e=vt.fromString(i);return ot(My(e)),e}function Yh(i,e){return Rf(i.databaseId,e.path)}function xh(i,e){const n=ky(e);if(n.get(1)!==i.databaseId.projectId)throw new Re(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Re(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new xe(Ny(n))}function Dy(i,e){return Rf(i.databaseId,e)}function fS(i){const e=ky(i);return e.length===4?vt.emptyPath():Ny(e)}function Xh(i){return new vt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ny(i){return ot(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function ng(i,e,n){return{name:Yh(i,e),fields:n.value.mapValue.fields}}function dS(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(ot(E===void 0||typeof E=="string"),en.fromBase64String(E||"")):(ot(E===void 0||E instanceof Buffer||E instanceof Uint8Array),en.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const E=y.code===void 0?te.UNKNOWN:Cy(y.code);return new Re(E,y.message||"")}(h);n=new Py(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xh(i,s.document.name),u=Mr(s.document.updateTime),h=s.document.createTime?Mr(s.document.createTime):Le.min(),d=new Qn({mapValue:{fields:s.document.fields}}),g=hn.newFoundDocument(o,u,h,d),y=s.targetIds||[],E=s.removedTargetIds||[];n=new cu(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xh(i,s.document),u=s.readTime?Mr(s.readTime):Le.min(),h=hn.newNoDocument(o,u),d=s.removedTargetIds||[];n=new cu([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xh(i,s.document),u=s.removedTargetIds||[];n=new cu([],u,o,null)}else{if(!("filter"in e))return Ne();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new nS(o,u),d=s.targetId;n=new Ay(d,h)}}return n}function pS(i,e){let n;if(e instanceof Oa)n={update:ng(i,e.key,e.value)};else if(e instanceof Ry)n={delete:Yh(i,e.key)};else if(e instanceof Ds)n={update:ng(i,e.key,e.data),updateMask:SS(e.fieldMask)};else{if(!(e instanceof ZT))return Ne();n={verify:Yh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof wu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Da)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Na)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Tu)return{fieldPath:h.field.canonicalString(),increment:d.Pe};throw Ne()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:hS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ne()}(i,e.precondition)),n}function mS(i,e){return i&&i.length>0?(ot(e!==void 0),i.map(n=>function(o,u){let h=o.updateTime?Mr(o.updateTime):Mr(u);return h.isEqual(Le.min())&&(h=Mr(u)),new YT(h,o.transformResults||[])}(n,e))):[]}function gS(i,e){return{documents:[Dy(i,e.path)]}}function yS(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Dy(i,o);const u=function(y){if(y.length!==0)return Ly(Fr.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(E=>function(I){return{field:_o(I.field),direction:ES(I.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const d=Qh(i,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:n,parent:o}}function _S(i){let e=fS(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ot(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const I=Vy(S);return I instanceof Fr&&ly(I)?I.getFilters():[I]}(n.where));let h=[];n.orderBy&&(h=function(S){return S.map(I=>function(V){return new Eu(vo(V.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(I))}(n.orderBy));let d=null;n.limit&&(d=function(S){let I;return I=typeof S=="object"?S.value:S,Vu(I)?null:I}(n.limit));let g=null;n.startAt&&(g=function(S){const I=!!S.before,P=S.values||[];return new vu(P,I)}(n.startAt));let y=null;return n.endAt&&(y=function(S){const I=!S.before,P=S.values||[];return new vu(P,I)}(n.endAt)),OT(e,o,h,u,d,"F",g,y)}function vS(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Vy(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vo(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=vo(n.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(i):i.fieldFilter!==void 0?function(n){return Mt.create(vo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(s=>Vy(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne()}}(n.compositeFilter.op))}(i):Ne()}function ES(i){return aS[i]}function wS(i){return lS[i]}function TS(i){return uS[i]}function _o(i){return{fieldPath:i.canonicalString()}}function vo(i){return Zt.fromServerFormat(i.fieldPath)}function Ly(i){return i instanceof Mt?function(n){if(n.op==="=="){if($m(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(Bm(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($m(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(Bm(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:wS(n.op),value:n.value}}}(i):i instanceof Fr?function(n){const s=n.getFilters().map(o=>Ly(o));return s.length===1?s[0]:{compositeFilter:{op:TS(n.op),filters:s}}}(i):Ne()}function SS(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function My(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,s,o,u=Le.min(),h=Le.min(),d=en.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.ht=e}}function RS(i){const e=_S({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Kh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.ln=new AS}addToCollectionParentIndex(e,n){return this.ln.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Gi.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class AS{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ft(vt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Co(0)}static Qn(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig([i,e],[n,s]){const o=qe(i,n);return o===0?qe(e,s):o}class PS{constructor(e){this.Gn=e,this.buffer=new Ft(ig),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ig(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xS{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Yn(3e5)})}}class kS{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Nu.oe);const s=new PS(n);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(rg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rg):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,o,u,h,d,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,d=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),go()<=Xe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function DS(i,e){return new kS(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.changes=new ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Sa(s.mutation,o,mr.empty(),Ot.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ze()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ze()){const o=Rs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=_a();return u.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Rs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ze()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{n.set(h,d)})})}computeViews(e,n,s,o){let u=ai();const h=Ta(),d=function(){return Ta()}();return n.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ds)?u=u.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),Sa(E.mutation,y,E.mutation.getFieldMask(),Ot.now())):h.set(y.key,mr.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>h.set(y,E)),n.forEach((y,E)=>{var S;return d.set(y,new VS(E,(S=h.get(y))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,n){const s=Ta();let o=new Tt((h,d)=>h-d),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const d of h)d.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||mr.empty();E=d.applyToLocalView(y,E),s.set(g,E);const S=(o.get(d.batchId)||ze()).add(g);o=o.insert(d.batchId,S)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),y=g.key,E=g.value,S=yy();E.forEach(I=>{if(!u.has(I)){const P=Sy(n.get(I),s.get(I));P!==null&&S.set(I,P),u=u.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,S))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return xe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Rs());let d=-1,g=u;return h.next(y=>J.forEach(y,(E,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{g=g.insert(E,I)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,ze())).next(E=>({batchId:d,changes:gy(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(s=>{let o=_a();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=_a();return this.indexManager.getCollectionParents(e,u).next(d=>J.forEach(d,g=>{const y=function(S,I){return new Mu(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,I)=>{h=h.insert(S,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((g,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,hn.newInvalidDocument(E)))});let d=_a();return h.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Sa(E.mutation,y,mr.empty(),Ot.now()),Fu(n,y)&&(d=d.insert(g,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return J.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Mr(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(o){return{name:o.name,query:RS(o.bundledQuery),readTime:Mr(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.overlays=new Tt(xe.comparator),this.dr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Rs();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Tt(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.dr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.dr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Rs(),u=n.length+1,h=new xe(n.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Tt((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Rs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const d=Rs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>d.set(y,E)),!(d.size()>=o)););return J.resolve(d)}Tt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.dr.get(o.largestBatchId).delete(s.key);this.dr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new tS(n,s));let u=this.dr.get(n);u===void 0&&(u=ze(),this.dr.set(n,u)),this.dr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this.Er=new Ft(Bt.Ar),this.Rr=new Ft(Bt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new Bt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new xe(new vt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new xe(new vt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=ze();return this.Rr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Bt(e,0),s=this.Er.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return xe.comparator(e.key,n.key)||qe(e.br,n.br)}static Vr(e,n){return qe(e.br,n.br)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ft(Bt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new eS(u,n,s,o);this.mutationQueue.push(h);for(const d of o)this.vr=this.vr.add(new Bt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,n){return J.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Fr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,o],h=>{const d=this.Cr(h.br);u.push(d)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(qe);return n.forEach(o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],d=>{s=s.add(d.br)})}),J.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;xe.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new xe(u),0);let d=new Ft(qe);return this.vr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(g.br)),!0)},h),J.resolve(this.Mr(d))}Mr(e){const n=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ot(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return J.forEach(n.mutations,o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,n){const s=new Bt(n,0),o=this.vr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.Nr=e,this.docs=function(){return new Tt(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let s=ai();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():hn.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ai();const h=n.path,d=new xe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||mT(pT(E),s)<=0||(o.has(E.key)||Fu(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ne()}Br(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new jS(this)}getSize(e){return J.resolve(this.size)}}class jS extends NS{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.persistence=e,this.Lr=new ks(n=>Ef(n),wf),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.kr=0,this.qr=new Cf,this.targetCount=0,this.Qr=Co.qn()}forEachTarget(e,n){return this.Lr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),J.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Un(n),J.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Lr.forEach((h,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.Lr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Lr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Nu(0),this.Ur=!1,this.Ur=!0,this.Wr=new FS,this.referenceDelegate=e(this),this.Gr=new zS(this),this.indexManager=new CS,this.remoteDocumentCache=function(o){return new US(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new IS(n),this.jr=new MS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new bS(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const o=new BS(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(u=>this.referenceDelegate.Jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Yr(e,n){return J.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class BS extends yT{constructor(e){super(),this.currentSequenceNumber=e}}class Af{constructor(e){this.persistence=e,this.Zr=new Cf,this.Xr=null}static ei(e){return new Af(e)}get ti(){if(this.Xr)return this.Xr;throw Ne()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),J.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,s=>{const o=xe.fromPath(s);return this.ni(e,o).next(u=>{u||n.removeEntry(o,Le.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return J.or([()=>J.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Iu{constructor(e,n){this.persistence=e,this.ri=new ks(s=>ET(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=DS(this,n)}static ei(e,n){return new Iu(e,n)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return J.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Br(e,h=>this.ir(e,h,n).next(d=>{d||(s++,u.removeEntry(h,Le.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=au(e.data.value)),n}ir(e,n,s){return J.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.ri.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=o}static zi(e,n){let s=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pf(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return jw()?8:_T(bw())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Xi(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new $S;return this.ts(e,n,h).next(d=>{if(u.result=d,this.Hi)return this.ns(e,n,h,d.size)})}).next(()=>u.result)}ns(e,n,s,o){return s.documentReadCount<this.Ji?(go()<=Xe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(go()<=Xe.DEBUG&&ge("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(go()<=Xe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(n))):J.resolve())}Xi(e,n){if(Km(n))return J.resolve(null);let s=Lr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Kh(n,null,"F"),s=Lr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ze(...u);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.rs(n,d);return this.ss(n,y,h,g.readTime)?this.Xi(e,Kh(n,null,"F")):this.os(e,y,n,g)}))})))}es(e,n,s,o){return Km(n)||o.isEqual(Le.min())?J.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(n,u);return this.ss(n,h,s,o)?J.resolve(null):(go()<=Xe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.os(e,h,n,dT(o,-1)).next(d=>d))})}rs(e,n){let s=new Ft(py(e));return n.forEach((o,u)=>{Fu(e,u)&&(s=s.add(u))}),s}ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ts(e,n,s){return go()<=Xe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",yo(n)),this.Zi.getDocumentsMatchingQuery(e,n,Gi.min(),s)}os(e,n,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,s,o){this.persistence=e,this._s=n,this.serializer=o,this.us=new Tt(qe),this.cs=new ks(u=>Ef(u),wf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LS(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function WS(i,e,n,s){return new qS(i,e,n,s)}async function Fy(i,e){const n=Oe(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let g=ze();for(const y of o){h.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:d}))})})}function KS(i,e){const n=Oe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.hs.newChangeBuffer({trackRemovals:!0});return function(d,g,y,E){const S=y.batch,I=S.keys();let P=J.resolve();return I.forEach(V=>{P=P.next(()=>E.getEntry(g,V)).next($=>{const j=y.docVersions.get(V);ot(j!==null),$.version.compareTo(j)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))})}),P.next(()=>d.mutationQueue.removeMutationBatch(g,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let g=ze();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function by(i){const e=Oe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function QS(i,e){const n=Oe(i),s=e.snapshotVersion;let o=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});o=n.us;const d=[];e.targetChanges.forEach((E,S)=>{const I=o.get(S);if(!I)return;d.push(n.Gr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Gr.addMatchingKeys(u,E.addedDocuments,S)));let P=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(en.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),function($,j,K){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(I,P,E)&&d.push(n.Gr.updateTargetData(u,P))});let g=ai(),y=ze();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(GS(u,h,e.documentUpdates).next(E=>{g=E.Is,y=E.ds})),!s.isEqual(Le.min())){const E=n.Gr.getLastRemoteSnapshotVersion(u).next(S=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return J.waitFor(d).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.us=o,u))}function GS(i,e,n){let s=ze(),o=ze();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=ai();return n.forEach((d,g)=>{const y=u.get(d);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Le.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",g.version)}),{Is:h,ds:o}})}function YS(i,e){const n=Oe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function XS(i,e){const n=Oe(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Gr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Gr.allocateTargetId(s).next(h=>(o=new Bi(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Jh(i,e,n){const s=Oe(i),o=s.us.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!No(h))throw h;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function sg(i,e,n){const s=Oe(i);let o=Le.min(),u=ze();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,E){const S=Oe(g),I=S.cs.get(E);return I!==void 0?J.resolve(S.us.get(I)):S.Gr.getTargetData(y,E)}(s,h,Lr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,d.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,n?o:Le.min(),n?u:ze())).next(d=>(JS(s,UT(e),d),{documents:d,Es:u})))}function JS(i,e,n){let s=i.ls.get(e)||Le.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.ls.set(e,s)}class og{constructor(){this.activeTargetIds=qT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZS{constructor(){this._o=new og,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new og,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu=null;function kh(){return tu===null?tu=function(){return 268435456+Math.round(2147483648*Math.random())}():tu++,"0x"+tu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class rI extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${o}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}Oo(n,s,o,u,h){const d=kh(),g=this.No(n,s.toUriEncodedString());ge("RestConnection",`Sending RPC '${n}' ${d}:`,g,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(y,u,h),this.Lo(n,g,y,o).then(E=>(ge("RestConnection",`Received RPC '${n}' ${d}: `,E),E),E=>{throw To("RestConnection",`RPC '${n}' ${d} failed with error: `,E,"url: ",g,"request:",o),E})}ko(n,s,o,u,h,d){return this.Oo(n,s,o,u,h)}Bo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ko}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>n[h]=u),o&&o.headers.forEach((u,h)=>n[h]=u)}No(n,s){const o=tI[n];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,s,o){const u=kh();return new Promise((h,d)=>{const g=new Yg;g.setWithCredentials(!0),g.listenOnce(Xg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ou.NO_ERROR:const E=g.getResponseJson();ge(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case ou.TIMEOUT:ge(un,`RPC '${e}' ${u} timed out`),d(new Re(te.DEADLINE_EXCEEDED,"Request time out"));break;case ou.HTTP_ERROR:const S=g.getStatus();if(ge(un,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I==null?void 0:I.error;if(P&&P.status&&P.message){const V=function(j){const K=j.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(K)>=0?K:te.UNKNOWN}(P.status);d(new Re(V,P.message))}else d(new Re(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Re(te.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ge(un,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ge(un,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",y,s,15)})}qo(e,n,s){const o=kh(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ey(),d=Zg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Bo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ge(un,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=h.createWebChannel(E,g);let I=!1,P=!1;const V=new nI({Eo:j=>{P?ge(un,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(I||(ge(un,`Opening RPC '${e}' stream ${o} transport.`),S.open(),I=!0),ge(un,`RPC '${e}' stream ${o} sending:`,j),S.send(j))},Ao:()=>S.close()}),$=(j,K,re)=>{j.listen(K,ie=>{try{re(ie)}catch(me){setTimeout(()=>{throw me},0)}})};return $(S,ya.EventType.OPEN,()=>{P||(ge(un,`RPC '${e}' stream ${o} transport opened.`),V.So())}),$(S,ya.EventType.CLOSE,()=>{P||(P=!0,ge(un,`RPC '${e}' stream ${o} transport closed`),V.Do())}),$(S,ya.EventType.ERROR,j=>{P||(P=!0,To(un,`RPC '${e}' stream ${o} transport errored:`,j),V.Do(new Re(te.UNAVAILABLE,"The operation could not be completed")))}),$(S,ya.EventType.MESSAGE,j=>{var K;if(!P){const re=j.data[0];ot(!!re);const ie=re,me=(ie==null?void 0:ie.error)||((K=ie[0])===null||K===void 0?void 0:K.error);if(me){ge(un,`RPC '${e}' stream ${o} received error:`,me);const U=me.status;let fe=function(R){const k=Dt[R];if(k!==void 0)return Cy(k)}(U),x=me.message;fe===void 0&&(fe=te.INTERNAL,x="Unknown error status: "+U+" with message "+me.message),P=!0,V.Do(new Re(fe,x)),S.close()}else ge(un,`RPC '${e}' stream ${o} received:`,re),V.vo(re)}}),$(d,Jg.STAT_EVENT,j=>{j.stat===Bh.PROXY?ge(un,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Bh.NOPROXY&&ge(un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.bo()},0),V}}function Dh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(i){return new cS(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,s=1e3,o=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=o,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,n-s);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,s,o,u,h,d,g){this.li=e,this.Yo=s,this.Zo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Uy(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===n&&this.I_(s,o)},s=>{e(()=>{const o=new Re(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(o)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.d_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iI extends jy{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=dS(this.serializer,e),s=function(u){if(!("targetChange"in u))return Le.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Le.min():h.readTime?Mr(h.readTime):Le.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Xh(this.serializer),n.addTarget=function(u,h){let d;const g=h.target;if(d=Wh(g)?{documents:gS(u,g)}:{query:yS(u,g).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=xy(u,h.resumeToken);const y=Qh(u,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Le.min())>0){d.readTime=Su(u,h.snapshotVersion.toTimestamp());const y=Qh(u,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const s=vS(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Xh(this.serializer),n.removeTarget=e,this.c_(n)}}class sI extends jy{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ot(!!e.streamToken),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=mS(e.writeResults,e.commitTime),s=Mr(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=Xh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>pS(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Re(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,Gh(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Re(te.UNKNOWN,u.toString())})}ko(e,n,s,o,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,Gh(n,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Re(te.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class aI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(oi(n),this.C_=!1):ge("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{Ns(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(g){const y=Oe(g);y.k_.add(4),await ba(y),y.K_.set("Unknown"),y.k_.delete(4),await Bu(y)}(this))})}),this.K_=new aI(s,o)}}async function Bu(i){if(Ns(i))for(const e of i.q_)await e(!0)}async function ba(i){for(const e of i.q_)await e(!1)}function zy(i,e){const n=Oe(i);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),Nf(n)?Df(n):Vo(n).s_()&&kf(n,e))}function xf(i,e){const n=Oe(i),s=Vo(n);n.L_.delete(e),s.s_()&&By(n,e),n.L_.size===0&&(s.s_()?s.a_():Ns(n)&&n.K_.set("Unknown"))}function kf(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(i).V_(e)}function By(i,e){i.U_.xe(e),Vo(i).m_(e)}function Df(i){i.U_=new oS({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.L_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Vo(i).start(),i.K_.F_()}function Nf(i){return Ns(i)&&!Vo(i).i_()&&i.L_.size>0}function Ns(i){return Oe(i).k_.size===0}function $y(i){i.U_=void 0}async function uI(i){i.K_.set("Online")}async function cI(i){i.L_.forEach((e,n)=>{kf(i,e)})}async function hI(i,e){$y(i),Nf(i)?(i.K_.O_(e),Df(i)):i.K_.set("Unknown")}async function fI(i,e,n){if(i.K_.set("Online"),e instanceof Py&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.L_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.L_.delete(d),o.U_.removeTarget(d))}(i,e)}catch(s){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ru(i,s)}else if(e instanceof cu?i.U_.$e(e):e instanceof Ay?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(Le.min()))try{const s=await by(i.localStore);n.compareTo(s)>=0&&await function(u,h){const d=u.U_.it(h);return d.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.L_.get(y);E&&u.L_.set(y,E.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,y)=>{const E=u.L_.get(g);if(!E)return;u.L_.set(g,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),By(u,g);const S=new Bi(E.target,g,y,E.sequenceNumber);kf(u,S)}),u.remoteSyncer.applyRemoteEvent(d)}(i,n)}catch(s){ge("RemoteStore","Failed to raise snapshot:",s),await Ru(i,s)}}async function Ru(i,e,n){if(!No(e))throw e;i.k_.add(1),await ba(i),i.K_.set("Offline"),n||(n=()=>by(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Bu(i)})}function Hy(i,e){return e().catch(n=>Ru(i,n,e))}async function $u(i){const e=Oe(i),n=Zi(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;dI(e);)try{const o=await YS(e.localStore,s);if(o===null){e.B_.length===0&&n.a_();break}s=o.batchId,pI(e,o)}catch(o){await Ru(e,o)}qy(e)&&Wy(e)}function dI(i){return Ns(i)&&i.B_.length<10}function pI(i,e){i.B_.push(e);const n=Zi(i);n.s_()&&n.f_&&n.g_(e.mutations)}function qy(i){return Ns(i)&&!Zi(i).i_()&&i.B_.length>0}function Wy(i){Zi(i).start()}async function mI(i){Zi(i).w_()}async function gI(i){const e=Zi(i);for(const n of i.B_)e.g_(n.mutations)}async function yI(i,e,n){const s=i.B_.shift(),o=Sf.from(s,e,n);await Hy(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await $u(i)}async function _I(i,e){e&&Zi(i).f_&&await async function(s,o){if(function(h){return rS(h)&&h!==te.ABORTED}(o.code)){const u=s.B_.shift();Zi(s).__(),await Hy(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await $u(s)}}(i,e),qy(i)&&Wy(i)}async function lg(i,e){const n=Oe(i);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const s=Ns(n);n.k_.add(3),await ba(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Bu(n)}async function vI(i,e){const n=Oe(i);e?(n.k_.delete(2),await Bu(n)):e||(n.k_.add(2),await ba(n),n.K_.set("Unknown"))}function Vo(i){return i.W_||(i.W_=function(n,s,o){const u=Oe(n);return u.b_(),new iI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Ro:uI.bind(null,i),mo:cI.bind(null,i),po:hI.bind(null,i),R_:fI.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Nf(i)?Df(i):i.K_.set("Unknown")):(await i.W_.stop(),$y(i))})),i.W_}function Zi(i){return i.G_||(i.G_=function(n,s,o){const u=Oe(n);return u.b_(),new sI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:mI.bind(null,i),po:_I.bind(null,i),p_:gI.bind(null,i),y_:yI.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await $u(i)):(await i.G_.stop(),i.B_.length>0&&(ge("RemoteStore",`Stopping write stream with ${i.B_.length} pending writes`),i.B_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,d=new Vf(e,n,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lf(i,e){if(oi("AsyncQueue",`${e}: ${i}`),No(i))return new Re(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||xe.comparator(n.key,s.key):(n,s)=>xe.comparator(n.key,s.key),this.keyedMap=_a(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.z_=new Tt(xe.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ne():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ao{constructor(e,n,s,o,u,h,d,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(d=>{h.push({type:0,doc:d})}),new Ao(e,n,wo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ou(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class wI{constructor(){this.queries=cg(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const o=Oe(n),u=o.queries;o.queries=cg(),u.forEach((h,d)=>{for(const g of d.J_)g.onError(s)})})(this,new Re(te.ABORTED,"Firestore shutting down"))}}function cg(){return new ks(i=>dy(i),Ou)}async function TI(i,e){const n=Oe(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Y_()&&e.Z_()&&(s=2):(u=new EI,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await n.onListen(o,!0);break;case 1:u.H_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const d=Lf(h,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,u),u.J_.push(e),e.ea(n.onlineState),u.H_&&e.ta(u.H_)&&Mf(n)}async function SI(i,e){const n=Oe(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?o=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function II(i,e){const n=Oe(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const d of h.J_)d.ta(o)&&(s=!0);h.H_=o}}s&&Mf(n)}function RI(i,e,n){const s=Oe(i),o=s.queries.get(e);if(o)for(const u of o.J_)u.onError(n);s.queries.delete(e)}function Mf(i){i.X_.forEach(e=>{e.next()})}var Zh,hg;(hg=Zh||(Zh={})).na="default",hg.Cache="cache";class CI{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Zh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.key=e}}class Qy{constructor(e){this.key=e}}class AI{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ze(),this.mutatedKeys=ze(),this.Va=py(e),this.ma=new wo(this.Va)}get fa(){return this.Ea}ga(e,n){const s=n?n.pa:new ug,o=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const I=o.get(E),P=Fu(this.query,S)?S:null,V=!!I&&this.mutatedKeys.has(I.key),$=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let j=!1;I&&P?I.data.isEqual(P.data)?V!==$&&(s.track({type:3,doc:P}),j=!0):this.ya(I,P)||(s.track({type:2,doc:P}),j=!0,(g&&this.Va(P,g)>0||y&&this.Va(P,y)<0)&&(d=!0)):!I&&P?(s.track({type:0,doc:P}),j=!0):I&&!P&&(s.track({type:1,doc:I}),j=!0,(g||y)&&(d=!0)),j&&(P?(h=h.add(P),u=$?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{ma:h,pa:s,ss:d,mutatedKeys:u}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,S)=>function(P,V){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return $(P)-$(V)}(E.type,S.type)||this.Va(E.doc,S.doc)),this.wa(s),o=o!=null&&o;const d=n&&!o?this.Sa():[],g=this.Ra.size===0&&this.current&&!o?1:0,y=g!==this.Aa;return this.Aa=g,h.length!==0||y?{snapshot:new Ao(this.query,e.ma,u,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ug,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ze(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Qy(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Ky(s))}),n}va(e){this.Ea=e.Es,this.Ra=ze();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Ao.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class PI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class xI{constructor(e){this.key=e,this.Fa=!1}}class kI{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new ks(d=>dy(d),Ou),this.Oa=new Map,this.Na=new Set,this.Ba=new Tt(xe.comparator),this.La=new Map,this.ka=new Cf,this.qa={},this.Qa=new Map,this.Ka=Co.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function DI(i,e,n=!0){const s=e_(i);let o;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Ca()):o=await Gy(s,e,n,!0),o}async function NI(i,e){const n=e_(i);await Gy(n,e,!0,!1)}async function Gy(i,e,n,s){const o=await XS(i.localStore,Lr(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await VI(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&zy(i.remoteStore,o),d}async function VI(i,e,n,s,o){i.Ua=(S,I,P)=>async function($,j,K,re){let ie=j.view.ga(K);ie.ss&&(ie=await sg($.localStore,j.query,!1).then(({documents:x})=>j.view.ga(x,ie)));const me=re&&re.targetChanges.get(j.targetId),U=re&&re.targetMismatches.get(j.targetId)!=null,fe=j.view.applyChanges(ie,$.isPrimaryClient,me,U);return dg($,j.targetId,fe.ba),fe.snapshot}(i,S,I,P);const u=await sg(i.localStore,e,!0),h=new AI(e,u.Es),d=h.ga(u.documents),g=Fa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=h.applyChanges(d,i.isPrimaryClient,g);dg(i,n,y.ba);const E=new PI(e,n,h);return i.xa.set(e,E),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),y.snapshot}async function LI(i,e,n){const s=Oe(i),o=s.xa.get(e),u=s.Oa.get(o.targetId);if(u.length>1)return s.Oa.set(o.targetId,u.filter(h=>!Ou(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jh(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&xf(s.remoteStore,o.targetId),ef(s,o.targetId)}).catch(Do)):(ef(s,o.targetId),await Jh(s.localStore,o.targetId,!0))}async function MI(i,e){const n=Oe(i),s=n.xa.get(e),o=n.Oa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xf(n.remoteStore,s.targetId))}async function OI(i,e,n){const s=$I(i);try{const o=await function(h,d){const g=Oe(h),y=Ot.now(),E=d.reduce((P,V)=>P.add(V.key),ze());let S,I;return g.persistence.runTransaction("Locally write mutations","readwrite",P=>{let V=ai(),$=ze();return g.hs.getEntries(P,E).next(j=>{V=j,V.forEach((K,re)=>{re.isValidDocument()||($=$.add(K))})}).next(()=>g.localDocuments.getOverlayedDocuments(P,V)).next(j=>{S=j;const K=[];for(const re of d){const ie=JT(re,S.get(re.key).overlayedDocument);ie!=null&&K.push(new Ds(re.key,ie,sy(ie.value.mapValue),ii.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,K,d)}).next(j=>{I=j;const K=j.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(P,j.batchId,K)})}).then(()=>({batchId:I.batchId,changes:gy(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,g){let y=h.qa[h.currentUser.toKey()];y||(y=new Tt(qe)),y=y.insert(d,g),h.qa[h.currentUser.toKey()]=y}(s,o.batchId,n),await Ua(s,o.changes),await $u(s.remoteStore)}catch(o){const u=Lf(o,"Failed to persist write");n.reject(u)}}async function Yy(i,e){const n=Oe(i);try{const s=await QS(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.La.get(u);h&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?ot(h.Fa):o.removedDocuments.size>0&&(ot(h.Fa),h.Fa=!1))}),await Ua(n,s,e)}catch(s){await Do(s)}}function fg(i,e,n){const s=Oe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.xa.forEach((u,h)=>{const d=h.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const g=Oe(h);g.onlineState=d;let y=!1;g.queries.forEach((E,S)=>{for(const I of S.J_)I.ea(d)&&(y=!0)}),y&&Mf(g)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function FI(i,e,n){const s=Oe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.La.get(e),u=o&&o.key;if(u){let h=new Tt(xe.comparator);h=h.insert(u,hn.newNoDocument(u,Le.min()));const d=ze().add(u),g=new ju(Le.min(),new Map,new Tt(qe),h,d);await Yy(s,g),s.Ba=s.Ba.remove(u),s.La.delete(e),Of(s)}else await Jh(s.localStore,e,!1).then(()=>ef(s,e,n)).catch(Do)}async function bI(i,e){const n=Oe(i),s=e.batch.batchId;try{const o=await KS(n.localStore,e);Jy(n,s,null),Xy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ua(n,o)}catch(o){await Do(o)}}async function UI(i,e,n){const s=Oe(i);try{const o=await function(h,d){const g=Oe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,d).next(S=>(ot(S!==null),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);Jy(s,e,n),Xy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ua(s,o)}catch(o){await Do(o)}}function Xy(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function Jy(i,e,n){const s=Oe(i);let o=s.qa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function ef(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Zy(i,s)})}function Zy(i,e){i.Na.delete(e.path.canonicalString());const n=i.Ba.get(e);n!==null&&(xf(i.remoteStore,n),i.Ba=i.Ba.remove(e),i.La.delete(n),Of(i))}function dg(i,e,n){for(const s of n)s instanceof Ky?(i.ka.addReference(s.key,e),jI(i,s)):s instanceof Qy?(ge("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Zy(i,s.key)):Ne()}function jI(i,e){const n=e.key,s=n.path.canonicalString();i.Ba.get(n)||i.Na.has(s)||(ge("SyncEngine","New document in limbo: "+n),i.Na.add(s),Of(i))}function Of(i){for(;i.Na.size>0&&i.Ba.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new xe(vt.fromString(e)),s=i.Ka.next();i.La.set(s,new xI(n)),i.Ba=i.Ba.insert(n,s),zy(i.remoteStore,new Bi(Lr(fy(n.path)),s,"TargetPurposeLimboResolution",Nu.oe))}}async function Ua(i,e,n){const s=Oe(i),o=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((d,g)=>{h.push(s.Ua(g,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Pf.zi(g.targetId,y);u.push(S)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(g,y){const E=Oe(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(y,I=>J.forEach(I.Wi,P=>E.persistence.referenceDelegate.addReference(S,I.targetId,P)).next(()=>J.forEach(I.Gi,P=>E.persistence.referenceDelegate.removeReference(S,I.targetId,P)))))}catch(S){if(!No(S))throw S;ge("LocalStore","Failed to update sequence numbers: "+S)}for(const S of y){const I=S.targetId;if(!S.fromCache){const P=E.us.get(I),V=P.snapshotVersion,$=P.withLastLimboFreeSnapshotVersion(V);E.us=E.us.insert(I,$)}}}(s.localStore,u))}async function zI(i,e){const n=Oe(i);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const s=await Fy(n.localStore,e);n.currentUser=e,function(u,h){u.Qa.forEach(d=>{d.forEach(g=>{g.reject(new Re(te.CANCELLED,h))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ua(n,s.Ts)}}function BI(i,e){const n=Oe(i),s=n.La.get(e);if(s&&s.Fa)return ze().add(s.key);{let o=ze();const u=n.Oa.get(e);if(!u)return o;for(const h of u){const d=n.xa.get(h);o=o.unionWith(d.view.fa)}return o}}function e_(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FI.bind(null,e),e.Ma.R_=II.bind(null,e.eventManager),e.Ma.Wa=RI.bind(null,e.eventManager),e}function $I(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UI.bind(null,e),e}class Cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return WS(this.persistence,new HS,e.initialUser,this.serializer)}ja(e){return new Oy(Af.ei,this.serializer)}za(e){return new ZS}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cu.provider={build:()=>new Cu};class HI extends Cu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ot(this.persistence.referenceDelegate instanceof Iu);const s=this.persistence.referenceDelegate.garbageCollector;return new xS(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new Oy(s=>Iu.ei(s,n),this.serializer)}}class tf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zI.bind(null,this.syncEngine),await vI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wI}()}createDatastore(e){const n=zu(e.databaseInfo.databaseId),s=function(u){return new rI(u)}(e.databaseInfo);return function(u,h,d,g){return new oI(u,h,d,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,d){return new lI(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,n=>fg(this.syncEngine,n,0),function(){return ag.p()?new ag:new eI}())}createSyncEngine(e,n){return function(o,u,h,d,g,y,E){const S=new kI(o,u,h,d,g,y);return E&&(S.$a=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Oe(o);ge("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await ba(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tf.provider={build:()=>new tf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=ny.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ge("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ge("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Lf(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Nh(i,e){i.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Fy(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function pg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await KI(i);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>lg(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>lg(e.remoteStore,o)),i._onlineComponents=e}async function KI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Nh(i,new Cu)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Nh(i,new HI(void 0));return i._offlineComponents}async function t_(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await pg(i,i._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await pg(i,new tf))),i._onlineComponents}function QI(i){return t_(i).then(e=>e.syncEngine)}async function GI(i){const e=await t_(i),n=e.eventManager;return n.onListen=DI.bind(null,e.syncEngine),n.onUnlisten=LI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MI.bind(null,e.syncEngine),n}function YI(i,e,n={}){const s=new Wi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,y){const E=new qI({next:I=>{E.eu(),h.enqueueAndForget(()=>SI(u,S)),I.fromCache&&g.source==="server"?y.reject(new Re(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),S=new CI(d,E,{includeMetadataChanges:!0,ua:!0});return TI(u,S)}(await GI(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(i,e,n){if(!n)throw new Re(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function XI(i,e,n,s){if(e===!0&&s===!0)throw new Re(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function gg(i){if(!xe.isDocumentKey(i))throw new Re(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function yg(i){if(xe.isDocumentKey(i))throw new Re(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ff(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ne()}function Au(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Re(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ff(i);throw new Re(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Re(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Re(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Re(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Re(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hu{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _g({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _g(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new iT;switch(s.type){case"firstParty":return new lT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Re(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=mg.get(n);s&&(ge("ComponentProvider","Removing Datastore"),mg.delete(n),s.terminate())}(this),Promise.resolve()}}function JI(i,e,n,s={}){var o;const u=(i=Au(i,Hu))._getSettings(),h=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let d,g;if(typeof s.mockUserToken=="string")d=s.mockUserToken,g=cn.MOCK_USER;else{d=Fw(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new Re(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new cn(y)}i._authCredentials=new sT(new ty(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qu(this.firestore,e,this._query)}}class gr{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gr(this.firestore,e,this._key)}}class Ki extends qu{constructor(e,n,s){super(e,n,fy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gr(this.firestore,null,new xe(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function ZI(i,e,...n){if(i=Ra(i),r_("collection","path",e),i instanceof Hu){const s=vt.fromString(e,...n);return yg(s),new Ki(i,null,s)}{if(!(i instanceof gr||i instanceof Ki))throw new Re(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(vt.fromString(e,...n));return yg(s),new Ki(i.firestore,null,s)}}function eR(i,e,...n){if(i=Ra(i),arguments.length===1&&(e=ny.newId()),r_("doc","path",e),i instanceof Hu){const s=vt.fromString(e,...n);return gg(s),new gr(i,null,new xe(s))}{if(!(i instanceof gr||i instanceof Ki))throw new Re(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(vt.fromString(e,...n));return gg(s),new gr(i.firestore,i instanceof Ki?i.converter:null,new xe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Uy(this,"async_queue_retry"),this.fu=()=>{const s=Dh();s&&ge("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Dh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=Dh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Wi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!No(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw oi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const o=Vf.createAndSchedule(this,e,n,s,u=>this.Su(u));return this.Eu.push(o),o}pu(){this.Au&&Ne()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class bf extends Hu{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new vg,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vg(e),this._firestoreClient=void 0,await e}}}function tR(i,e){const n=typeof i=="object"?i:W0(),s=typeof i=="string"?i:"(default)",o=B0(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Mw("firestore");u&&JI(o,...u)}return o}function i_(i){if(i._terminated)throw new Re(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||nR(i),i._firestoreClient}function nR(i){var e,n,s;const o=i._freezeSettings(),u=function(d,g,y,E){return new ST(d,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,n_(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new WI(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Po(en.fromBase64String(e))}catch(n){throw new Re(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Po(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=/^__.*__$/;class iR{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oa(e,this.data,n,this.fieldTransforms)}}function o_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class Bf{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Bf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:s,Nu:!1});return o.Bu(e),o}Lu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Pu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(o_(this.Mu)&&rR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class sR{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||zu(e)}$u(e,n,s,o=!1){return new Bf({Mu:e,methodName:n,Ku:s,path:Zt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oR(i){const e=i._freezeSettings(),n=zu(i._databaseId);return new sR(i._databaseId,!!e.ignoreUndefinedProperties,n)}function aR(i,e,n,s,o,u={}){const h=i.$u(u.merge||u.mergeFields?2:0,e,n,o);c_("Data must be an object, but it was:",h,s);const d=l_(s,h);let g,y;if(u.merge)g=new mr(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const I=lR(e,S,n);if(!h.contains(I))throw new Re(te.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);cR(E,I)||E.push(I)}g=new mr(E),y=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=h.fieldTransforms;return new iR(new Qn(d),g,y)}function a_(i,e){if(u_(i=Ra(i)))return c_("Unsupported field value:",e,i),l_(i,e);if(i instanceof s_)return function(s,o){if(!o_(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let g=a_(d,o.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Ra(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return WT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ot.fromDate(s);return{timestampValue:Su(o.serializer,u)}}if(s instanceof Ot){const u=new Ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Su(o.serializer,u)}}if(s instanceof jf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Po)return{bytesValue:xy(o.serializer,s._byteString)};if(s instanceof gr){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Rf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof zf)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.qu("VectorValues must only contain numeric values.");return Tf(d.serializer,g)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${Ff(s)}`)}(i,e)}function l_(i,e){const n={};return ry(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(i,(s,o)=>{const u=a_(o,e.Ou(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function u_(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ot||i instanceof jf||i instanceof Po||i instanceof gr||i instanceof s_||i instanceof zf)}function c_(i,e,n){if(!u_(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Ff(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function lR(i,e,n){if((e=Ra(e))instanceof Uf)return e._internalPath;if(typeof e=="string")return h_(i,e);throw Pu("Field path arguments must be of type string or ",i,!1,void 0,n)}const uR=new RegExp("[~\\*/\\[\\]]");function h_(i,e,n){if(e.search(uR)>=0)throw Pu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Uf(...e.split("."))._internalPath}catch{throw Pu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Pu(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new Re(te.INVALID_ARGUMENT,d+i+g)}function cR(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(d_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hR extends f_{data(){return super.data()}}function d_(i,e){return typeof e=="string"?h_(i,e):e instanceof Uf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Re(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dR{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return xs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Pt(h.doubleValue));return new zf(u)}convertGeoPoint(e){return new jf(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Lu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Pa(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=vt.fromString(e);ot(My(s));const o=new xa(s.get(1),s.get(3)),u=new xe(s.popFirst(5));return o.isEqual(n)||oi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mR extends f_{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(d_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class hu extends mR{data(e={}){return super.data(e)}}class gR{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new nu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new hu(this._firestore,this._userDataWriter,s.key,s,new nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const g=new hu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new nu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const g=new hu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new nu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:yR(d.type),doc:g,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}class _R extends dR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,n)}}function vR(i){i=Au(i,qu);const e=Au(i.firestore,bf),n=i_(e),s=new _R(e);return fR(i._query),YI(n,i._query).then(o=>new gR(e,s,i,o))}function ER(i,e){const n=Au(i.firestore,bf),s=eR(i),o=pR(i.converter,e);return wR(n,[aR(oR(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then(()=>s)}function wR(i,e){return function(s,o){const u=new Wi;return s.asyncQueue.enqueueAndForget(async()=>OI(await QI(s),o,u)),u.promise}(i_(i),e)}(function(e,n=!0){(function(o){ko=o})(q0),yu(new Ca("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new bf(new oT(s.getProvider("auth-internal")),new cT(s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Re(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xa(y.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Eo(Om,"4.7.6",e),Eo(Om,"4.7.6","esm2017")})();const TR={apiKey:"AIzaSyC6zIcLTjESolnaYSaU4rRU95A4fc1f6Yk",authDomain:"pgishonimfaker.firebaseapp.com",projectId:"pgishonimfaker",storageBucket:"pgishonimfaker.appspot.com",messagingSenderId:"841092949549",appId:"1:841092949549:web:7d113de78ac0535737faa4",measurementId:"G-DL0YJL3PWD"},SR=Wg(TR),IR=tR(SR),p_=ZI(IR,"permits"),RR=async i=>{const e={name:i,time:Date.now()};console.log("Data to save:",e);try{await ER(p_,e)}catch(n){console.error("Error saving data:",n)}},CR=async()=>{try{return(await vR(p_)).docs.map(n=>n.data()).sort((n,s)=>s.time-n.time)}catch(i){console.error("Error fetching data:",i)}},AR=({time:i,name:e,setName:n,setOnNameEdit:s})=>{const[o,u]=q.useState(`Please wait ${i} seconds...`),[h,d]=q.useState(!1);q.useEffect(()=>{let y=i;const E=setInterval(()=>{u(()=>y>1?(y--,`Please wait ${y} seconds...`):(d(!0),clearInterval(E),"Submit"))},1e3);return()=>clearInterval(E)},[i]);const g=y=>{y.preventDefault(),e.trim()&&(RR(e),s(!1))};return ue.jsx("div",{className:"flex flex-col justify-center items-center h-screen bg-gray-100 gap-12",children:ue.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 w-80",children:ue.jsxs("form",{onSubmit:g,className:"space-y-4",children:[ue.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Enter your name"}),ue.jsx("input",{type:"text",value:e,onChange:y=>n(y.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-indigo-300"}),ue.jsx("button",{type:"submit",className:`w-full py-2 text-white rounded-lg ${h&&e.trim()?"bg-indigo-600 hover:bg-indigo-500 focus:outline-none":"bg-gray-400"}`,disabled:!h||!e.trim(),children:o})]})})})},PR="/assets/flag-CzlMZVOS.jpg",xR="/assets/home-Dzx5QTpF.png",kR="/assets/checkmark-rZ6HcBdl.png";function DR({name:i}){q.useEffect(()=>{let g;const y=()=>{clearTimeout(g),g=setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},70)};return window.addEventListener("scroll",y),()=>{clearTimeout(g),window.removeEventListener("scroll",y)}},[]);const e=new Date,n=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${String(e.getFullYear()).slice(2)}`,o=new Date().getHours(),u=o+2,h=`${String(o).padStart(2,"0")}:00`,d=`${String(u).padStart(2,"0")}:00`;return ue.jsxs(ue.Fragment,{children:[ue.jsx("div",{className:"flex justify-center items-center w-screen h-screen bg-[#173fa1] ariel",children:ue.jsxs("div",{className:"w-[90%] h-[95%] flex flex-col items-center gap-4 bg-[rgb(255,255,255,0.85)] rounded-[40px] overflow-hidden",children:[ue.jsxs("div",{className:"h-[50px] w-full mt-2 flex justify-between items-center",children:[ue.jsxs("div",{className:"flex justify-center items-center gap-3 ml-4",children:[ue.jsx("img",{className:"w-10 rounded-lg",src:PR,alt:"Flag"}),ue.jsx("h2",{className:"text-[17px] font-semibold",dir:"rtl",children:"שפה:"})]}),ue.jsx("img",{className:"w-8 rounded-lg mr-4",src:xR,alt:"home"})]}),ue.jsx("h2",{className:"text-[20px] font-bold",children:"הדפסת אישור יציאה"}),ue.jsxs("div",{className:"text-[16px] font-bold flex justify-between flex-row-reverse w-[90%]",children:[ue.jsxs("h2",{children:["תאריך: ",n]}),ue.jsxs("h2",{children:["שעת השחרור: ",h," - ",d]})]}),ue.jsxs("div",{className:"text-[16px] font-bold flex justify-between flex-row-reverse w-[90%]",children:[ue.jsxs("h2",{children:["שם התלמיד: ",i]}),ue.jsx("h2",{children:"כיתה : יב2"})]}),ue.jsxs("div",{className:"text-[16px] font-bold flex justify-between flex-row-reverse w-[90%]",children:[ue.jsx("h2",{children:"סיבה: חלון"}),ue.jsxs("h2",{children:["סטטוס :"," ",ue.jsx("span",{className:"bg-[#028851] text-[#fff] text-[14px] p-2 rounded-md",children:"אושר"})]})]}),ue.jsx("div",{className:"text-[16px] font-bold flex justify-between flex-row-reverse w-[90%]",children:ue.jsx("h2",{children:"מחזוריות: חד פעמי"})}),ue.jsxs("div",{className:"text-[16px] font-bold flex justify-between flex-row-reverse w-[90%]",children:[ue.jsx("h2",{children:"שעת יציאה: 00:00"}),ue.jsx("h2",{children:"שעת חזרה: 00:00"})]}),ue.jsx("div",{className:"w-[90%] h-[50px] bg-gradient-to-r from-[#01dbdd] to-[#193ea7] rounded-[15px] flex justify-center items-center",children:ue.jsx("h1",{className:"text-white text-[18px] font-bold",dir:"rtl",children:"עדכון יציאה מבית הספר!"})}),ue.jsx("div",{className:"h-[30%] flex justify-center items-center",children:ue.jsx("img",{className:"w-[45vw]",src:kR,alt:""})}),ue.jsx("div",{className:"text-[16px] font-bold ",children:ue.jsx("h2",{children:"אושר על ידי: מחנכת כיתה"})})]})}),ue.jsx("div",{className:"h-[30dvh] w-full bg-white"})]})}const NR=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],VR=({onWin:i})=>{const[e,n]=q.useState(Array(9).fill(null)),[s,o]=q.useState(null),[u,h]=q.useState(!0),d=S=>{for(const[I,P,V]of NR)if(S[I]&&S[I]===S[P]&&S[I]===S[V])return`${S[I]} wins`;return S.every(I=>I)?"Draw":null},g=(S,I)=>{const P=[...e];P[S]=I;const V=d(P);return n(P),o(V),V},y=S=>{if(!u||e[S]||s)return;g(S,"X")||h(!1)};q.useEffect(()=>{if(!u&&!s){const S=setTimeout(()=>{const I=e.map(($,j)=>$===null?j:null).filter($=>$!==null);if(I.length===0)return;const P=I[Math.floor(Math.random()*I.length)];g(P,"O")||h(!0)},1);return()=>clearTimeout(S)}},[u,e,s]),q.useEffect(()=>{s==="X wins"&&i()},[s,i]);const E=()=>{n(Array(9).fill(null)),o(null),h(!0)};return ue.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:ue.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[ue.jsx("h1",{className:"text-2xl font-semibold text-gray-800 text-center",children:"כדי להמשיך, תנצחו את המחשב באיקס עיגול"}),ue.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map((S,I)=>ue.jsx("button",{onClick:()=>y(I),className:"w-20 h-20 text-3xl font-bold border rounded shadow flex items-center justify-center bg-white hover:bg-gray-200",children:S},I))}),s&&ue.jsx("div",{className:"text-lg font-semibold text-gray-700",children:s}),s&&s!=="X wins"&&ue.jsx("button",{onClick:E,className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-500",children:"Try Again"})]})})},Eg=[{question:"תבחר את המספר שאני חושב עליו",options:["35","51","90","27"],answer:"51"},{question:"450 x 18",options:["2","9000","6700","8100"],answer:"8100"},{question:"מעבר חינם תלחצו על 3",options:["1","2","3","4"],answer:"2"},{question:"מהו צבע השמיים ביום בהיר",options:["אדום","ירוק","כחול","צהוב"],answer:"כחול"},{question:"מהו צבע הדם",options:["אדום","ירוק","כחול","צהוב"],answer:"אדום"},{question:"כמה יבשות יש בעולם",options:["5","6","7","8"],answer:"7"}],LR=({onWin:i})=>{const e=Eg.sort(()=>.5-Math.random()).slice(0,3),[n,s]=q.useState(0),[o,u]=q.useState(0),[h,d]=q.useState(null),[g,y]=q.useState(!1),[E,S]=q.useState(e),I=V=>{h||(d(V),V===E[n].answer&&u($=>$+1),setTimeout(()=>{d(null),n+1<E.length?s($=>$+1):(y(!0),o+(V===E[n].answer?1:0)>=2&&i())},800))},P=()=>{S(Eg.sort(()=>.5-Math.random()).slice(0,3)),s(0),u(0),d(null),y(!1)};return ue.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:ue.jsx("div",{className:"bg-white shadow-md rounded-lg p-6 w-[350px] text-center space-y-4",children:g?ue.jsxs(ue.Fragment,{children:[ue.jsx("h2",{className:"text-xl font-semibold",children:"Quiz Over"}),ue.jsxs("p",{className:"text-gray-700",children:["You scored ",o," / 3"]}),o<3&&ue.jsx("button",{onClick:P,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-500",children:"Try Again"})]}):ue.jsxs(ue.Fragment,{children:[ue.jsxs("h2",{className:"text-lg font-semibold",children:["Question ",n+1," of ",E.length]}),ue.jsx("p",{className:"text-gray-800 font-medium",children:E[n].question}),ue.jsx("div",{className:"grid grid-cols-1 gap-2",children:E[n].options.map(V=>ue.jsx("button",{onClick:()=>I(V),className:`py-2 px-4 rounded border transition-all ${h?V===E[n].answer?"bg-green-400 text-white":V===h?"bg-red-400 text-white":"bg-gray-100":"hover:bg-indigo-100 bg-gray-50"}`,disabled:!!h,children:V},V))})]})})})};function MR(){const[i,e]=q.useState(""),[n,s]=q.useState(!0),[o,u]=q.useState(!1),[h,d]=q.useState(null),g=()=>{const y=Math.random()<.5?"ticTacToe":"miniQuiz";d(y),u(!1)};return n?ue.jsx(AR,{time:1,name:i,setName:e,setOnNameEdit:y=>{s(y),y||g()}}):!o&&h?h==="ticTacToe"?ue.jsx(VR,{onWin:()=>u(!0)}):ue.jsx(LR,{onWin:()=>u(!0)}):ue.jsx(DR,{name:i})}const OR=()=>{const[i,e]=q.useState([]);return q.useEffect(()=>{(async()=>{const s=await CR();e(s??[])})()},[]),ue.jsxs(ue.Fragment,{children:[ue.jsxs("div",{className:"w-screen h-[40vh] flex flex-col justify-center items-center content-center",children:[ue.jsx("h1",{className:"text-[3.5rem] text-gray-600 font-bold",children:":סטטיסטיקות"}),ue.jsxs("h1",{className:"text-3xl text-gray-500 font-bold",children:["אישורים שנוצרו: ",i.length]})]}),ue.jsx("div",{className:"w-screen flex flex-col justify-center items-center gap-4 mb-16",children:i.map(n=>ue.jsxs("div",{className:"flex flex-row-reverse justify-between w-[80%] py-4 px-4 bg-gray-200 border-gray-300 border-[2px] rounded-xl",children:[ue.jsx("p",{children:n.name}),ue.jsx("p",{children:new Date(n.time).toLocaleString()})]},n.time))})]})},FR=()=>ue.jsxs("div",{className:"w-screen h-screen flex flex-col justify-center items-center content-center",children:[ue.jsx("h1",{className:"text-[5rem] text-red-600 font-bold",children:"404!"}),ue.jsx("h1",{className:"text-3xl text-red-600 font-bold",children:"Page not found..."}),ue.jsx(pf,{to:"/",className:"mt-16",children:ue.jsx("div",{className:"bg-gray-300 py-4 px-6 rounded-xl",children:"Go Back"})})]}),bR=fw([{path:"/",element:ue.jsx(MR,{}),errorElement:ue.jsx(FR,{})},{path:"/stats",element:ue.jsx(OR,{})}]);Iv.createRoot(document.getElementById("root")).render(ue.jsx(q.StrictMode,{children:ue.jsx(Rw,{router:bR})}));
